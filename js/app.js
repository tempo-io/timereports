"use strict";function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function CsvView(e){this.allIssues=e}function ExcelView(e){this.allIssues=e}function HtmlView(e){this.allIssues=e}function PivotColumn(e){this.columnKey=e,this.sum=0,this.detailsNum=0,this.entries=[],this.value=null}function PivotEntry(e,t,i){this.rowKey=e,this.columnKey=t,this.columnKeys=[t],this.value=i,this.values={},t&&t.keyValue&&(this.values[t.keyValue]=i)}function WorkedTimePivotEntry(e,t,i){PivotEntry.apply(this,[e,t,i?i.timeSpentSeconds:0]),this.worklog=i}function EmptyPivotEntry(e){this.rowKey=e,this.columnKey={},this.columnKeys=[],this.values={}}function KeyComparator(e,t){if(null==e&&null==t)return 0;if(null==e)return 1;if(null==t)return-1;var i=e.split("-"),n=t.split("-");if(1===i.length&&1===n.length){var r=parseInt(i[0]),a=parseInt(n[0]),o=r-a;return o}if(1===i.length)return 1;if(1===n.length)return-1;for(var s=i[0],l=n[0],u=0;u<s.length&&u<l.length&&!o;u++)o=s.charCodeAt(u)-l.charCodeAt(u);if(o)return o;var o=s.length-l.length;if(o)return o;var r=parseInt(i[1]),a=parseInt(n[1]),o=r-a;return o}function isDate(e){return"[object Date]"===Object.prototype.toString.call(e)}function StringComparator(e,t){return null==e&&null==t?0:null==e?1:null==t?-1:e.localeCompare(t)}function DateComparator(e,t){return null==e&&null==t?0:null==e?1:null==t?-1:e.getTime()-t.getTime()}function NumberComparator(e,t){return null==e&&null==t?0:null==e?1:null==t?-1:e-t}function PivotRow(e){this.rowKey=e,this.columns={},this.sum=0,this.num=0,this.detailsNum=0,this._issueKeys=[],this.data=[]}function WorkedTimePivotStrategy(e,t,i){this.rowKeyClass=e,this.columnKeyClass=t,this.options=WorkedTimePivotStrategy.getStrategyOptions(i),this.configOptions=i.configOptions}function LabelPivotStrategy(e,t,i){this.rowKeyClass=e,this.columnKeyClass=t,this.options=LabelPivotStrategy.getStrategyOptions(i),this.configOptions=i.configOptions}function TimeEntryStrategy(e,t){this.rowKeyClass=e,this.options={startDate:t.startDate,endDate:t.endDate,worklogAuthors:[t.user],includeEmpty:t.includeEmpty,orderByField:t.orderByField,userInfos:t.userInfos},this.configOptions=t.configOptions}function IssueTimeStrategy(e,t){this.rowKeyClass=e,this.options={startDate:t.startDate,endDate:t.endDate,loggedInUser:t.loggedInUser,userInfos:t.userInfos},t.user&&(this.options.worklogAuthors=[t.user]),t.restrictedProjects&&(this.restrictedProjects=t.restrictedProjects),this.configOptions=t.configOptions}function getElapsedTimeEntriesFn(e){return function(t){var i=this,n=function(t,n){var r=[],a=!i.configOptions.preserveStartedTime&&t.fields.creator&&t.fields.creator.timeZone,o=new i.rowKeyClass(n,null,i.options),s=moment(i.options.startDate).unix(),l=moment(TimesheetUtils.convertDate(t.fields.created,a)).unix(),u=new Date(1e3*Math.max(s,l)),d=TimesheetUtils.addDays(i.options.endDate,1).getTime();i.configOptions.workingTimeInStatus.from&&i.configOptions.workingTimeInStatus.to&&(d-=1);for(var c=new Date(Math.min(d,Date.now())),m={workDate:u,timeSpentSeconds:PivotKey.getTimeInStatus(u,c,i.configOptions)},p=PivotKey.getStatusKeysEx(m,t,i.configOptions,e(t,i.configOptions)),h=u.getTime(),f=0;f<p.length;f++){var g=new PivotEntry(o,p[f].key,p[f].timespent),y=moment(p[f].key.fromDate||h).format(TimesheetUtils.dateTimeFormat),v=p[f].key.statusDate,_=new Date(Math.min(v,c.getTime())),w=moment(_).format(TimesheetUtils.dateTimeFormat);g.worklog={_issue:t.key!==n.key?t:null,comment:y+" - "+w+(p[f].key.assignee?" ("+p[f].key.assignee+")":""),workDate:h,toDate:_,author:g.columnKey.author,timeSpentSeconds:g.value},r.push(g),h=v}return r},r=n(t,t);return t._subTasks&&t._subTasks.length>0&&t._subTasks.forEach(function(e){r=r.concat(n(e,t))}),r}}function PassedTimePivotStrategy(e,t,i){this.rowKeyClass=e,this.columnKeyClass=t,this.options=WorkedTimePivotStrategy.getStrategyOptions(i),this.configOptions=i.configOptions,i.timeInStatusCategories&&(this.configOptions.timeInStatusCategories=i.timeInStatusCategories.map(function(e){return""+e})),delete this.configOptions.startedTimeInStatus}function ResolutionTimePivotStrategy(e,t,i){this.rowKeyClass=e,this.columnKeyClass=t,this.options=WorkedTimePivotStrategy.getStrategyOptions(i),this.configOptions=i.configOptions,delete this.configOptions.startedTimeInStatus}function TimeTrackingStrategy(e,t,i){this.rowKeyClass=e,this.columnKeyClass=t,this.options={timeTrackingColumns:i.timeTrackingColumns,groupByField:i.groupByField,groupByFieldObject:i.groupByFieldObject,categorizeByField:i.categorizeByField,categorizeByFieldObject:i.categorizeByFieldObject,orderByField:i.orderByField,userInfos:i.userInfos},this.configOptions=i.configOptions}function TimeBalanceStrategy(e,t,i){this.rowKeyClass=e,this.columnKeyClass=t,this.options={timeBalanceColumns:i.timeBalanceColumns,sumSubTasks:i.sumSubTasks,groupByField:i.groupByField,groupByFieldObject:i.groupByFieldObject,categorizeByField:i.categorizeByField,categorizeByFieldObject:i.categorizeByFieldObject,orderByField:i.orderByField,userInfos:i.userInfos,loggedInUser:i.loggedInUser},i.startDate&&(this.options.startDate=moment(i.startDate).toDate()),i.endDate&&(this.options.endDate=TimesheetUtils.addDays(i.endDate,1)),this.configOptions=i.configOptions,i.changelogAuthors?this.options.changelogAuthors=i.changelogAuthors:i.user&&(this.options.changelogAuthors=[i.user])}function TimespentStrategy(e,t,i){this.rowKeyClass=e,this.columnKeyClass=t,this.options=TimespentStrategy.getStrategyOptions(i),this.configOptions=i.configOptions}function CostStrategy(e,t,i){var n=this;TimespentStrategy.call(this,e,t,i),this.options.hourlyRates=i.hourlyRates;var r=function(e,t){var i=Object.keys(e).sort(),n=null;return i.forEach(function(e){if(!(moment(t)>=moment(e||1)))return n;n=e}),n};this.getRate=function(e){if(n.options.hourlyRates[e.author.accountId]){var t=r(n.options.hourlyRates[e.author.accountId],e.started);if(null!=t)return n.options.hourlyRates[e.author.accountId][t]}if(n.options.hourlyRates[""]){var t=r(n.options.hourlyRates[""],e.started);if(null!=t)return n.options.hourlyRates[""][t]}return 0}}function CalendarStrategy(e,t,i){this.rowKeyClass=e,this.columnKeyClass=t,this.options={reportingDay:null==i.reportingDay?moment.localeData().firstDayOfWeek():i.reportingDay,groupByField:"workedweek",groupByFieldObject:TimesheetUtils.FIELDS.WORKED_WEEK_FIELD},i.showWeekends&&(this.options.showWeekends=i.showWeekends),i.startDate&&(this.options.startDate=moment(i.startDate).toDate()),i.endDate&&(this.options.endDate=moment(i.endDate).toDate()),i.worklogAuthors?this.options.worklogAuthors=i.worklogAuthors:i.user&&(this.options.worklogAuthors=[i.user]),i.restrictedProjects&&(this.options.restrictedProjects=i.restrictedProjects),this.options.loggedInUser=i.loggedInUser,this.configOptions=i.configOptions}function PivotTable(e,t){this.pivotStrategy=e,this.rows={},this._sortedRows=null,this._sortedColumns=null,this.totals={},this.sum=0,this.num=0,this.detailsNum=0,this.pivotStrategy.getColumnsFunction&&(this.totals=this.pivotStrategy.getColumnsFunction()),this.logger=t}function TimesheetStrategy(e,t,i){this.rowKeyClass=e,this.columnKeyClass=t,this.options=TimesheetStrategy.getStrategyOptions(i),this.configOptions=i.configOptions}function GadgetSummary(e,t,i,n){var r=function(t,i){for(var n=[],r=0;r<e.length;r++)e[r].key!==t||null!=i&&i!==/[^.]*$/.exec(e[r].label)[0]||n.push(e[r]);return n},a=function(e){for(var t="",i=0;i<e.length;i++)t.length>0&&(t+=", "),t+=e[i].labelParam;return t},o=function(e,t){return{text:e,styleClass:t}};this.getSummaryItems=function(){var e=[];e.push(o(n["Summary "],"grey"));var s=a(r("allUsers")),l=a(r("group")),u=a(r("excludeGroup")),d=a(r("filterOrProjectId","project")),c=a(r("filterOrProjectId","filter")),m=a(r("startDate")),p=a(r("endDate")),h=a(r("groupByField")),f=a(r("categorizeByField"));return s&&["Timesheet","Calendar","PieChart"].indexOf(i)>=0||!t&&!l?e.push(o(n["for all users"],"grey")):l?(e.push(o(n["for groups"],"grey")),e.push(o(l))):t&&(e.push(o(n["for user"],"grey")),e.push(o(t.displayName))),u&&(e.push(o(n["exclude groups"],"grey")),e.push(o(u))),d?(e.length>1?e.push(o(n.and,"grey")):e.push(o(n.for,"grey")),e.push(o(n["project "],"grey")),e.push(o(d))):"IssueTime"===i||!c&&["Timesheet","PieChart"].indexOf(i)<0&&(e.length>1?e.push(o(n.and,"grey")):e.push(o(n.for,"grey")),e.push(o(n["all projects"]))),c&&(e.length>1&&e.push(o(n.and,"grey")),e.push(o(n.filter,"grey")),e.push(o(c))),h&&(e.push(o(n["grouped by"],"grey")),e.push(o(h))),f&&(e.push(o(n["categorized by"],"grey")),e.push(o(f))),m&&(e.push(o(n.from,"grey")),e.push(o(m))),p&&(e.push(o(n.to,"grey")),e.push(o(p))),e}}function TimesheetSelectOptions(e,t,i,n){this.options=[],this.optionClass=e,this.sortableProperty=null!=i?i:"label",this.selected=null!=t?t:"",this.sections=n}function TimesheetGeneralOption(e,t,i){this.label=e,this.id=t,this.section=i}var app=angular.module("timesheetApp",["appBase","xeditable","focus-if"]);app.run(["editableOptions","editableThemes",function(e,t){e.theme="aui",t.aui={formTpl:'<form class="aui"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="inline-edit-fields" tabindex="1"><div class="field-group"></div></div>',inputTpl:"",errorTpl:'<div class="editable-error" ng-show="$error" ng-bind="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button class="aui-button submit" accesskey="s" type="submit" title="Press Alt+s to submit this form"><span class="aui-icon aui-icon-small aui-iconfont-success">Save</span></button>',cancelTpl:'<button class="aui-button cancel" type="cancel" ng-click="$form.$cancel()" title="Press Alt+` to cancel"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog">Cancel</span></button>',buttonsClass:"",inputClass:"text long-field",postrender:function(){switch(this.directiveName){case"editableText":case"editableSelect":case"editableTextarea":case"editableEmail":case"editableTel":case"editableNumber":case"editableUrl":case"editableSearch":case"editableDate":case"editableDatetime":case"editableTime":case"editableMonth":case"editableWeek":if(this.inputEl.addClass("form-control"),this.theme.inputClass){if(this.inputEl.attr("multiple")&&("input-sm"===this.theme.inputClass||"input-lg"===this.theme.inputClass))break;this.inputEl.addClass(this.theme.inputClass)}}this.buttonsEl&&this.theme.buttonsClass&&this.buttonsEl.find("button").addClass(this.theme.buttonsClass)}}}]),app.config(["$routeProvider","$windowProvider",function(e,t){var i=t.$get();e.when("/",{controller:i.mainController||"TimesheetController",templateUrl:i.mainTemplate||"/templates/main.html",resolve:{loggedInUser:["loggedInUser",function(e){return e}],projectKey:["projectKey",function(e){return e}],jql:["jql",function(e){return e}],externalFilter:["externalFilter",function(e){return e}],timesheetParams:["timesheetParams",function(e){return e}],flightRecorder:["flightRecorder",function(e){return e}],translations:["translations",function(e){return e}],userConfiguration:["loggedInUser","configurationService",function(e,t){return e.then(t.getUserConfiguration.bind(t))}]}}).otherwise({redirectTo:"/"})}]),app.run(["$templateRequest","$window",function(e,t){if(t.b){var i=t.b,n=["/templates/header.html"+i,"/templates/main.html"+i,"/templates/slider.html"+i,"/templates/menu.html"+i,"/templates/dialogs/updateWorklog.html","/templates/dialogs/remainingEstimate.html","/templates/dialogs/deleteWorklog.html","/templates/dialogs/userPreferences.html"+i,"/templates/dialogs/hourlyRates.html"+i,"/templates/popups/addWorklog.html"+i,"/templates/popups/editWorklog.html"+i];t.isTimesheet&&n.push("/templates/popups/subscribe.html"+i),n.forEach(function(t){e(t,!0)})}}]),app.factory("translations",["$i18n","$q","$rootScope",function(e,t,i){e.loadTranslation(e.language);var n=t.defer();return i.$on("i18n.file.loaded",function(e,t,i,r){n.resolve(r)}),n.promise}]),app.factory("translationsSync",["translations",function(e){var t={};return e.then(function(e){angular.extend(t,e)}),t}]),function(){function e(e){return i(n(e),arguments)}function t(t,i){return e.apply(null,[t].concat(i||[]))}function i(t,i){var n,a,o,s,l,u,d,c,m,p=1,h=t.length,f="";for(a=0;a<h;a++)if("string"==typeof t[a])f+=t[a];else if("object"==typeof t[a]){if(s=t[a],s.keys)for(n=i[p],o=0;o<s.keys.length;o++){if(void 0==n)throw new Error(e('[sprintf] Cannot access property "%s" of undefined value "%s"',s.keys[o],s.keys[o-1]));n=n[s.keys[o]]}else n=s.param_no?i[s.param_no]:i[p++];if(r.not_type.test(s.type)&&r.not_primitive.test(s.type)&&n instanceof Function&&(n=n()),r.numeric_arg.test(s.type)&&"number"!=typeof n&&isNaN(n))throw new TypeError(e("[sprintf] expecting number but found %T",n));switch(r.number.test(s.type)&&(c=n>=0),s.type){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,s.width?parseInt(s.width):0);break;case"e":n=s.precision?parseFloat(n).toExponential(s.precision):parseFloat(n).toExponential();break;case"f":n=s.precision?parseFloat(n).toFixed(s.precision):parseFloat(n);break;case"g":n=s.precision?String(Number(n.toPrecision(s.precision))):parseFloat(n);break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=s.precision?n.substring(0,s.precision):n;break;case"t":n=String(!!n),n=s.precision?n.substring(0,s.precision):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=s.precision?n.substring(0,s.precision):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=s.precision?n.substring(0,s.precision):n;break;case"x":n=(parseInt(n,10)>>>0).toString(16);break;case"X":n=(parseInt(n,10)>>>0).toString(16).toUpperCase()}r.json.test(s.type)?f+=n:(!r.number.test(s.type)||c&&!s.sign?m="":(m=c?"+":"-",n=n.toString().replace(r.sign,"")),u=s.pad_char?"0"===s.pad_char?"0":s.pad_char.charAt(1):" ",d=s.width-(m+n).length,l=s.width&&d>0?u.repeat(d):"",f+=s.align?m+n+l:"0"===u?m+l+n:l+m+n)}return f}function n(e){if(a[e])return a[e];for(var t,i=e,n=[],o=0;i;){if(null!==(t=r.text.exec(i)))n.push(t[0]);else if(null!==(t=r.modulo.exec(i)))n.push("%");else{if(null===(t=r.placeholder.exec(i)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){o|=1;var s=[],l=t[2],u=[];if(null===(u=r.key.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(s.push(u[1]);""!==(l=l.substring(u[0].length));)if(null!==(u=r.key_access.exec(l)))s.push(u[1]);else{if(null===(u=r.index_access.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");s.push(u[1])}t[2]=s}else o|=2;if(3===o)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n.push({placeholder:t[0],param_no:t[1],keys:t[2],sign:t[3],pad_char:t[4],align:t[5],width:t[6],precision:t[7],type:t[8]})}i=i.substring(t[0].length)}return a[e]=n}var r={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/},a=Object.create(null);"undefined"!=typeof exports&&(exports.sprintf=e,exports.vsprintf=t),"undefined"!=typeof window&&(window.sprintf=e,window.vsprintf=t,"function"==typeof define&&define.amd&&define(function(){return{sprintf:e,vsprintf:t}}))}();var LZString=function(){function e(e,t){if(!r[e]){r[e]={};for(var i=0;i<e.length;i++)r[e][e.charAt(i)]=i}return r[e][t]}var t=String.fromCharCode,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={},a={compressToBase64:function(e){if(null==e)return"";var t=a._compress(e,6,function(e){return i.charAt(e)});switch(t.length%4){default:case 0:return t;case 1:return t+"===";case 2:return t+"==";case 3:return t+"="}},decompressFromBase64:function(t){return null==t?"":""==t?null:a._decompress(t.length,32,function(n){return e(i,t.charAt(n))})},compressToUTF16:function(e){return null==e?"":a._compress(e,15,function(e){return t(e+32)})+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:a._decompress(e.length,16384,function(t){return e.charCodeAt(t)-32})},compressToUint8Array:function(e){for(var t=a.compress(e),i=new Uint8Array(2*t.length),n=0,r=t.length;n<r;n++){var o=t.charCodeAt(n);i[2*n]=o>>>8,i[2*n+1]=o%256}return i},decompressFromUint8Array:function(e){if(null===e||void 0===e)return a.decompress(e);for(var i=new Array(e.length/2),n=0,r=i.length;n<r;n++)i[n]=256*e[2*n]+e[2*n+1];var o=[];return i.forEach(function(e){o.push(t(e))}),a.decompress(o.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":a._compress(e,6,function(e){return n.charAt(e)})},decompressFromEncodedURIComponent:function(t){return null==t?"":""==t?null:(t=t.replace(/ /g,"+"),a._decompress(t.length,32,function(i){return e(n,t.charAt(i))}))},compress:function(e){return a._compress(e,16,function(e){return t(e)})},_compress:function(e,t,i){if(null==e)return"";var n,r,a,o={},s={},l="",u="",d="",c=2,m=3,p=2,h=[],f=0,g=0;for(a=0;a<e.length;a+=1)if(l=e.charAt(a),Object.prototype.hasOwnProperty.call(o,l)||(o[l]=m++,s[l]=!0),u=d+l,Object.prototype.hasOwnProperty.call(o,u))d=u;else{if(Object.prototype.hasOwnProperty.call(s,d)){if(d.charCodeAt(0)<256){for(n=0;n<p;n++)f<<=1,g==t-1?(g=0,h.push(i(f)),f=0):g++;for(r=d.charCodeAt(0),n=0;n<8;n++)f=f<<1|1&r,g==t-1?(g=0,h.push(i(f)),f=0):g++,r>>=1}else{for(r=1,n=0;n<p;n++)f=f<<1|r,g==t-1?(g=0,h.push(i(f)),f=0):g++,r=0;for(r=d.charCodeAt(0),n=0;n<16;n++)f=f<<1|1&r,g==t-1?(g=0,h.push(i(f)),f=0):g++,r>>=1}c--,0==c&&(c=Math.pow(2,p),p++),delete s[d]}else for(r=o[d],n=0;n<p;n++)f=f<<1|1&r,g==t-1?(g=0,h.push(i(f)),f=0):g++,r>>=1;c--,0==c&&(c=Math.pow(2,p),p++),o[u]=m++,d=String(l)}if(""!==d){if(Object.prototype.hasOwnProperty.call(s,d)){if(d.charCodeAt(0)<256){for(n=0;n<p;n++)f<<=1,g==t-1?(g=0,h.push(i(f)),f=0):g++;for(r=d.charCodeAt(0),n=0;n<8;n++)f=f<<1|1&r,g==t-1?(g=0,h.push(i(f)),f=0):g++,r>>=1}else{for(r=1,n=0;n<p;n++)f=f<<1|r,g==t-1?(g=0,h.push(i(f)),f=0):g++,r=0;for(r=d.charCodeAt(0),n=0;n<16;n++)f=f<<1|1&r,g==t-1?(g=0,h.push(i(f)),f=0):g++,r>>=1}c--,0==c&&(c=Math.pow(2,p),p++),delete s[d]}else for(r=o[d],n=0;n<p;n++)f=f<<1|1&r,g==t-1?(g=0,h.push(i(f)),f=0):g++,r>>=1;c--,0==c&&(c=Math.pow(2,p),p++)}for(r=2,n=0;n<p;n++)f=f<<1|1&r,g==t-1?(g=0,h.push(i(f)),f=0):g++,r>>=1;for(;;){if(f<<=1,g==t-1){h.push(i(f));break}g++}return h.join("")},decompress:function(e){return null==e?"":""==e?null:a._decompress(e.length,32768,function(t){return e.charCodeAt(t)})},_decompress:function(e,i,n){var r,a,o,s,l,u,d,c=[],m=4,p=4,h=3,f="",g=[],y={val:n(0),position:i,index:1};for(r=0;r<3;r+=1)c[r]=r;for(o=0,l=Math.pow(2,2),u=1;u!=l;)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=i,y.val=n(y.index++)),o|=(s>0?1:0)*u,u<<=1;switch(o){case 0:for(o=0,l=Math.pow(2,8),u=1;u!=l;)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=i,y.val=n(y.index++)),o|=(s>0?1:0)*u,u<<=1;d=t(o);break;case 1:for(o=0,l=Math.pow(2,16),u=1;u!=l;)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=i,y.val=n(y.index++)),o|=(s>0?1:0)*u,u<<=1;d=t(o);break;case 2:return""}for(c[3]=d,a=d,g.push(d);;){if(y.index>e)return"";for(o=0,l=Math.pow(2,h),u=1;u!=l;)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=i,y.val=n(y.index++)),o|=(s>0?1:0)*u,u<<=1;switch(d=o){case 0:for(o=0,l=Math.pow(2,8),u=1;u!=l;)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=i,y.val=n(y.index++)),o|=(s>0?1:0)*u,u<<=1;c[p++]=t(o),d=p-1,m--;break;case 1:for(o=0,l=Math.pow(2,16),u=1;u!=l;)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=i,y.val=n(y.index++)),o|=(s>0?1:0)*u,u<<=1;c[p++]=t(o),d=p-1,m--;break;case 2:return g.join("")}if(0==m&&(m=Math.pow(2,h),h++),c[d])f=c[d];else{if(d!==p)return null;f=a+a.charAt(0)}g.push(f),c[p++]=a+f.charAt(0),m--,a=f,0==m&&(m=Math.pow(2,h),h++)}}};return a}();"function"==typeof define&&define.amd?define(function(){return LZString}):"undefined"!=typeof module&&null!=module&&(module.exports=LZString);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Math.sign||(Math.sign=function(e){return(e>0)-(e<0)||+e});var DrawHelper={composeTooltip:function(e,t,i,n){return'<table cellspacing="2px" cellpadding="2px"><tr>'+this.prepareHtmlForIcons(i,e,"<br/>")+"<td>"+this.prepareLinkForItem(i,e,n)+"<br/>"+Math.round(t.percent)+"%</td></tr></table>"},composeLegendTooltip:function(e,t,i,n,r){var a=this.getTooltipHint(this.getDataItemByLabel(i,e));return"<table><tr>"+this.prepareHtmlForIcons(i,e,"")+"<td>"+this.prepareLinkForItem(i,e)+(a?"&nbsp;"+this.truncate(a,r):"")+"&nbsp;("+this.getFormattedTime(this.sumArrayData(t.data),n)+")</td></tr></table>"},sumArrayData:function(e){for(var t=0,i=0;i<e.length;i++)t+=e[i][1];return t},prepareHtmlForIcons:function(e,t,i){var n=this.getTooltipIcons(e,t),r="";if(null!=n&&n.length>0){r+="<td style='width:"+(""===i?16*n.length:16)+"px; white-space: nowrap'>";for(var a=0;a<n.length;a++)0!==a&&(r+=i),r+='<img src="'+n[a].url+'" title="'+this.escapeHtml(n[a].title)+'" height="16"/>';r+="</td>"}return r},truncate:function(e,t){var i=t?20:45;return e.length>i?'<span title="'+this.escapeHtml(e)+'">'+this.escapeHtml(e.substring(0,i))+"</span>":this.escapeHtml(e)},prepareLinkForItem:function(e,t,i){var n=this.getDataItemByLabel(e,t),r=this.getTooltipUrl(n);if(r&&n){var a=this.getTooltipHint(n),o=this.getResolutionCss(n.link);return this.getMasterUrlHtml(n)+this.getLinkHtml(r,a,n.link.label,o)}return"string"==typeof t?this.truncate(t,i):t},getTooltipIcons:function(e,t){var i=this.getDataItemByLabel(e,t);return null!=i?i.icons:null},getDataItemByLabel:function(e,t){for(var i=0;i<e.length;i++)if(e[i].label===t)return e[i];return null},getTooltipUrl:function(e){return null!=e&&null!=e.link?e.link.url:"#"},getTooltipHint:function(e){return null!=e&&e.link&&null!=e.link.hint?e.link.hint:""},getLinkHtml:function(e,t,i,n){return'<a title="'+this.escapeHtml(t)+'" href="'+e+(n?'" class="'+n:"")+'" target="_parent">'+this.escapeHtml(i)+"</a>"},getMasterUrlHtml:function(e){if(null!=e){var t=e.masterLink;if(null!=t)return this.getLinkHtml(t.url,t.hint,t.label,"parentIssue2 "+this.getResolutionCss(t))}return""},getResolutionCss:function(e){return null!=e.resolution?"fixed":""},getFormattedTime:function(e,t,i,n){switch(t.timeFormat){case"pretty":return this.prettyDuration(e,t,i,n);case"d":return this.formatDecimal(e/(3600*(i?24:parseFloat(t.workingHoursPerDay))),t.maxFractionDigits)+"d";case"m":return this.formatDecimal(e/60,t.maxFractionDigits)+"m";default:return this.formatDecimal(e/3600,t.maxFractionDigits)+"h"}},formatDecimal:function(e,t){return parseFloat(e.toFixed(t||2)).toLocaleString()},isResolvedIssue:function(e){return null!=e&&null!=e.resolution},prettyDuration:function(e,t,i,n){var r=parseInt(e)||0,a=Math.abs(r),o=Math.sign(r),s=3600*(i?24:parseFloat(t.workingHoursPerDay)),l=(i?7:parseFloat(t.workingDaysPerWeek))*s,u=4*l,d=12*u,c=[];if(a>=d&&!n){var m=Math.floor(a/d);c.push(o*m+"y"),a-=m*d,o*=o}if(a>=u&&!n){var p=Math.floor(a/u);c.push(o*p+"m"),a-=p*u,o*=o}if(a>=l){var h=Math.floor(a/l);c.push(o*h+"w"),a-=h*l,o*=o}if(a>=s){var f=Math.floor(a/s);a-=f*s,c.push(o*f+"d"),o*=o}if(a>=3600){var g=Math.floor(a/3600);c.push(o*g+"h"),a-=3600*g,o*=o}if(a>=60||0===c.length){var y=Math.floor(a/60);c.push(o*y+"m"),a-=60*y,o*=o}return c.join(" ")},buildLabel:function(e,t){if(e.indexOf(" 00:00:00 ")>0&&(e=e.replace(" 00:00:00 ","")),t.rowKey.project){var i=t.rowKey.project;i.name&&i.key&&(e=e.replace(i.name,i.key))}return e},escapeHtml:function(e){return e&&"&nbsp;"!==e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):e}};"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports=DrawHelper),function(e,t){"function"==typeof define&&define.amd?define("stackframe",[],t):"object"==typeof exports?module.exports=t():e.StackFrame=t()}(this,function(){function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e){return e.charAt(0).toUpperCase()+e.substring(1)}function i(e){return function(){return this[e]}}function n(e){if(e)for(var i=0;i<l.length;i++)void 0!==e[l[i]]&&this["set"+t(l[i])](e[l[i]])}var r=["isConstructor","isEval","isNative","isToplevel"],a=["columnNumber","lineNumber"],o=["fileName","functionName","source"],s=["args"],l=r.concat(a,o,s);n.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof n)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new n(e)}},toString:function(){var e=this.getFileName()||"",t=this.getLineNumber()||"",i=this.getColumnNumber()||"",n=this.getFunctionName()||"";return this.getIsEval()?e?"[eval] ("+e+":"+t+":"+i+")":"[eval]:"+t+":"+i:n?n+" ("+e+":"+t+":"+i+")":e+":"+t+":"+i}},n.fromString=function(e){var t=e.indexOf("("),i=e.lastIndexOf(")"),r=e.substring(0,t),a=e.substring(t+1,i).split(","),o=e.substring(i+1);if(0===o.indexOf("@"))var s=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(o,""),l=s[1],u=s[2],d=s[3];return new n({functionName:r,args:a||void 0,fileName:l,lineNumber:u||void 0,columnNumber:d||void 0})};for(var u=0;u<r.length;u++)n.prototype["get"+t(r[u])]=i(r[u]),n.prototype["set"+t(r[u])]=function(e){return function(t){this[e]=Boolean(t)}}(r[u]);for(var d=0;d<a.length;d++)n.prototype["get"+t(a[d])]=i(a[d]),n.prototype["set"+t(a[d])]=function(t){return function(i){if(!e(i))throw new TypeError(t+" must be a Number");this[t]=Number(i)}}(a[d]);for(var c=0;c<o.length;c++)n.prototype["get"+t(o[c])]=i(o[c]),n.prototype["set"+t(o[c])]=function(e){return function(t){this[e]=String(t)}}(o[c]);return n}),app.directive("issueField",["$compile","applicationLoggingService",function(e,t){return{restrict:"E",scope:{field:"=",name:"=",issue:"=",once:"=",jiraConfig:"=",allFields:"="},link:function(i,n){var r,a=function(e){return["aggregatetimeoriginalestimate","aggregatetimeestimate","aggregatetimespent","timeoriginalestimate","timeestimate","timespent","originalestimateremaining"].indexOf(e)>=0},o=/com\.atlassian\.greenhopper\.service\.sprint\.Sprint@[\d\w]+\[([\s\S]*)?\]/,s=function n(s){if(angular.isObject(s)&&s.hasOwnProperty("name"))return s.name;if(angular.isObject(s)&&s.hasOwnProperty("value"))return s.value+(s.hasOwnProperty("child")?":"+n(s.child):"");if(angular.isObject(s)&&s.hasOwnProperty("key")){var l=i.$new();return l.issueField=s,l.hostBaseUrl=i.$parent.hostBaseUrl,e('<issue-key issue="issueField" show-summary="'+(["parent","issue"].indexOf(i.name)>=0)+'"/>')(l)}if(angular.isObject(s)&&s.hasOwnProperty("hasEpicLinkFieldDependency"))return s.showField&&s.data?s.data.key:"&nbsp;";if(angular.isObject(s)&&s.hasOwnProperty("requestType"))return s.requestType.name;if(angular.isObject(s)&&s.hasOwnProperty("weekNumber"))return"Week "+s.weekNumber;if(angular.isString(s)&&(r=s.match(o))){t.trace("Sprint field",r[1]);for(var u=r[1].split(","),d=0;d<u.length;d++){var c=u[d];if(t.trace("Sprint field split",c),0===c.indexOf("name="))return c.substr(5)}return"&nbsp;"}return a(i.name)?DrawHelper.getFormattedTime(s,i.jiraConfig):"<span>"+(angular.isString(s)?s.replace(/</g,"&lt;"):s)+"</span>"};if(i.once&&"number"==typeof i.field){var l=i.issue.key+"/"+i.name,u=i.once.showOnce;if(u||(u=i.once.showOnce=[]),!(u.indexOf(l)<0))return;u.push(l)}var d;if(i.field)if(/\/rest\/api(\/\d+)\/user/.test(i.field.self)){var c;if(i.$parent.isGadget||n.injector().modules.serverApp){var m=angular.copy(i.$parent.reportParamsObject);delete m.allUsers,delete m.group,delete m.groupByField,m.pivotTableType="Timesheet",m.user=i.field.accountId,i.reportParams=("undefined"!=typeof $?$:window).param(m,!0),c='{{$parent.hostBaseUrl}}/plugins/servlet/ac/{{$parent.appKey}}/timereports#!{{reportParams}}" target="_parent'}else c="#!/?pivotTableType=Timesheet&user={{field.accountId}}&allUsers=&group=&groupByField=&_={{$id}}";d=e('<a ng-mouseenter="$parent.userHoverPopup.init(field)" ng-class="{inactive: !field.active, disabled: !field.accountId, userHoverPopup: true}" ng-href="'+c+'" ng-bind="field.displayName || field.name || field.accountId"></a>')(i)}else if(TimesheetUtils.isDate(i.field)){var p=TimesheetUtils.findByProperty("id",i.name,i.allFields||[]),h=p&&"datetime"===p.schema.type?"short":"shortDate";i.value=new Date(i.field),d=e("<span>{{value | date:'"+h+"'}}</span>")(i)}else Array.isArray(i.field)?(d="",i.field.length>0&&(i.field[0].inwardIssue||i.field[0].outwardIssue)?i.field.forEach(function(e){e.inwardIssue?(n.append(e.type.inward+"&nbsp;"),n.append(s(e.inwardIssue))):(n.append(e.type.outward+"&nbsp;"),n.append(s(e.outwardIssue))),n.append("<br/>")}):i.field.forEach(function(e){n.append(s(e)),n.append("<br/>")})):d=s(i.field);else if("projectcategory"===i.name&&i.issue.fields.project&&i.issue.fields.project.projectCategory)d=i.issue.fields.project.projectCategory.name;else if(i.name===TimesheetUtils.FIELDS.TIME_TRACKING_PROGRESS_FIELD.id){var f=i.issue.fields.timespent||0,g=i.issue.fields.timeestimate||0;i.progress={estimate:g,timespent:f},d=e('<span ng-bind-html="progress | timeTracking"/>')(i)}else if(i.name===TimesheetUtils.FIELDS.TIME_TRACKING_ESTIMATE_FIELD.id){var f=i.issue.fields.timespent||0,g=i.issue.fields.timeestimate||0;d=DrawHelper.getFormattedTime(f+g,i.jiraConfig)}else if(i.name===TimesheetUtils.FIELDS.TIME_TRACKING_VARIANCE_FIELD.id){var y=i.issue.fields.timeoriginalestimate||0,f=i.issue.fields.timespent||0,g=i.issue.fields.timeestimate||0,v=f+g;d=DrawHelper.getFormattedTime(y-v,i.jiraConfig)}else if(i.name===TimesheetUtils.FIELDS.TIME_TRACKING_ORIGINAL_ESTIMATE_REMAINING_FIELD.id){var y=i.issue.fields.timeoriginalestimate||0,f=i.issue.fields.timespent||0;i.originalestimateremaining={issue:i.issue,value:y-f},d=e('<span ng-bind-html="originalestimateremaining | originalEstimateRemainingLozenge:jiraConfig"/>')(i)}else d="&nbsp;";n.append(d)}}}]),app.directive("oldWorklog",[function(){return{restrict:"E",scope:{worklog:"=",editWork:"=",deleteWork:"=",cannotEdit:"=",cannotDelete:"="},template:'<span ng-if="!cannotEdit"><i class="fa fa-edit" ng-click="editWork(worklog)" title="{{\'Edit Worklog\' | i18n}}"></i></span><span ng-if="!cannotDelete"><i class="fa fa-trash" ng-click="deleteWork(worklog)" title="{{\'Delete Worklog\' | i18n}}"></i></span>'}}]),app.directive("newWorklog",[function(){return{restrict:"E",scope:{worklog:"=",logWork:"=",entry:"=",removeCachedWorklog:"="},template:'<span><i class="fa" ng-click="logWork()" ng-class="{\'fa-play\': !$root.workTimer, \'fa-pause\': $root.workTimer && !worklog.stopped}"></i></span><span ng-if="!$root.workTimer || !worklog.stopped"><i class="fa fa-plus-square" ng-click="logWork(false, true)"></i></span><span ng-if="!$root.workTimer || !worklog.stopped"><i class="fa fa-trash" ng-click="removeCachedWorklog()"></i></span>'}}]),app.directive("pivotCell",["$compile",function(e){return{restrict:"E",scope:{key:"=",columns:"=",logWork:"=",editWork:"=",deleteWork:"=",jiraConfig:"=",removeCachedWorklog:"="},link:function(t,i){if(t.logWork&&"3action"===t.key.keyValue){var n,r=t.columns[t.key.keyValue];r.isTotalColumn?n="&nbsp;":r.entries?(t.worklog={issueKey:r.entries[0].rowKey.keyValue},r.worklog=t.worklog,
n=e('<span ng-show="$parent.isStartDateToday && !$root.workTimer && key.showStart && !$parent.cannotLogWorkIssue[worklog.issueKey]">   <span><i class="fa fa-play" ng-click="logWork()"></i></span>   <span><i class="fa fa-plus-square" ng-click="$parent.addWorklogDialog(null, worklog.issueKey)"></i></span></span>')(t)):r.worklog&&r.worklog.id?(t.worklog=r.worklog,t.worklog.issueKey=r.rowKey.keyValue,t.worklog.ownWorklog=t.worklog.author&&t.worklog.author.accountId===t.$parent.loggedInUser.accountId,n=e('<old-worklog worklog="worklog" edit-work="editWork" delete-work="deleteWork" cannot-edit="worklog.workDate < $parent.allowToLogFromDate || (worklog.ownWorklog ? $parent.cannotEditOwnWorklogIssue[worklog.issueKey] : $parent.cannotEditAllWorklogIssue[worklog.issueKey])"cannot-delete="worklog.workDate < $parent.allowToLogFromDate || (worklog.ownWorklog ? $parent.cannotDeleteOwnWorklogIssue[worklog.issueKey] : $parent.cannotDeleteAllWorklogIssue[worklog.issueKey])"/>')(t)):r.worklog.transient?(t.entry=r,t.worklog=r.worklog,n=e('<span><i class="fa fa-check-square" ng-click="!$parent.disableSuggested && logWork(false, true, true)" ng-disabled="$parent.disableSuggested" ng-class="{disabled: $parent.disableSuggested}" title="{{\'Log Suggested\' | i18n}}"></i></span><span><i class="fa fa-plus-square" ng-click="logWork(false, true)"></i></span>')(t)):(t.entry=r,t.worklog=r.worklog,n=e('<new-worklog worklog="worklog" log-work="logWork" entry="entry" remove-cached-worklog = "removeCachedWorklog" />')(t)),i.append(n)}else t.key.filterName?i.append(e('<span ng-bind-html="columns[key.keyValue] | '+t.key.filterName+'"/>')(t)):i.append(e('<span style="color: {{columns[key.keyValue].color}}" title="{{columns[key.keyValue].title}}" ng-bind="columns[key.keyValue] | prettyHours:jiraConfig:$parent.pivotTableType == \'IssuePassedTimeByStatus\' && !($parent.workingTimeInStatus.from && $parent.workingTimeInStatus.to)"/>')(t))}}}]),app.directive("columnKey",["$compile",function(e){return{restrict:"A",scope:{columnKey:"="},link:function(t,i){t.$watch("columnKey",function(){if(t.columnKey.user){var n;if(t.$parent.isGadget||i.injector().modules.serverApp){var r=angular.copy(t.$parent.reportParamsObject);delete r.allUsers,delete r.group,r.pivotTableType="Timesheet",r.user=t.columnKey.user.accountId,t.reportParams=("undefined"!=typeof $?$:window).param(r,!0),n='{{$parent.hostBaseUrl}}/plugins/servlet/ac/{{$parent.appKey}}/timereports#!{{reportParams}}" target="_parent'}else t.startDate=TimesheetUtils.formatDateForSearch(t.columnKey.options.startDate),t.endDate=TimesheetUtils.formatDateForSearch(t.columnKey.options.endDate),n="{{columnKey.user.accountId ? '#!/?pivotTableType=Timesheet&user=' + columnKey.user.accountId + '&startDate=' + startDate + '&endDate=' + endDate + '&group=' + '&_=' + $id : ''}}";i.html('<a ng-mouseenter="$parent.userHoverPopup.init(columnKey.user)" ng-class="{inactive: !columnKey.user.active, disabled: !columnKey.user.accountId, userHoverPopup: true}" ng-href="'+n+'" ng-bind="columnKey.user.displayName || columnKey.user.name || columnKey.user.accountId"></a>')}else t.columnKey.date?i.html("<span>{{columnKey.date | date:'EEE' | i18n}}<br/>{{columnKey.date | date:'dd'}}/{{columnKey.date | date:'MMM' | i18n}}</span>"):t.columnKey.weekNumber?(t.startDate=t.columnKey.firstDate||t.columnKey.startDate,t.endDateIncluded=TimesheetUtils.addDays(t.columnKey.endDate,-1),t.endDate=t.columnKey.lastDate||t.endDateIncluded,i.html("<span title=\"{{startDate | date:'d'}} {{startDate | date:'MMM' | i18n}}-{{endDate | date:'d'}} {{endDate | date:'MMM' | i18n}}\">{{'Week' | i18n}}<br/>{{columnKey.weekNumber}}</span>")):t.columnKey.monthKey?i.html("<span title=\"{{columnKey.endDate | date:'1-d'}} {{columnKey.endDate | date:'MMM' | i18n}}\">{{columnKey.keyValue | date:'MMM' | i18n}}</span>"):["TimeTracking","TimeEntry","IssueTime","Timespent","CostReport","TimeBalance","IssueTimeBalance"].indexOf(t.$parent.pivotTableType)>=0?i.html('<span i18n="columnKey.keyValue"></span>'):"Calendar"===t.$parent.pivotTableType?i.html('<span i18n="columnKey.day"></span>'):i.html("<span>{{columnKey.keyValue}}</span>");e(i.contents())(t)})}}}]),app.directive("issueType",["$compile",function(){return{restrict:"E",scope:{issue:"="},replace:!0,template:'<a href="{{$parent.hostBaseUrl}}/browse/{{issue.key}}" target="_parent"><img width="16" height="16" title="{{issue.fields.issuetype.description}}" ng-src="{{issue.fields.issuetype.iconUrl}}" alt="{{issue.fields.issuetype.name}}" /></a>'}}]),app.directive("issueKey",["$compile",function(){return{restrict:"E",scope:{issue:"=",showTitle:"=",showSummary:"="},replace:!0,template:'<a href="{{$parent.hostBaseUrl}}/browse/{{issue.key}}" target="_parent" title="{{showTitle || issue.fields.summary.length > 100 ? issue.fields.summary : \'\'}}"><span ng-if="showSummary"><img  width="16" height="16" title="{{issue.fields.issuetype.description}}" ng-src="{{issue.fields.issuetype.iconUrl}}" alt="{{issue.fields.issuetype.name}}" style="vertical-align: top"/>&nbsp;</span><s ng-show="issue.fields.resolution">{{issue.key}}</s><span ng-hide="issue.fields.resolution">{{issue.key}}</span><span ng-if="showSummary">&nbsp;{{issue.fields.summary | limitTo:100}}&nbsp;</span><img ng-if="showSummary" width="16" height="16" ng-src="{{issue.fields.priority.iconUrl}}" alt="{{issue.fields.priority.name}}" style="vertical-align: top"/></a>'}}]),app.directive("issueSummary",["$compile",function(){return{restrict:"E",scope:{issue:"="},replace:!0,template:'<a href="{{$parent.hostBaseUrl}}/browse/{{issue.key}}" target="_parent"  title="{{issue.fields.summary.length > 175 ? issue.fields.summary : \'\'}}">{{issue.fields.summary | limitTo:175}}</a>'}}]),app.directive("issuePriority",["$compile",function(){return{restrict:"E",scope:{issue:"="},replace:!0,template:'<a href="{{$parent.hostBaseUrl}}/browse/{{issue.key}}" target="_parent"><img width="16" height="16" ng-src="{{issue.fields.priority.iconUrl}}" alt="{{issue.fields.priority.name}}" /></a>'}}]),app.directive("worklogComment",["$compile",function(e){return{restrict:"E",scope:{worklog:"=",noComment:"="},replace:!0,link:function(t,i){var n=e('<span title="{{worklog.comment.length > 175 ? worklog.comment : \'\'}}" ng-bind="worklog.comment || noComment | limitTo:175"></span>')(t),r=e('<span ng-bind="worklog.comment"></span>')(t);if(window.matchMedia){window.matchMedia("print").addListener(function(e){e.matches?t.$apply(function(){i.html(r)}):i.html(n)})}i.html(n)}}}]),app.directive("excelViewBak",["$compile","$templateCache","$templateRequest",function(e,t,i){return{restrict:"A",scope:{excelView:"=",pivotTable:"="},link:function(n,r){t.get(n.excelView)||i(n.excelView),$(r).click(function(){var t="<html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:x='urn:schemas-microsoft-com:office:excel' xmlns='http://www.w3.org/TR/REC-html40'>\n";t+="<head>\n",t+="\x3c!--[if gte mso 9]>\n",t+="<xml>\n",t+="<x:ExcelWorkbook>",t+="<x:ExcelWorksheets>",t+="<x:ExcelWorksheet>",t+="<x:Name>",t+="{worksheet}",t+="</x:Name>",t+="<x:WorksheetOptions>",t+="<x:DisplayGridlines/>",t+="</x:WorksheetOptions>",t+="</x:ExcelWorksheet>",t+="</x:ExcelWorksheets>",t+="</x:ExcelWorkbook>\n",t+="</xml>\n",t+="<![endif]--\x3e\n",t+="</head>\n",t+="<body>\n";var i=e('<div><ng-include src="excelView"></ng-include></div>')(n);n.$apply(),t+=i.html(),t+="</body>\n",t+="</html>\n",console.log(t)})}}}]),app.directive("auiSelect2",[function(){return{require:"ngModel",restrict:"A",link:function(e,t,i){e.$watch(i.ngModel,function(){$(t).auiSelect2()})}}}]),app.directive("colorPicker",[function(){return{require:"ngModel",restrict:"A",link:function(e,t,i,n){var r=["#6554c0","#0052cc","#0065ff","#00b8d9","#00875a","#36b37e","#bf2600","#ff5630","#ffab00"];$(t).paletteColorPicker({colors:r,timeout:1e4,onchange_callback:function(e){n.$setViewValue(e)}}),e.$watch(i.ngModel,function(e){$(t).prev(".palette-color-picker-button").css("background-color",e)})}}}]),app.directive("auiDatePicker",["$i18n",function(e){return{restrict:"A",require:"ngModel",link:function(t,i,n,r){$(i).datePicker({firstDay:moment.localeData().firstDayOfWeek(),languageCode:e.language,overrideBrowserDefault:!0}),$(i).change(function(){r.$valid&&null!=n.ngDateChangedFunc&&t[n.ngDateChangedFunc]($(i).val())})}}}]),app.directive("timePicker",["$compile",function(e){return{restrict:"E",scope:{time:"="},link:function(t,i){var n=function(e){return/^\d+$/.test(e)};t.timeClick=function(e,i){n(e.value)?i.shiftKey?(e.value=parseInt(e.value)-e.step,e.value<e.min&&(e.value=e.max)):(e.value=parseInt(e.value)+e.step,e.value>e.max&&(e.value=e.min)):(t.time.timePartsToMoment(),t.time.momentTime.set("hour",e.step+t.time.momentTime.get("hour")),t.time.momentToTimeParts()),t.time.changed=!0},t.timeChange=function(e){null!=e.min&&null!=e.max?n(e.value)?null!=e.min&&null!=e.max&&(e.value>e.max?e.value=e.max:e.value<e.min&&(e.value=e.min)):e.value=e.min:e.value="",t.time.changed=!0},$(i).append(e('<input type="text" ng-repeat-start="item in time.timeParts" maxLength="5" class="text" style="max-width: 40px; margin: 0 1px;" ng-model="item.value" ng-click="timeClick(item, $event)" ng-change="timeChange(item)"><span ng-repeat-end ng-show="item.suffix">{{item.suffix}}</span>')(t))}}}]),app.directive("pivottableSlider",["$window",function(e){return{restrict:"E",scope:!1,templateUrl:"/templates/slider.html"+e.b}}]),app.directive("auiUserPicker",["translationsSync",function(e){return{restrict:"A",scope:{ngValue:"=",ngUserChangedFunc:"=",multiSelect:"="},link:function(t,i){$(i).auiSelect2({hasAvatar:!1,allowClear:!0,placeholder:t.multiSelect?" ":e["Search for user"]||" ",multiple:t.multiSelect,ajax:{url:"/rest/api/2/user/picker",type:"GET",dataType:"json",cache:!0,data:function(e){return{query:e||"%",excludeConnectUsers:!0,maxResults:1e3,showAvatar:!0}},results:function(e){return e=TimesheetUtils.getJson(e),{results:e.users}},transport:function(e){AP.request({url:e.url+"?"+$.param(e.data),headers:{Accept:"application/json"},success:e.success,error:e.error})}},id:function(e){return e.accountId},formatSelection:function(e){return Select2.util.escapeMarkup(e.displayName)},formatResult:function(e){return e.html},formatNoMatches:function(){return e["No matches found"]},initSelection:function(e,i){i(t.ngValue)}}),t.$watch("ngValue",function(e){t.multiSelect?angular.isArray(e)?$(i).auiSelect2("data",e):$(i).auiSelect2("data",null):e?i.select2("val",e.accountId):i.select2("val",null)}),$(i).change(function(){null!=t.ngUserChangedFunc&&t.ngUserChangedFunc($(i).val())})}}}]),app.directive("selectedOption",[function(){return{restrict:"E",scope:{option:"=",removeAction:"&removeAction"},template:'<span class="aui-label {{option.css}}"><span i18n="option.label" i18n-parameters="{placeholders:[option.labelParam]}"></span><span ng-click="removeAction()" class="icon-close {{option.css}}"><svg width="5px" height="5px" viewBox="288 109 5 5" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs></defs><path fill="currentColor" d="M292.808502,112.885224 C293.063833,113.140571 293.063833,113.553306 292.808502,113.808653 C292.681164,113.936 292.513991,114 292.346818,114 C292.179645,114 292.012473,113.936 291.885134,113.808653 L290.500082,112.42351 L289.114376,113.808653 C288.987038,113.936 288.819865,114 288.652692,114 C288.485519,114 288.319,113.936 288.191008,113.808653 C287.936331,113.553306 287.936331,113.140571 288.191008,112.885224 L289.57606,111.500082 L288.191008,110.114939 C287.936331,109.859592 287.936331,109.446204 288.191008,109.19151 C288.446338,108.936163 288.859699,108.936163 289.114376,109.19151 L290.500082,110.576653 L291.885134,109.19151 C292.140464,108.936163 292.553172,108.936163 292.808502,109.19151 C293.063833,109.446204 293.063833,109.859592 292.808502,110.114939 L291.42345,111.500082 L292.808502,112.885224 Z" id="Fill-1" stroke="none" fill-rule="evenodd"></path></svg></span></span>'}}]),app.directive("auiGroupPicker",["translationsSync",function(e){return{restrict:"A",link:function(t,i,n){$(i).auiSelect2({hasAvatar:!1,placeholder:" ",multiple:!0,ajax:{url:"/rest/api/2/groups/picker",type:"GET",dataType:"json",cache:!0,data:function(e){return{query:e,maxResults:1e3,showAvatar:!0}},results:function(e){return e=TimesheetUtils.getJson(e),{results:e.groups}},transport:function(e){AP.request({url:e.url+"?"+$.param(e.data),headers:{Accept:"application/json"},success:e.success,error:e.error})}},id:function(e){return e.name},formatSelection:function(e){return Select2.util.escapeMarkup(e.name)},formatResult:function(e,t,i,n){var r=e.name,a=[],o=function(e){return e};return Select2.util.markMatch(n(r),n(i.term),a,o),a.join("")},formatNoMatches:function(){return e["No matches found"]}});var r=i.select2("container").find("input");r.attr("name",r.attr("id")+Date.now());var a=function(e){if(null!=e&&""!==e){angular.isArray(e)||(e=e.split(","));for(var t=[],n=0;n<e.length;n++)t.push({name:e[n],html:e[n]});$(i).auiSelect2("data",t)}else $(i).auiSelect2("data",null)};t.$watch(n.ngModel,a),n.updateEvent&&t.$on(n.updateEvent,function(e,t){a(t)}),$(i).change(function(){null!=n.ngGroupChangedFunc&&t[n.ngGroupChangedFunc]($(i).val())})}}}]),app.directive("auiIssuePicker",["pivottableService","translationsSync",function(e,t){return{scope:{ngModel:"=",ngDisabled:"="},restrict:"A",link:function(i,n){$(n).auiSelect2({placeholder:"",multiple:!1,ajax:{url:"/rest/api/2/issue/picker",type:"GET",dataType:"json",cache:!0,data:function(e){return{query:e,currentJQL:i.$parent.jqlQuery||"",showSubTasks:!0}},results:function(e){e=TimesheetUtils.getJson(e);var t=[];return e.sections.length>0&&(t.push({select2Section:e.sections[0].label,children:e.sections[0].issues}),e.sections.length>1&&t.push({select2Section:e.sections[1].label,children:e.sections[1].issues})),{results:t}},transport:function(e){AP.request({url:e.url+"?"+$.param(e.data),headers:{Accept:"application/json"},success:e.success,error:e.error})}},id:function(e){return e.key},formatSelection:function(e){return Select2.util.escapeMarkup(e.key+": "+e.summaryText)},formatResult:function(e,t,i,n){if(e.hasOwnProperty("select2Section"))return e.select2Section;var r=e.key+": "+e.summaryText,a=[],o=function(e){return e};return Select2.util.markMatch(n(r),n(i.term),a,o),a.join("")},formatNoMatches:function(){return t["No matches found"]},initSelection:function(t,n){i.ngModel&&e.findIssueByKey(i.ngModel,{_fields:"summary"}).then(function(e){n({key:e.key,summaryText:e.fields.summary})})}}),i.$watch("ngModel",function(e){e&&n.select2("val",e)}),n.on("focus",function(){n.select2("open")})}}}]),app.directive("auiMultiSelectPicker",["translationsSync",function(e){return{restrict:"A",link:function(t,i,n){t.$watch(n.ngOptionsData,function(){if(null!=t[n.ngOptionsData]){$(i).auiSelect2({hasAvatar:!1,placeholder:" ",multiple:"false"!==n.auiMultiSelectPicker,data:{results:t[n.ngOptionsData].getOptions(),text:"label"},id:function(e){return e.id},formatSelection:function(e){var t=e.label;return t&&t.length>22?(t=t.substring(0,22),'<div title="'+e.label+'">'+Select2.util.escapeMarkup(t)+"</div>"):Select2.util.escapeMarkup(t)},formatResult:function(e,t,i,n){var r=e.label,a=[],o=function(e){return e};return Select2.util.markMatch(n(r),n(i.term),a,o),a.join("")},formatNoMatches:function(){return e["No matches found"]}}),i.on("select2-loaded",function(){i.select2("dropdown").find(".select2-result-label").each(function(e,t){var i=$(t),n=i.text();n&&n.length>25&&i.attr("title",n)})});var r=i.select2("container").find("input");r.attr("name",r.attr("id")+Date.now())}});var r=function(e){if(null!=e){angular.isArray(e)||(e=e.split(","));var r=[];if(null!=t[n.ngOptionsData])for(var a=0;a<e.length;a++){var o=t[n.ngOptionsData].findOption(e[a]);null!=o&&r.push({id:o.id,label:o.label})}$(i).auiSelect2("data","false"===n.auiMultiSelectPicker&&r.length?r[0]:r)}else $(i).auiSelect2("data",null)};t.$watch(n.ngModel,r),n.updateEvent&&t.$on(n.updateEvent,function(e,t){r(t)}),$(i).change(function(){null!=n.ngValueChangedFunc&&t[n.ngValueChangedFunc]($(i).val())})}}}]),app.directive("pieChart",["pivottableService","$interpolate","$compile",function(e,t,i){return{restrict:"A",link:function(t,n,r){var a,o=null,s=t.$parent.hostBaseUrl,l=function(e,t){if(null==t)return{label:e};var i=t.fields.resolution;return null!=i&&(i={name:i.name,description:i.description}),{label:t.key,url:s+"/browse/"+t.key,hint:t.fields.summary,resolution:i}},u=function(i){if(null!=i){var n=e.getParentIssueKey(i,{configOptions:t.configOptions});if(null!=n)return{label:n,url:s+"/browse/"+n,hint:"",resolution:null}}return null},d=function(e){var t=null;if(null!=e){t=[];var i=Object.keys(e.rows);for(var n in i){var r=i[n],a=e.rows[r],o=[],s=a.rowKey.issue;if(null!=s){var d=s.fields.priority,c=s.fields.issuetype;o=[],d&&o.push({url:d.iconUrl,title:d.name}),c&&o.push({url:c.iconUrl,title:c.name+" - "+c.description})}var m=DrawHelper.buildLabel(r,a);t.push({label:m,data:a.sum,link:l(m,s),icons:o,masterLink:u(s)})}}return t},c=function(e){var t=null;if(null!=e){t=[];var i={};for(var n in e.rows){var r=e.rows[n],a=r.rowKey._field;i[a]||(i[a]=1)}var o=Object.keys(i);for(var n in e.rows){var r=e.rows[n],s=[];for(var u in o)s.push([o[u],r.rowKey._field===o[u]?r.sum:0]);var d=r.rowKey._project;t.push({label:d,data:s,link:l(d)})}}return t},m='<span><pivottable-slider class="chart" /></span>',p=function(){var e=$(n).find(".legend");e.find("table").css("font-size",""),e.find("table tr:first").first().before('<tr><th colspan="2"><span id="sliderPlaceholder"></span></th></tr>'),e.find("#sliderPlaceholder").before(i(m)(t)),e.find("table tbody").first().append(i("<tr><td colspan=\"2\"><span>{{'Total' | i18n}}</span> <b>"+DrawHelper.getFormattedTime(t[r.ngModel].sum,a)+'</b>&nbsp;<a ng-click="loading || !loaded || refresh()" ng-disabled="loading || !loaded" ng-class="{disabled: loading || !loaded}" title="{{\'Refresh\' | i18n}}"><span class="aui-icon aui-icon-small aui-iconfont-refresh-small">{{\'Refresh\' | i18n}}</span></a></td></tr>')(t))};t.$watch(r.ngModel,function(e){if(o=null,e&&t.loaded&&!t.loading){a=t.jiraConfig||{};var r=!(!t.categorizeByOptions.selected||!t.groupByOptions.selected),s=r?c(e):d(e);if(null!=s&&s.length>0)null==o?o=$.plot(n,s,{series:{stack:!0,bars:{show:r,barWidth:.75,align:"center"},pie:{show:!r,radius:.9,label:{show:!0,radius:.8,formatter:function(e,i){return DrawHelper.composeTooltip(i.label,i,s,t.isGadget)},background:{opacity:.8},threshold:.05},offset:{}}},grid:{color:"#000",borderWidth:0,hoverable:!0},tooltip:{show:!0,content:function(e,t,i,n){return e+" ("+DrawHelper.getFormattedTime(i,a)+") "+(!r&&n.series.percent<5?" "+Math.round(n.series.percent)+"%":"")}},xaxis:{mode:"categories"},yaxis:{tickFormatter:function(e){return DrawHelper.getFormattedTime(e,a)},minTickSize:3600},legend:{show:!0,margin:[-270,23],labelFormatter:function(e,i){return DrawHelper.composeLegendTooltip(e,i,s,a,t.isGadget)},backgroundOpacity:0}}):(o.setData(s),o.setupGrid(),o.draw()),p(),$(n).resize(p);else if(null!=t.startDate||null!=t.endDate){n.html(i('<div style="float:left; margin-top:5px; margin-right:150px"><b>NO DATA</b></div><div class="legend"><table style="color: rgb(0, 0, 0); width: 215px"><tr><th colspan="2"><span><pivottable-slider class="chart" /></span></th></tr></table></div>')(t))}}})}}}]),app.directive("auiInlineDialog",["$compile","$timeout",function(e,t){return{restrict:"E",scope:{template:"=",container:"=",popupData:"=",workDescriptionRequired:"=",workLabelsList:"=",jiraConfig:"=",onHover:"=",persistent:"=",initFn:"&"},link:function(i){i.hostBaseUrl=i.$parent.hostBaseUrl;var n=AJS.InlineDialog(i.container,i.$id,function(n,r,a){var o="<ng-include src=\"'"+i.template+"'\"></ng-include>";return t(function(){n.css("padding","5px").html(e(o)(i))},0),a(),!1},{useLiveEvents:!0,onHover:i.onHover,persistent:i.persistent,noBind:!i.container,initCallback:function(){this.popup.css("right","auto"),this.popup.refresh(),$(".contents",this.popup).off("mouseleave"),i.onHover&&$(".contents",this.popup).on("mouseleave",function(){n.hide()})},preHideCallback:function(){return!$("ul.is-autocomplete").size()}});i.closePopup=function(){n.hide()},i.initFn({params:{dialog:n,scope:i}})}}}]),app.directive("modalLikeDialog",["$controller","$compile","$document","loggedInUser",function(e,t,i,n){return{restrict:"E",scope:{controller:"=",data:"=",modalInstance:"="},link:function(r,a){var o={$scope:r,issueKey:r.data.issueKey,worklog:r.data.worklog,jiraConfig:r.data.jiraConfig,pivotTableType:r.data.pivotTableType,$modalInstance:{dismiss:r.data.dismiss,close:r.data.close}};n.then(function(n){o.loggedInUser=n,e(r.controller,o);var s=t('<ng-include src="data.dialogTemplate"></ng-include>')(r);$(a).html(s);var l=function e(t){27===t.which&&(r.data.dismiss(),i.unbind("keydown",e))};i.bind("keydown",l)})}}}]),app.directive("enterPressed",[function(){return{require:"^form",link:function(e,t,i,n){t.bind("keydown keypress",function(t){13!==t.which||!n.$valid||n.$pending||$("ul.is-autocomplete").size()||(e.$eval(i.enterPressed),t.preventDefault())})}}}]),app.directive("validationErrors",[function(){return{restrict:"E",scope:{errors:"=",errorMessages:"="},replace:!0,template:'<ul class="errors"><li ng-repeat="error in errors" i18n="error" i18n-parameters="{placeholders:errorMessages[+$index]}"></li></ul>'}}]),app.directive("jql",["$q",function(e){return{require:"ngModel",link:function(t,i,n,r){r.$asyncValidators.jql=function(t){var i=e.defer();return r.$isEmpty(t)?i.resolve(!0):AP.request({type:"POST",contentType:"application/json",url:"/rest/api/2/jql/parse",headers:{Accept:"application/json"},data:JSON.stringify({queries:[t]}),success:function(e){e=TimesheetUtils.getJson(e),e.queries[0].errors?(r.$error.jqlError=e.queries[0].errors.join("\n"),i.reject()):(delete r.$error.jqlError,i.resolve(!0))},error:function(e,t,n){r.$error.jqlError="Unexpected Error",i.reject()}}),i.promise}}}}]),app.directive("workLabels",["$timeout",function(e){return{restrict:"A",link:function(t,i,n){var r,a=$(document.body),o=$(i).textcomplete([{match:/#(\w*)$/,search:function(e,i){var r=t[n.workLabels]||[];i($.map(r,function(t){return 0===t.indexOf(e)?DrawHelper.escapeHtml(t):null}))},index:1,replace:function(e){return" #"+e+" "}}],{className:"is-autocomplete",zIndex:"10000",maxCount:20}).live("textComplete:show",function(){a.hasClass("is-gadget")&&e(function(){r=a.height();var e=o.data("textComplete").dropdown.$el;r<e.height()&&a.height(e.offset({top:0}).height())},100)}).live("textComplete:hide",function(){a.hasClass("is-gadget")&&e(function(){a.height(r)},100)})}}}]),app.directive("loading",[function(){return{restrict:"E",link:function(e,t){$(t).html('<div id="loading" class="aui-progress-indicator"><span class="aui-progress-indicator-value"></span></div>'),e.$on("loadingProgress",function(e,t){$("#loading").length&&AJS.progressBars.update("#loading",t)}),e.$on("loadingReset",function(){$("#loading").length&&AJS.progressBars.setIndeterminate("#loading")})}}}]),app.controller("BitbucketController",["$scope","$q","$window","loggedInUser","flightRecorder","pivottableService","configurationService","viewService",function(e,t,i,n,r,a,o,s){var l=window.RA||window.AP;!function(){e.loggedInUser=n;var i,u,d,c,m,p,h,f,g,y,v,_=function(){e.$apply(function(){e.loading=!0});var t=n.emailAddress||e.email;t&&(t=n.displayName+" <"+t+">"),r.sendEmail(e.includeSupportData.enabled,t,e.title,e.content,e.includeSupportData.screenshot,e.includeSupportData.error).then(function(){l.Dialog.close("submit")}).catch(function(e){l.flag.create({title:"Unexpected error",body:e.status?e.status+" "+e.data:e,type:"error"})})},w=t.defer();l.dialog.getCustomData(function(t){if(e.title=t.errorMessage,t.stackTrace){var l=["","","---- Error Stack Trace ----"],_=t.stackTrace.map(function(e){return e.source});l.push.apply(l,_),e.content=l.join("\n")}e.includeSupportData={enabled:!1,screenshot:t.screenshot,error:t.error},t.options&&(e.includeSupportData.options=t.options,r.setEnabled(!0),r.routeParams=t.routeParams,t.routeParams.viewId?s.getViews(t.routeParams.viewId,n).then(w.resolve):w.resolve(t.routeParams),i=a.getFields(),u=a.restrictedByAuditorsGroups(n),d=a.getFilters(),c=o.getProjects(),m=o.getUserConfiguration(n),p=a.getJiraConfiguration(),h=a.isAdministrator(),f=a.havePermissions(["WORK_ON_ISSUES","EDIT_OWN_WORKLOGS","DELETE_OWN_WORKLOGS","EDIT_ALL_WORKLOGS","DELETE_ALL_WORKLOGS"]),g=o.getAllStatuses(),v=o.getAllStatusCategories(),t.options.user&&n.accountId!==t.options.user&&(y=a.getUserInfo(t.options.user))),e.$apply()}),l.events.on("dialog.submit",_),l.dialog.disableCloseOnSubmit(),e.$watch("includeSupportData.enabled",function(r){if(r){var o=l.dialog.getButton("submit");o.disable(),t.all([w.promise,i,u,d,c,m,p,h,f,g,v,y]).then(function(i){var r=i[2],s=i[5];e.includeSupportData.error?angular.isObject(e.includeSupportData.error)||(e.includeSupportData.error={error:e.includeSupportData.error}):e.includeSupportData.error={};var l=e.includeSupportData.error.options=e.includeSupportData.options;if(l.restrictable&&r)e.includeSupportData.error.restricted=!0;else{l.configOptions||(l.configOptions={},l.restrictable&&(l.configOptions.auditorsRoles=s.auditorsRoles&&s.auditorsRoles.val));var u=a.getPivotTable(n,l)}t.when(u).then(function(){e.SubmitIssueForm.$valid&&o.enable()})})}})}()}]),function(e,t){"function"==typeof define&&define.amd?define("error-stack-parser",["stackframe"],t):"object"==typeof exports?module.exports=t(require("stackframe")):e.ErrorStackParser=t(e.StackFrame)}(this,function(e){var t=/(^|@)\S+:\d+/,i=/^\s*at .*(\S+:\d+|\(native\))/m,n=/^(eval@)?(\[native code])?$/;return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(i))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?::(\d+))?(?::(\d+))?$/,i=t.exec(e.replace(/[()]/g,""));return[i[1],i[2]||void 0,i[3]||void 0]},parseV8OrIE:function(t){return t.stack.split("\n").filter(function(e){return!!e.match(i)},this).map(function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var i=t.replace(/^\s+/,"").replace(/\(eval code/g,"("),n=i.match(/ (\((.+):(\d+):(\d+)\)$)/);i=n?i.replace(n[0],""):i;var r=i.split(/\s+/).slice(1),a=this.extractLocation(n?n[1]:r.pop()),o=r.join(" ")||void 0,s=["eval","<anonymous>"].indexOf(a[0])>-1?void 0:a[0];return new e({functionName:o,fileName:s,lineNumber:a[1],columnNumber:a[2],source:t})},this)},parseFFOrSafari:function(t){return t.stack.split("\n").filter(function(e){return!e.match(n)},this).map(function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e({functionName:t});var i=/((.*".+"[^@]*)?[^@]*)(?:@)/,n=t.match(i),r=n&&n[1]?n[1]:void 0,a=this.extractLocation(t.replace(i,""));return new e({functionName:r,fileName:a[0],lineNumber:a[1],columnNumber:a[2],source:t})},this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var i=/Line (\d+).*script (?:in )?(\S+)/i,n=t.message.split("\n"),r=[],a=2,o=n.length;a<o;a+=2){var s=i.exec(n[a]);s&&r.push(new e({fileName:s[2],lineNumber:s[1],source:n[a]}))}return r},parseOpera10:function(t){for(var i=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=t.stacktrace.split("\n"),r=[],a=0,o=n.length;a<o;a+=2){var s=i.exec(n[a]);s&&r.push(new e({functionName:s[3]||void 0,fileName:s[2],lineNumber:s[1],source:n[a]}))}return r},parseOpera11:function(i){return i.stack.split("\n").filter(function(e){return!!e.match(t)&&!e.match(/^Error created at/)},this).map(function(t){var i,n=t.split("@"),r=this.extractLocation(n.pop()),a=n.shift()||"",o=a.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;a.match(/\(([^)]*)\)/)&&(i=a.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var s=void 0===i||"[arguments not available]"===i?void 0:i.split(",");return new e({functionName:o,args:s,fileName:r[0],lineNumber:r[1],columnNumber:r[2],source:t})},this)}}}),app.controller("ConfigurationController",["$scope","$route","$routeParams","$location","timesheetParams","$q","$sce","$timeout","$window","configurationService","pivottableService","$http","loggedInUser","translations",function(e,t,i,n,r,a,o,s,l,u,d,c,m,p){function h(e){g(e+"SaveSuccess")}function f(e){g(e+"SaveError")}function g(t){e[t]=!0,s(function(){e[t]=!1},2e3)}function y(){e.loading=!0,delete e.auditLog;var t=u.getAuditLog().then(function(t){e.auditLog=t;var i={};return angular.forEach(t,function(e){i[e.accountId]||(i[e.accountId]=d.getUserInfo(e.accountId)),i[e.accountId].then(function(t){e.author=t})}),a.all(TimesheetUtils.objectValues(i))}),i=u.getConfiguration(),n=u.getAllCompositionIssueLinks(),r=u.getAllParentIssueFields(),o=u.getAllIssueTypes(),s=u.getAllRoles(),l=u.getAllStatusCategories(),c=u.getProjects();a.all([i,n,r,o,s,l,c,t]).then(function(t){var i=t[0],n=t[1];e.parentIssueFields=t[2],e.parentIssueTypes=t[3];var r=t[4],a=t[5],o=t[6],s=function(e){null==e.val&&(e.val="")};e.auditorsGroups=i.auditorsGroups,e.accountantsGroups=i.accountantsGroups,e.restrictedGroups=i.restrictedGroups,e.auditorsRoles=i.auditorsRoles,e.logWorkForOthersGroups=i.logWorkForOthersGroups,e.compositionIssueLink=i.compositionIssueLink,s(e.compositionIssueLink),e.parentIssueField=i.parentIssueField,s(e.parentIssueField),e.parentIssueType=i.parentIssueType,s(e.parentIssueType),e.weekendType=i.weekendType,e.preserveStartedTime=i.preserveStartedTime,e.timeInStatusCategories=i.timeInStatusCategories,e.workingTimeInStatus=i.workingTimeInStatus,e.startedTimeInStatus=i.startedTimeInStatus,e.prettyDuration=i.prettyDuration,e.durationType=i.durationType,e.durationTypeForExport=i.durationTypeForExport,e.dateFields=i.dateFields,e.maxFractionDigits=i.maxFractionDigits,e.worklogVisibilityGroup=i.worklogVisibilityGroup,e.worklogVisibilityRole=i.worklogVisibilityRole,e.timeentryPanelGroups=i.timeentryPanelGroups,e.timeentryPanelProjects=i.timeentryPanelProjects,e.timeTrackingColumns=i.timeTrackingColumns,e.timeBalanceColumns=i.timeBalanceColumns,e.exportColumns=i.exportColumns,e.disableLogWork=i.disableLogWork,e.restrictWorkPerDay=i.restrictWorkPerDay,e.logWorkRetrospectively=i.logWorkRetrospectively,e.workDescriptionRequired=i.workDescriptionRequired,e.workLabels=i.workLabels,e.cacheWorklog=i.cacheWorklog,e.inProgressIssuesJql=i.inProgressIssuesJql,e.showDetailsCount=i.showDetailsCount,e.showCategoryRow=i.showCategoryRow,e.showTotalInFront=i.showTotalInFront,e.workUnderLimitColor={key:"workUnderLimitColor",val:i.workUnderLimitColor.val||"#000000"},e.workOverLimitColor={key:"workOverLimitColor",val:i.workOverLimitColor.val||"#000000"},e.prettyDuration.val&&(e.durationType.val="pretty"),e.allCompositionIssueLinks=TimesheetUtils.makeUISelectList(n,!0),e.parentIssueFields.unshift({id:"",name:""}),e.parentIssueTypes.unshift({id:"",name:""}),e.worklogVisibilityRoles=i.worklogVisibilityRole,e.projectsRoles=new TimesheetSelectOptions(TimesheetGeneralOption,null,null,{classic:"Classic Roles","next-gen":"Next-Gen Roles"});for(var l in r)e.projectsRoles.addOption(l,l,!1,r[l].style);e.projectsRoles.sort(),e.timeInStatusCategoriesData=new TimesheetSelectOptions(TimesheetGeneralOption,e.timeInStatusCategories.val);for(var d in a){var c=a[d];e.timeInStatusCategoriesData.addOption(c.name,c.id)}e.timeTrackingColumnsData=new TimesheetSelectOptions(TimesheetGeneralOption,e.timeTrackingColumns.val);var m=u.getAllTimeTrackingColumns();for(var d in m)e.timeTrackingColumnsData.addOption(p[m[d]],m[d])
;e.timeBalanceColumnsData=new TimesheetSelectOptions(TimesheetGeneralOption,e.timeBalanceColumns.val);var h=u.getAllTimeBalanceColumns();for(var d in h)e.timeBalanceColumnsData.addOption(p[h[d]],h[d]);e.exportColumnsData=new TimesheetSelectOptions(TimesheetGeneralOption,e.exportColumns.val);var f=u.getAllExportColumns();for(var d in f)e.exportColumnsData.addOption(p[f[d]],f[d]);e.timeentryPanelProjectsData=new TimesheetSelectOptions(TimesheetGeneralOption,e.timeentryPanelProjects.val);for(var d=0;d<o.length;d++)e.timeentryPanelProjectsData.addOption(o[d].name+" ("+o[d].key+")",o[d].key);e.allWeekendTypes=[],e.allWeekendTypes.push({id:"60",label:"Sat-Sun"}),e.allWeekendTypes.push({id:"56",label:"Fri-Sat"}),e.allWeekendTypes.push({id:"45",label:"Thu-Fri"}),e.allWeekendTypes.push({id:"0",label:"Sun"}),e.allWeekendTypes.push({id:"5",label:"Fri"}),e.allWeekendTypes.push({id:"560",label:"Fri-Sun"}),e.allDurationTypes=[],e.allDurationTypes.push({id:"m",label:"Minutes"}),e.allDurationTypes.push({id:"h",label:"Hours"}),e.allDurationTypes.push({id:"d",label:"Days"}),e.allDurationTypes.push({id:"pretty",label:"Pretty Duration"}),e.allLogWorkRetrospectivelyTypes=[],e.allLogWorkRetrospectivelyTypes.push({id:void 0,label:""}),e.allLogWorkRetrospectivelyTypes.push({id:"d",label:p.Today}),e.allLogWorkRetrospectivelyTypes.push({id:"w",label:p["This Week"]}),e.allLogWorkRetrospectivelyTypes.push({id:"m",label:p["This Month"]}),e.reportingDay=i.reportingDay,e.reportingDayOptions=new TimesheetSelectOptions(TimesheetGeneralOption,e.reportingDay.val),e.reportingDayOptions.addOption("",void 0),e.reportingDayOptions.addOption(p.Today,-1);for(var g=moment(),d=0;d<7;d++){var y=(moment.localeData().firstDayOfWeek()+d)%7;g.day(y),e.reportingDayOptions.addOption(moment.localeData().weekdays(g),y)}e.dateFieldsData=new TimesheetSelectOptions(TimesheetGeneralOption,e.dateFields.val);var v=u.getAllDateFields();for(var d in v)e.dateFieldsData.addOption(p[v[d]],v[d]);e.allDurationTypesForExport=[],e.allDurationTypesForExport.push({id:"m",label:"Minutes"}),e.allDurationTypesForExport.push({id:"h",label:"Hours"}),e.allDurationTypesForExport.push({id:"d",label:"Days"}),delete e.loading})}var v=window.RA||window.AP;e.pages={access:"Access",hierarchy:"Issues Hierarchy",defaults:"User Defaults",general:"General",auditLog:"Audit Log"},e.pageKeys=Object.keys(e.pages),e.page=e.pageKeys.indexOf(r.page)>=0?r.page:"access",e.isTimesheet=window.isTimesheet,e.refresh=function(){u.resetState(),y()},e.activePage=function(t){e.page=t,angular.isFunction(v.history.pushState)&&v.history.pushState($.param({page:e.page},!0))},e.contentTemplate=function(){return e.templates.configure},e.saveAuditorsGroups=function(){e.auditorsGroups.val=e.auditorsGroups.val?e.auditorsGroups.val.split(","):void 0,u.saveConfiguration(e.auditorsGroups,m).then(function(t){e.auditorsGroups=t,h("auditorsGroups")})},e.saveAccountantsGroups=function(){e.accountantsGroups.val=e.accountantsGroups.val?e.accountantsGroups.val.split(","):void 0,u.saveConfiguration(e.accountantsGroups,m).then(function(t){e.accountantsGroups=t,h("accountantsGroups")})},e.saveRestrictedGroups=function(){e.restrictedGroups.val=e.restrictedGroups.val?e.restrictedGroups.val.split(","):void 0,u.saveConfiguration(e.restrictedGroups,m).then(function(t){e.restrictedGroups=t,h("restrictedGroups")})},e.saveAuditorsRoles=function(){u.saveConfiguration(e.auditorsRoles,m).then(function(t){e.auditorsRoles=t,h("auditorsRoles")})},e.saveLogWorkForOthersGroups=function(){e.logWorkForOthersGroups.val=e.logWorkForOthersGroups.val?e.logWorkForOthersGroups.val.split(","):void 0,u.saveConfiguration(e.logWorkForOthersGroups,m).then(function(t){e.logWorkForOthersGroups=t,h("logWorkForOthersGroups")})},e.saveCompositionIssueLink=function(){u.saveConfiguration(e.compositionIssueLink,m).then(function(t){e.compositionIssueLink=t,h("compositionIssueLink")})},e.saveParentIssueField=function(){u.saveConfiguration(e.parentIssueField,m).then(function(t){e.parentIssueField=t,h("parentIssueField")})},e.saveParentIssueType=function(){u.saveConfiguration(e.parentIssueType,m).then(function(t){e.parentIssueType=t,h("parentIssueType")})},e.saveWeekendType=function(){var t=angular.copy(e.weekendType);"60"===t.val&&(t.val=null),u.saveConfiguration(t,m).then(function(t){t.val||(t.val="60"),e.weekendType=t,h("weekendType")})},e.savePreserveStartedTime=function(){u.saveConfiguration(e.preserveStartedTime,m).then(function(t){e.preserveStartedTime=t,h("preserveStartedTime")})},e.saveTimeInStatusCategories=function(){e.timeInStatusCategories.val=e.timeInStatusCategories.val?e.timeInStatusCategories.val.split(","):void 0,u.saveConfiguration(e.timeInStatusCategories,m).then(function(t){e.timeInStatusCategories=t,h("timeInStatusCategories")})},e.saveTimeTrackingColumns=function(){e.timeTrackingColumns.val=e.timeTrackingColumns.val?e.timeTrackingColumns.val.split(","):void 0,u.saveConfiguration(e.timeTrackingColumns,m).then(function(t){e.timeTrackingColumns=t,h("timeTrackingColumns")})},e.saveTimeBalanceColumns=function(){e.timeBalanceColumns.val=e.timeBalanceColumns.val?e.timeBalanceColumns.val.split(","):void 0,u.saveConfiguration(e.timeBalanceColumns,m).then(function(t){e.timeBalanceColumns=t,h("timeBalanceColumns")})},e.saveExportColumns=function(){e.exportColumns.val=e.exportColumns.val?e.exportColumns.val.split(","):void 0,u.saveConfiguration(e.exportColumns,m).then(function(t){e.exportColumns=t,h("exportColumns")})},e.saveWorkingTimeInStatus=function(){u.saveConfiguration(e.workingTimeInStatus,m).then(function(t){e.workingTimeInStatus=t,h("workingTimeInStatus")})},e.saveStartedTimeInStatus=function(){u.saveConfiguration(e.startedTimeInStatus,m).then(function(t){e.startedTimeInStatus=t,h("startedTimeInStatus")})},e.saveDurationType=function(){"h"===e.durationType.val&&(e.durationType.val=null);var t;null!=e.prettyDuration.val?(e.prettyDuration.val=null,t=u.saveConfiguration(e.prettyDuration,m)):t=a.resolve(),t.then(function(){u.saveConfiguration(e.durationType,m).then(function(t){e.durationType=t,e.durationType.val||(e.durationType.val="h"),h("durationType")}),e.durationType.val||(e.durationType.val="h")})},e.saveDurationTypeForExport=function(){"h"===e.durationTypeForExport.val&&(e.durationTypeForExport.val=null),u.saveConfiguration(e.durationTypeForExport,m).then(function(t){e.durationTypeForExport=t,e.durationTypeForExport.val||(e.durationTypeForExport.val="h"),h("durationTypeForExport")})},e.saveDateFields=function(){e.dateFields.val=e.dateFields.val?e.dateFields.val.split(","):void 0,u.saveConfiguration(e.dateFields,m).then(function(t){e.dateFields=t,h("dateFields")})},e.saveMaxFractionDigits=function(){2===e.maxFractionDigits.val&&(e.maxFractionDigits.val=null),u.saveConfiguration(e.maxFractionDigits,m).then(function(t){e.maxFractionDigits=t,null==e.maxFractionDigits.val&&(e.maxFractionDigits.val=2),h("maxFractionDigits")}),null==e.maxFractionDigits.val&&(e.maxFractionDigits.val=2)},e.saveCacheWorklog=function(){u.saveConfiguration(e.cacheWorklog,m).then(function(t){e.cacheWorklog=t,h("cacheWorklog")})},e.saveWorklogVisibilityGroup=function(){u.saveConfiguration(e.worklogVisibilityGroup,m).then(function(t){e.worklogVisibilityGroup=t,h("worklogVisibilityGroup")})},e.saveWorklogVisibilityRole=function(){u.saveConfiguration(e.worklogVisibilityRole,m).then(function(t){e.worklogVisibilityRole=t,h("worklogVisibilityRole")})},e.saveTimeentryPanelGroups=function(){e.timeentryPanelGroups.val=e.timeentryPanelGroups.val?e.timeentryPanelGroups.val.split(","):void 0,u.saveConfiguration(e.timeentryPanelGroups,m).then(function(t){e.timeentryPanelGroups=t,h("timeentryPanelGroups")})},e.saveTimeentryPanelProjects=function(){e.timeentryPanelProjects.val=e.timeentryPanelProjects.val?e.timeentryPanelProjects.val.split(","):void 0,u.saveConfiguration(e.timeentryPanelProjects,m).then(function(t){e.timeentryPanelProjects=t,h("timeentryPanelProjects")})};var _=function(){u.saveConfiguration(e.workLabels,m).then(function(t){e.workLabels=t,e.workLabels.val||(e.workLabels.val=[]),h("workLabels")})};e.addWorkLabel=function(t){t&&e.workLabels.val.indexOf(t)<0?(e.workLabels.val.push(t),e.workLabels.val.sort(),_()):f("workLabels")},e.removeWorkLabel=function(t){e.workLabels.val.splice(t,1),_()},e.saveDisableLogWork=function(){u.saveConfiguration(e.disableLogWork,m).then(function(t){e.disableLogWork=t,h("disableLogWork")})},e.saveRestrictWorkPerDay=function(){u.saveConfiguration(e.restrictWorkPerDay,m).then(function(t){e.restrictWorkPerDay=t,h("restrictWorkPerDay")})},e.saveLogWorkRetrospectively=function(){u.saveConfiguration(e.logWorkRetrospectively,m).then(function(t){e.logWorkRetrospectively=t,h("logWorkRetrospectively")})},e.saveWorkDescriptionRequired=function(){u.saveConfiguration(e.workDescriptionRequired,m).then(function(t){e.workDescriptionRequired=t,h("workDescriptionRequired")})},e.saveInProgressIssuesJql=function(){u.saveConfiguration(e.inProgressIssuesJql,m).then(function(t){e.inProgressIssuesJql=t,h("inProgressIssuesJql")})},e.saveShowDetailsCount=function(){u.saveConfiguration(e.showDetailsCount,m).then(function(t){e.showDetailsCount=t,h("showDetailsCount")})},e.saveShowCategoryRow=function(){u.saveConfiguration(e.showCategoryRow,m).then(function(t){e.showCategoryRow=t,h("showCategoryRow")})},e.saveShowTotalInFront=function(){u.saveConfiguration(e.showTotalInFront,m).then(function(t){e.showTotalInFront=t,h("showTotalInFront")})},e.saveReportingDay=function(){u.saveConfiguration(e.reportingDay,m).then(function(t){e.reportingDay=t,h("reportingDay")})},e.saveWorkUnderLimitColor=function(){"#000000"===e.workUnderLimitColor.val&&delete e.workUnderLimitColor.val,u.saveConfiguration(e.workUnderLimitColor,m).then(function(t){e.workUnderLimitColor={key:"workUnderLimitColor",val:t.val||"#000000"},h("workUnderLimitColor")})},e.saveWorkOverLimitColor=function(){"#000000"===e.workOverLimitColor.val&&delete e.workOverLimitColor.val,u.saveConfiguration(e.workOverLimitColor,m).then(function(t){e.workOverLimitColor={key:"workOverLimitColor",val:t.val||"#000000"},h("workOverLimitColor")})},e.getApiKey=function(){c.get("/api/key?accountId="+encodeURIComponent(m.accountId)).then(function(e){v.flag.create({title:"REST Key",body:e.data,type:"success"})},function(e){v.flag.create({title:"REST Key",body:e.data||e||"Something went wrong",type:"error"})})},y()}]),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){function e(){return Bn.apply(null,arguments)}function t(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function n(e,t){var i,n=[];for(i=0;i<e.length;++i)n.push(t(e[i],i));return n}function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function a(e,t){for(var i in t)r(t,i)&&(e[i]=t[i]);return r(t,"toString")&&(e.toString=t.toString),r(t,"valueOf")&&(e.valueOf=t.valueOf),e}function o(e,t,i,n){return Oe(e,t,i,n,!0).utc()}function s(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function l(e){return null==e._pf&&(e._pf=s()),e._pf}function u(e){if(null==e._isValid){var t=l(e);e._isValid=!(isNaN(e._d.getTime())||!(t.overflow<0)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function d(e){var t=o(NaN);return null!=e?a(l(t),e):l(t).userInvalidated=!0,t}function c(e,t){var i,n,r;if(void 0!==t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),void 0!==t._i&&(e._i=t._i),void 0!==t._f&&(e._f=t._f),void 0!==t._l&&(e._l=t._l),void 0!==t._strict&&(e._strict=t._strict),void 0!==t._tzm&&(e._tzm=t._tzm),void 0!==t._isUTC&&(e._isUTC=t._isUTC),void 0!==t._offset&&(e._offset=t._offset),void 0!==t._pf&&(e._pf=l(t)),void 0!==t._locale&&(e._locale=t._locale),Nn.length>0)for(i in Nn)n=Nn[i],void 0!==(r=t[n])&&(e[n]=r);return e}function m(t){c(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),!1===Wn&&(Wn=!0,e.updateOffset(this),Wn=!1)}function p(e){return e instanceof m||null!=e&&null!=e._isAMomentObject}function h(e){return e<0?Math.ceil(e):Math.floor(e)}function f(e){var t=+e,i=0;return 0!==t&&isFinite(t)&&(i=h(t)),i}function g(e,t,i){var n,r=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(n=0;n<r;n++)(i&&e[n]!==t[n]||!i&&f(e[n])!==f(t[n]))&&o++;return o+a}function y(){}function v(e){return e?e.toLowerCase().replace("_","-"):e}function _(e){for(var t,i,n,r,a=0;a<e.length;){for(r=v(e[a]).split("-"),t=r.length,i=v(e[a+1]),i=i?i.split("-"):null;t>0;){if(n=w(r.slice(0,t).join("-")))return n;if(i&&i.length>=t&&g(r,i,!0)>=t-1)break;t--}a++}return null}function w(e){var t=null;if(!jn[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Yn._abbr,require("./locale/"+e),T(t)}catch(e){}return jn[e]}function T(e,t){var i;return e&&(i=void 0===t?k(e):b(e,t))&&(Yn=i),Yn._abbr}function b(e,t){return null!==t?(t.abbr=e,jn[e]=jn[e]||new y,jn[e].set(t),T(e),jn[e]):(delete jn[e],null)}function k(e){var i;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Yn;if(!t(e)){if(i=w(e))return i;e=[e]}return _(e)}function S(e,t){var i=e.toLowerCase();Vn[i]=Vn[i+"s"]=Vn[t]=e}function A(e){return"string"==typeof e?Vn[e]||Vn[e.toLowerCase()]:void 0}function D(e){var t,i,n={};for(i in e)r(e,i)&&(t=A(i))&&(n[t]=e[i]);return n}function O(t,i){return function(n){return null!=n?(I(this,t,n),e.updateOffset(this,i),this):E(this,t)}}function E(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function I(e,t,i){return e._d["set"+(e._isUTC?"UTC":"")+t](i)}function M(e,t){var i;if("object"==typeof e)for(i in e)this.set(i,e[i]);else if(e=A(e),"function"==typeof this[e])return this[e](t);return this}function L(e,t,i){var n=""+Math.abs(e),r=t-n.length;return(e>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+n}function P(e,t,i,n){var r=n;"string"==typeof n&&(r=function(){return this[n]()}),e&&(Gn[e]=r),t&&(Gn[t[0]]=function(){return L(r.apply(this,arguments),t[1],t[2])}),i&&(Gn[i]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function C(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function x(e){var t,i,n=e.match(zn);for(t=0,i=n.length;t<i;t++)Gn[n[t]]?n[t]=Gn[n[t]]:n[t]=C(n[t]);return function(r){var a="";for(t=0;t<i;t++)a+=n[t]instanceof Function?n[t].call(r,e):n[t];return a}}function F(e,t){return e.isValid()?(t=U(t,e.localeData()),$n[t]=$n[t]||x(t),$n[t](e)):e.localeData().invalidDate()}function U(e,t){function i(e){return t.longDateFormat(e)||e}var n=5;for(Hn.lastIndex=0;n>=0&&Hn.test(e);)e=e.replace(Hn,i),Hn.lastIndex=0,n-=1;return e}function R(e){return"function"==typeof e&&"[object Function]"===Object.prototype.toString.call(e)}function B(e,t,i){lr[e]=R(t)?t:function(e){return e&&i?i:t}}function Y(e,t){return r(lr,e)?lr[e](t._strict,t._locale):new RegExp(N(e))}function N(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,n,r){return t||i||n||r}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function W(e,t){var i,n=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(n=function(e,i){i[t]=f(e)}),i=0;i<e.length;i++)ur[e[i]]=n}function j(e,t){W(e,function(e,i,n,r){n._w=n._w||{},t(e,n._w,n,r)})}function V(e,t,i){null!=t&&r(ur,e)&&ur[e](t,i._a,i,e)}function z(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function H(e){return this._months[e.month()]}function $(e){return this._monthsShort[e.month()]}function G(e,t,i){var n,r,a;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(r=o([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(a="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(a.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(i&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!i&&this._monthsParse[n].test(e))return n}}function K(e,t){var i;return"string"==typeof t&&"number"!=typeof(t=e.localeData().monthsParse(t))?e:(i=Math.min(e.date(),z(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e)}function J(t){return null!=t?(K(this,t),e.updateOffset(this,!0),this):E(this,"Month")}function q(){return z(this.year(),this.month())}function Z(e){var t,i=e._a;return i&&-2===l(e).overflow&&(t=i[cr]<0||i[cr]>11?cr:i[mr]<1||i[mr]>z(i[dr],i[cr])?mr:i[pr]<0||i[pr]>24||24===i[pr]&&(0!==i[hr]||0!==i[fr]||0!==i[gr])?pr:i[hr]<0||i[hr]>59?hr:i[fr]<0||i[fr]>59?fr:i[gr]<0||i[gr]>999?gr:-1,l(e)._overflowDayOfYear&&(t<dr||t>mr)&&(t=mr),l(e).overflow=t),e}function Q(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function X(e,t){var i=!0;return a(function(){return i&&(Q(e+"\n"+(new Error).stack),i=!1),t.apply(this,arguments)},t)}function ee(e,t){_r[e]||(Q(t),_r[e]=!0)}function te(e){var t,i,n=e._i,r=wr.exec(n);if(r){for(l(e).iso=!0,t=0,i=Tr.length;t<i;t++)if(Tr[t][1].exec(n)){e._f=Tr[t][0];break}for(t=0,i=br.length;t<i;t++)if(br[t][1].exec(n)){e._f+=(r[6]||" ")+br[t][0];break}n.match(ar)&&(e._f+="Z"),we(e)}else e._isValid=!1}function ie(t){var i=kr.exec(t._i);if(null!==i)return void(t._d=new Date(+i[1]));te(t),!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t))}function ne(e,t,i,n,r,a,o){var s=new Date(e,t,i,n,r,a,o);return e<1970&&s.setFullYear(e),s}function re(e){var t=new Date(Date.UTC.apply(null,arguments));return e<1970&&t.setUTCFullYear(e),t}function ae(e){return oe(e)?366:365}function oe(e){return e%4==0&&e%100!=0||e%400==0}function se(){return oe(this.year())}function le(e,t,i){var n,r=i-t,a=i-e.day();return a>r&&(a-=7),a<r-7&&(a+=7),n=Ee(e).add(a,"d"),{week:Math.ceil(n.dayOfYear()/7),year:n.year()}}function ue(e){return le(e,this._week.dow,this._week.doy).week}function de(){return this._week.dow}function ce(){return this._week.doy}function me(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function pe(e){var t=le(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function he(e,t,i,n,r){var a,o=6+r-n,s=re(e,0,1+o),l=s.getUTCDay();return l<r&&(l+=7),i=null!=i?1*i:r,a=1+o+7*(t-1)-l+i,{year:a>0?e:e-1,dayOfYear:a>0?a:ae(e-1)+a}}function fe(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function ge(e,t,i){return null!=e?e:null!=t?t:i}function ye(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function ve(e){var t,i,n,r,a=[];if(!e._d){for(n=ye(e),e._w&&null==e._a[mr]&&null==e._a[cr]&&_e(e),e._dayOfYear&&(r=ge(e._a[dr],n[dr]),e._dayOfYear>ae(r)&&(l(e)._overflowDayOfYear=!0),i=re(r,0,e._dayOfYear),e._a[cr]=i.getUTCMonth(),e._a[mr]=i.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=n[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[pr]&&0===e._a[hr]&&0===e._a[fr]&&0===e._a[gr]&&(e._nextDay=!0,e._a[pr]=0),e._d=(e._useUTC?re:ne).apply(null,a),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[pr]=24)}}function _e(e){var t,i,n,r,a,o,s;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(a=1,o=4,i=ge(t.GG,e._a[dr],le(Ee(),1,4).year),n=ge(t.W,1),r=ge(t.E,1)):(a=e._locale._week.dow,o=e._locale._week.doy,i=ge(t.gg,e._a[dr],le(Ee(),a,o).year),n=ge(t.w,1),null!=t.d?(r=t.d)<a&&++n:r=null!=t.e?t.e+a:a),s=he(i,n,r,o,a),e._a[dr]=s.year,e._dayOfYear=s.dayOfYear}function we(t){if(t._f===e.ISO_8601)return void te(t);t._a=[],l(t).empty=!0;var i,n,r,a,o,s=""+t._i,u=s.length,d=0;for(r=U(t._f,t._locale).match(zn)||[],i=0;i<r.length;i++)a=r[i],n=(s.match(Y(a,t))||[])[0],n&&(o=s.substr(0,s.indexOf(n)),o.length>0&&l(t).unusedInput.push(o),s=s.slice(s.indexOf(n)+n.length),d+=n.length),Gn[a]?(n?l(t).empty=!1:l(t).unusedTokens.push(a),V(a,n,t)):t._strict&&!n&&l(t).unusedTokens.push(a);l(t).charsLeftOver=u-d,s.length>0&&l(t).unusedInput.push(s),!0===l(t).bigHour&&t._a[pr]<=12&&t._a[pr]>0&&(l(t).bigHour=void 0),t._a[pr]=Te(t._locale,t._a[pr],t._meridiem),ve(t),Z(t)}function Te(e,t,i){var n;return null==i?t:null!=e.meridiemHour?e.meridiemHour(t,i):null!=e.isPM?(n=e.isPM(i),n&&t<12&&(t+=12),n||12!==t||(t=0),t):t}function be(e){var t,i,n,r,o;if(0===e._f.length)return l(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)o=0,t=c({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],we(t),u(t)&&(o+=l(t).charsLeftOver,o+=10*l(t).unusedTokens.length,l(t).score=o,(null==n||o<n)&&(n=o,i=t));a(e,i||t)}function ke(e){if(!e._d){var t=D(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],ve(e)}}function Se(e){var t=new m(Z(Ae(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Ae(e){var n=e._i,r=e._f;return e._locale=e._locale||k(e._l),null===n||void 0===r&&""===n?d({nullInput:!0}):("string"==typeof n&&(e._i=n=e._locale.preparse(n)),p(n)?new m(Z(n)):(t(r)?be(e):r?we(e):i(n)?e._d=n:De(e),e))}function De(r){var a=r._i;void 0===a?r._d=new Date:i(a)?r._d=new Date(+a):"string"==typeof a?ie(r):t(a)?(r._a=n(a.slice(0),function(e){return parseInt(e,10)}),ve(r)):"object"==typeof a?ke(r):"number"==typeof a?r._d=new Date(a):e.createFromInputFallback(r)}function Oe(e,t,i,n,r){var a={};return"boolean"==typeof i&&(n=i,i=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=r,a._l=i,a._i=e,a._f=t,a._strict=n,Se(a)}function Ee(e,t,i,n){return Oe(e,t,i,n,!1)}function Ie(e,i){var n,r;if(1===i.length&&t(i[0])&&(i=i[0]),!i.length)return Ee();for(n=i[0],r=1;r<i.length;++r)i[r].isValid()&&!i[r][e](n)||(n=i[r]);return n}function Me(){return Ie("isBefore",[].slice.call(arguments,0))}function Le(){return Ie("isAfter",[].slice.call(arguments,0))}function Pe(e){var t=D(e),i=t.year||0,n=t.quarter||0,r=t.month||0,a=t.week||0,o=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,d=t.millisecond||0;this._milliseconds=+d+1e3*u+6e4*l+36e5*s,this._days=+o+7*a,this._months=+r+3*n+12*i,this._data={},this._locale=k(),this._bubble()}function Ce(e){return e instanceof Pe}function xe(e,t){P(e,0,0,function(){var e=this.utcOffset(),i="+";return e<0&&(e=-e,i="-"),i+L(~~(e/60),2)+t+L(~~e%60,2)})}function Fe(e){var t=(e||"").match(ar)||[],i=t[t.length-1]||[],n=(i+"").match(Er)||["-",0,0],r=60*n[1]+f(n[2]);return"+"===n[0]?r:-r}function Ue(t,n){var r,a;return n._isUTC?(r=n.clone(),a=(p(t)||i(t)?+t:+Ee(t))-+r,r._d.setTime(+r._d+a),e.updateOffset(r,!1),r):Ee(t).local()}function Re(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Be(t,i){var n,r=this._offset||0;return null!=t?("string"==typeof t&&(t=Fe(t)),Math.abs(t)<16&&(t*=60),!this._isUTC&&i&&(n=Re(this)),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),r!==t&&(!i||this._changeInProgress?et(this,Je(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:Re(this)}function Ye(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Ne(e){return this.utcOffset(0,e)}function We(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Re(this),"m")),this}function je(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Fe(this._i)),this}function Ve(e){return e=e?Ee(e).utcOffset():0,(this.utcOffset()-e)%60==0}function ze(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function He(){if(void 0!==this._isDSTShifted)return this._isDSTShifted;var e={};if(c(e,this),e=Ae(e),e._a){var t=e._isUTC?o(e._a):Ee(e._a);this._isDSTShifted=this.isValid()&&g(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function $e(){return!this._isUTC}function Ge(){return this._isUTC}function Ke(){return this._isUTC&&0===this._offset}function Je(e,t){var i,n,a,o=e,s=null;return Ce(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(s=Ir.exec(e))?(i="-"===s[1]?-1:1,o={y:0,d:f(s[mr])*i,h:f(s[pr])*i,m:f(s[hr])*i,s:f(s[fr])*i,ms:f(s[gr])*i}):(s=Mr.exec(e))?(i="-"===s[1]?-1:1,o={y:qe(s[2],i),M:qe(s[3],i),d:qe(s[4],i),h:qe(s[5],i),m:qe(s[6],i),s:qe(s[7],i),w:qe(s[8],i)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(a=Qe(Ee(o.from),Ee(o.to)),o={},o.ms=a.milliseconds,o.M=a.months),n=new Pe(o),Ce(e)&&r(e,"_locale")&&(n._locale=e._locale),n}function qe(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function Ze(e,t){var i={milliseconds:0,months:0};return i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function Qe(e,t){var i;return t=Ue(t,e),e.isBefore(t)?i=Ze(e,t):(i=Ze(t,e),i.milliseconds=-i.milliseconds,i.months=-i.months),i}function Xe(e,t){return function(i,n){var r,a;return null===n||isNaN(+n)||(ee(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),a=i,i=n,n=a),i="string"==typeof i?+i:i,r=Je(i,n),et(this,r,e),this}}function et(t,i,n,r){var a=i._milliseconds,o=i._days,s=i._months;r=null==r||r,a&&t._d.setTime(+t._d+a*n),o&&I(t,"Date",E(t,"Date")+o*n),s&&K(t,E(t,"Month")+s*n),r&&e.updateOffset(t,o||s)}function tt(e,t){var i=e||Ee(),n=Ue(i,this).startOf("day"),r=this.diff(n,"days",!0),a=r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse";return this.format(t&&t[a]||this.localeData().calendar(a,this,Ee(i)))}function it(){return new m(this)}function nt(e,t){return t=A(void 0!==t?t:"millisecond"),"millisecond"===t?(e=p(e)?e:Ee(e),+this>+e):(p(e)?+e:+Ee(e))<+this.clone().startOf(t)}function rt(e,t){var i;return t=A(void 0!==t?t:"millisecond"),"millisecond"===t?(e=p(e)?e:Ee(e),+this<+e):(i=p(e)?+e:+Ee(e),+this.clone().endOf(t)<i)}function at(e,t,i){return this.isAfter(e,i)&&this.isBefore(t,i)}function ot(e,t){var i;return t=A(t||"millisecond"),"millisecond"===t?(e=p(e)?e:Ee(e),+this==+e):(i=+Ee(e),+this.clone().startOf(t)<=i&&i<=+this.clone().endOf(t))}function st(e,t,i){var n,r,a=Ue(e,this),o=6e4*(a.utcOffset()-this.utcOffset());return t=A(t),"year"===t||"month"===t||"quarter"===t?(r=lt(this,a),"quarter"===t?r/=3:"year"===t&&(r/=12)):(n=this-a,r="second"===t?n/1e3:"minute"===t?n/6e4:"hour"===t?n/36e5:"day"===t?(n-o)/864e5:"week"===t?(n-o)/6048e5:n),i?r:h(r)}function lt(e,t){var i,n,r=12*(t.year()-e.year())+(t.month()-e.month()),a=e.clone().add(r,"months");return t-a<0?(i=e.clone().add(r-1,"months"),n=(t-a)/(a-i)):(i=e.clone().add(r+1,"months"),n=(t-a)/(i-a)),-(r+n)}function ut(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function dt(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():F(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):F(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ct(t){var i=F(this,t||e.defaultFormat);return this.localeData().postformat(i)}function mt(e,t){return this.isValid()?Je({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function pt(e){return this.from(Ee(),e)}function ht(e,t){return this.isValid()?Je({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ft(e){return this.to(Ee(),e)}function gt(e){var t;return void 0===e?this._locale._abbr:(t=k(e),null!=t&&(this._locale=t),this)}function yt(){return this._locale}function vt(e){switch(e=A(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function _t(e){return e=A(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function wt(){return+this._d-6e4*(this._offset||0)}function Tt(){return Math.floor(+this/1e3)}function bt(){return this._offset?new Date(+this):this._d}function kt(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function St(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function At(){return u(this)}function Dt(){return a({},l(this))}function Ot(){return l(this).overflow}function Et(e,t){P(0,[e,e.length],0,t)}function It(e,t,i){return le(Ee([e,11,31+t-i]),t,i).week}function Mt(e){var t=le(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")}function Lt(e){var t=le(this,1,4).year;return null==e?t:this.add(e-t,"y")}function Pt(){return It(this.year(),1,4)}function Ct(){var e=this.localeData()._week;return It(this.year(),e.dow,e.doy)}function xt(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Ft(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Ut(e){return this._weekdays[e.day()]}function Rt(e){return this._weekdaysShort[e.day()]}function Bt(e){return this._weekdaysMin[e.day()]}function Yt(e){var t,i,n;for(this._weekdaysParse=this._weekdaysParse||[],t=0;t<7;t++)if(this._weekdaysParse[t]||(i=Ee([2e3,1]).day(t),n="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[t]=new RegExp(n.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t}function Nt(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Ft(e,this.localeData()),this.add(e-t,"d")):t}function Wt(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function jt(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)}function Vt(e,t){P(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function zt(e,t){return t._meridiemParse}function Ht(e){return"p"===(e+"").toLowerCase().charAt(0)}function $t(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"}function Gt(e,t){t[gr]=f(1e3*("0."+e))}function Kt(){return this._isUTC?"UTC":""}function Jt(){return this._isUTC?"Coordinated Universal Time":""}function qt(e){return Ee(1e3*e)}function Zt(){return Ee.apply(null,arguments).parseZone()}function Qt(e,t,i){var n=this._calendar[e];return"function"==typeof n?n.call(t,i):n}function Xt(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function ei(){return this._invalidDate}function ti(e){return this._ordinal.replace("%d",e)}function ii(e){return e}function ni(e,t,i,n){var r=this._relativeTime[i];return"function"==typeof r?r(e,t,i,n):r.replace(/%d/i,e)}function ri(e,t){var i=this._relativeTime[e>0?"future":"past"];return"function"==typeof i?i(t):i.replace(/%s/i,t)}function ai(e){var t,i;for(i in e)t=e[i],"function"==typeof t?this[i]=t:this["_"+i]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function oi(e,t,i,n){var r=k(),a=o().set(n,t);return r[i](a,e)}function si(e,t,i,n,r){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return oi(e,t,i,r);var a,o=[];for(a=0;a<n;a++)o[a]=oi(e,a,i,r);return o}function li(e,t){return si(e,t,"months",12,"month")}function ui(e,t){return si(e,t,"monthsShort",12,"month")}function di(e,t){return si(e,t,"weekdays",7,"day")}function ci(e,t){return si(e,t,"weekdaysShort",7,"day")}function mi(e,t){return si(e,t,"weekdaysMin",7,"day")
}function pi(){var e=this._data;return this._milliseconds=Zr(this._milliseconds),this._days=Zr(this._days),this._months=Zr(this._months),e.milliseconds=Zr(e.milliseconds),e.seconds=Zr(e.seconds),e.minutes=Zr(e.minutes),e.hours=Zr(e.hours),e.months=Zr(e.months),e.years=Zr(e.years),this}function hi(e,t,i,n){var r=Je(t,i);return e._milliseconds+=n*r._milliseconds,e._days+=n*r._days,e._months+=n*r._months,e._bubble()}function fi(e,t){return hi(this,e,t,1)}function gi(e,t){return hi(this,e,t,-1)}function yi(e){return e<0?Math.floor(e):Math.ceil(e)}function vi(){var e,t,i,n,r,a=this._milliseconds,o=this._days,s=this._months,l=this._data;return a>=0&&o>=0&&s>=0||a<=0&&o<=0&&s<=0||(a+=864e5*yi(wi(s)+o),o=0,s=0),l.milliseconds=a%1e3,e=h(a/1e3),l.seconds=e%60,t=h(e/60),l.minutes=t%60,i=h(t/60),l.hours=i%24,o+=h(i/24),r=h(_i(o)),s+=r,o-=yi(wi(r)),n=h(s/12),s%=12,l.days=o,l.months=s,l.years=n,this}function _i(e){return 4800*e/146097}function wi(e){return 146097*e/4800}function Ti(e){var t,i,n=this._milliseconds;if("month"===(e=A(e))||"year"===e)return t=this._days+n/864e5,i=this._months+_i(t),"month"===e?i:i/12;switch(t=this._days+Math.round(wi(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}}function bi(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*f(this._months/12)}function ki(e){return function(){return this.as(e)}}function Si(e){return e=A(e),this[e+"s"]()}function Ai(e){return function(){return this._data[e]}}function Di(){return h(this.days()/7)}function Oi(e,t,i,n,r){return r.relativeTime(t||1,!!i,e,n)}function Ei(e,t,i){var n=Je(e).abs(),r=pa(n.as("s")),a=pa(n.as("m")),o=pa(n.as("h")),s=pa(n.as("d")),l=pa(n.as("M")),u=pa(n.as("y")),d=r<ha.s&&["s",r]||1===a&&["m"]||a<ha.m&&["mm",a]||1===o&&["h"]||o<ha.h&&["hh",o]||1===s&&["d"]||s<ha.d&&["dd",s]||1===l&&["M"]||l<ha.M&&["MM",l]||1===u&&["y"]||["yy",u];return d[2]=t,d[3]=+e>0,d[4]=i,Oi.apply(null,d)}function Ii(e,t){return void 0!==ha[e]&&(void 0===t?ha[e]:(ha[e]=t,!0))}function Mi(e){var t=this.localeData(),i=Ei(this,!e,t);return e&&(i=t.pastFuture(+this,i)),t.postformat(i)}function Li(){var e,t,i,n=fa(this._milliseconds)/1e3,r=fa(this._days),a=fa(this._months);e=h(n/60),t=h(e/60),n%=60,e%=60,i=h(a/12),a%=12;var o=i,s=a,l=r,u=t,d=e,c=n,m=this.asSeconds();return m?(m<0?"-":"")+"P"+(o?o+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(u||d||c?"T":"")+(u?u+"H":"")+(d?d+"M":"")+(c?c+"S":""):"P0D"}function Pi(e,t){var i=e.split("_");return t%10==1&&t%100!=11?i[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?i[1]:i[2]}function Ci(e,t,i){var n={mm:t?"хвіліна_хвіліны_хвілін":"хвіліну_хвіліны_хвілін",hh:t?"гадзіна_гадзіны_гадзін":"гадзіну_гадзіны_гадзін",dd:"дзень_дні_дзён",MM:"месяц_месяцы_месяцаў",yy:"год_гады_гадоў"};return"m"===i?t?"хвіліна":"хвіліну":"h"===i?t?"гадзіна":"гадзіну":e+" "+Pi(n[i],+e)}function xi(e,t){return{nominative:"студзень_люты_сакавік_красавік_травень_чэрвень_ліпень_жнівень_верасень_кастрычнік_лістапад_снежань".split("_"),accusative:"студзеня_лютага_сакавіка_красавіка_траўня_чэрвеня_ліпеня_жніўня_верасня_кастрычніка_лістапада_снежня".split("_")}[/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative"][e.month()]}function Fi(e,t){return{nominative:"нядзеля_панядзелак_аўторак_серада_чацвер_пятніца_субота".split("_"),accusative:"нядзелю_панядзелак_аўторак_сераду_чацвер_пятніцу_суботу".split("_")}[/\[ ?[Вв] ?(?:мінулую|наступную)? ?\] ?dddd/.test(t)?"accusative":"nominative"][e.day()]}function Ui(e,t,i){return e+" "+Yi({mm:"munutenn",MM:"miz",dd:"devezh"}[i],e)}function Ri(e){switch(Bi(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}function Bi(e){return e>9?Bi(e%10):e}function Yi(e,t){return 2===t?Ni(e):e}function Ni(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}function Wi(e,t,i){var n=e+" ";switch(i){case"m":return t?"jedna minuta":"jedne minute";case"mm":return n+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return n+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return n+=1===e?"dan":"dana";case"MM":return n+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return n+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}function ji(e){return e>1&&e<5&&1!=~~(e/10)}function Vi(e,t,i,n){var r=e+" ";switch(i){case"s":return t||n?"pár sekund":"pár sekundami";case"m":return t?"minuta":n?"minutu":"minutou";case"mm":return t||n?r+(ji(e)?"minuty":"minut"):r+"minutami";case"h":return t?"hodina":n?"hodinu":"hodinou";case"hh":return t||n?r+(ji(e)?"hodiny":"hodin"):r+"hodinami";case"d":return t||n?"den":"dnem";case"dd":return t||n?r+(ji(e)?"dny":"dní"):r+"dny";case"M":return t||n?"měsíc":"měsícem";case"MM":return t||n?r+(ji(e)?"měsíce":"měsíců"):r+"měsíci";case"y":return t||n?"rok":"rokem";case"yy":return t||n?r+(ji(e)?"roky":"let"):r+"lety"}}function zi(e,t,i,n){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[i][0]:r[i][1]}function Hi(e,t,i,n){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[i][0]:r[i][1]}function $i(e,t,i,n){var r={s:["mõne sekundi","mõni sekund","paar sekundit"],m:["ühe minuti","üks minut"],mm:[e+" minuti",e+" minutit"],h:["ühe tunni","tund aega","üks tund"],hh:[e+" tunni",e+" tundi"],d:["ühe päeva","üks päev"],M:["kuu aja","kuu aega","üks kuu"],MM:[e+" kuu",e+" kuud"],y:["ühe aasta","aasta","üks aasta"],yy:[e+" aasta",e+" aastat"]};return t?r[i][2]?r[i][2]:r[i][1]:n?r[i][0]:r[i][1]}function Gi(e,t,i,n){var r="";switch(i){case"s":return n?"muutaman sekunnin":"muutama sekunti";case"m":return n?"minuutin":"minuutti";case"mm":r=n?"minuutin":"minuuttia";break;case"h":return n?"tunnin":"tunti";case"hh":r=n?"tunnin":"tuntia";break;case"d":return n?"päivän":"päivä";case"dd":r=n?"päivän":"päivää";break;case"M":return n?"kuukauden":"kuukausi";case"MM":r=n?"kuukauden":"kuukautta";break;case"y":return n?"vuoden":"vuosi";case"yy":r=n?"vuoden":"vuotta"}return r=Ki(e,n)+" "+r}function Ki(e,t){return e<10?t?Ba[e]:Ra[e]:e}function Ji(e,t,i){var n=e+" ";switch(i){case"m":return t?"jedna minuta":"jedne minute";case"mm":return n+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return n+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return n+=1===e?"dan":"dana";case"MM":return n+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return n+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}function qi(e,t,i,n){var r=e;switch(i){case"s":return n||t?"néhány másodperc":"néhány másodperce";case"m":return"egy"+(n||t?" perc":" perce");case"mm":return r+(n||t?" perc":" perce");case"h":return"egy"+(n||t?" óra":" órája");case"hh":return r+(n||t?" óra":" órája");case"d":return"egy"+(n||t?" nap":" napja");case"dd":return r+(n||t?" nap":" napja");case"M":return"egy"+(n||t?" hónap":" hónapja");case"MM":return r+(n||t?" hónap":" hónapja");case"y":return"egy"+(n||t?" év":" éve");case"yy":return r+(n||t?" év":" éve")}return""}function Zi(e){return(e?"":"[múlt] ")+"["+Va[this.day()]+"] LT[-kor]"}function Qi(e,t){return{nominative:"հունվար_փետրվար_մարտ_ապրիլ_մայիս_հունիս_հուլիս_օգոստոս_սեպտեմբեր_հոկտեմբեր_նոյեմբեր_դեկտեմբեր".split("_"),accusative:"հունվարի_փետրվարի_մարտի_ապրիլի_մայիսի_հունիսի_հուլիսի_օգոստոսի_սեպտեմբերի_հոկտեմբերի_նոյեմբերի_դեկտեմբերի".split("_")}[/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative"][e.month()]}function Xi(e,t){return"հնվ_փտր_մրտ_ապր_մյս_հնս_հլս_օգս_սպտ_հկտ_նմբ_դկտ".split("_")[e.month()]}function en(e,t){return"կիրակի_երկուշաբթի_երեքշաբթի_չորեքշաբթի_հինգշաբթի_ուրբաթ_շաբաթ".split("_")[e.day()]}function tn(e){return e%100==11||e%10!=1}function nn(e,t,i,n){var r=e+" ";switch(i){case"s":return t||n?"nokkrar sekúndur":"nokkrum sekúndum";case"m":return t?"mínúta":"mínútu";case"mm":return tn(e)?r+(t||n?"mínútur":"mínútum"):t?r+"mínúta":r+"mínútu";case"hh":return tn(e)?r+(t||n?"klukkustundir":"klukkustundum"):r+"klukkustund";case"d":return t?"dagur":n?"dag":"degi";case"dd":return tn(e)?t?r+"dagar":r+(n?"daga":"dögum"):t?r+"dagur":r+(n?"dag":"degi");case"M":return t?"mánuður":n?"mánuð":"mánuði";case"MM":return tn(e)?t?r+"mánuðir":r+(n?"mánuði":"mánuðum"):t?r+"mánuður":r+(n?"mánuð":"mánuði");case"y":return t||n?"ár":"ári";case"yy":return tn(e)?r+(t||n?"ár":"árum"):r+(t||n?"ár":"ári")}}function rn(e,t){return{nominative:"იანვარი_თებერვალი_მარტი_აპრილი_მაისი_ივნისი_ივლისი_აგვისტო_სექტემბერი_ოქტომბერი_ნოემბერი_დეკემბერი".split("_"),accusative:"იანვარს_თებერვალს_მარტს_აპრილის_მაისს_ივნისს_ივლისს_აგვისტს_სექტემბერს_ოქტომბერს_ნოემბერს_დეკემბერს".split("_")}[/D[oD] *MMMM?/.test(t)?"accusative":"nominative"][e.month()]}function an(e,t){return{nominative:"კვირა_ორშაბათი_სამშაბათი_ოთხშაბათი_ხუთშაბათი_პარასკევი_შაბათი".split("_"),accusative:"კვირას_ორშაბათს_სამშაბათს_ოთხშაბათს_ხუთშაბათს_პარასკევს_შაბათს".split("_")}[/(წინა|შემდეგ)/.test(t)?"accusative":"nominative"][e.day()]}function on(e,t,i,n){var r={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?r[i][0]:r[i][1]}function sn(e){return un(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e}function ln(e){return un(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e}function un(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10,i=e/10;return un(0===t?i:t)}if(e<1e4){for(;e>=10;)e/=10;return un(e)}return e/=1e3,un(e)}function dn(e,t,i,n){return t?"kelios sekundės":n?"kelių sekundžių":"kelias sekundes"}function cn(e,t){return{nominative:"sausis_vasaris_kovas_balandis_gegužė_birželis_liepa_rugpjūtis_rugsėjis_spalis_lapkritis_gruodis".split("_"),accusative:"sausio_vasario_kovo_balandžio_gegužės_birželio_liepos_rugpjūčio_rugsėjo_spalio_lapkričio_gruodžio".split("_")}[/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative"][e.month()]}function mn(e,t,i,n){return t?hn(i)[0]:n?hn(i)[1]:hn(i)[2]}function pn(e){return e%10==0||e>10&&e<20}function hn(e){return za[e].split("_")}function fn(e,t,i,n){var r=e+" ";return 1===e?r+mn(e,t,i[0],n):t?r+(pn(e)?hn(i)[1]:hn(i)[0]):n?r+hn(i)[1]:r+(pn(e)?hn(i)[1]:hn(i)[2])}function gn(e,t){var i=-1===t.indexOf("dddd HH:mm"),n=Ha[e.day()];return i?n:n.substring(0,n.length-2)+"į"}function yn(e,t,i){return i?t%10==1&&11!==t?e[2]:e[3]:t%10==1&&11!==t?e[0]:e[1]}function vn(e,t,i){return e+" "+yn($a[i],e,t)}function _n(e,t,i){return yn($a[i],e,t)}function wn(e,t){return t?"dažas sekundes":"dažām sekundēm"}function Tn(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function bn(e,t,i){var n=e+" ";switch(i){case"m":return t?"minuta":"minutę";case"mm":return n+(Tn(e)?"minuty":"minut");case"h":return t?"godzina":"godzinę";case"hh":return n+(Tn(e)?"godziny":"godzin");case"MM":return n+(Tn(e)?"miesiące":"miesięcy");case"yy":return n+(Tn(e)?"lata":"lat")}}function kn(e,t,i){var n={mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"},r=" ";return(e%100>=20||e>=100&&e%100==0)&&(r=" de "),e+r+n[i]}function Sn(e,t){var i=e.split("_");return t%10==1&&t%100!=11?i[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?i[1]:i[2]}function An(e,t,i){var n={mm:t?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"};return"m"===i?t?"минута":"минуту":e+" "+Sn(n[i],+e)}function Dn(e,t){return{nominative:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),accusative:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_")}[/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative"][e.month()]}function On(e,t){return{nominative:"янв_фев_март_апр_май_июнь_июль_авг_сен_окт_ноя_дек".split("_"),accusative:"янв_фев_мар_апр_мая_июня_июля_авг_сен_окт_ноя_дек".split("_")}[/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative"][e.month()]}function En(e,t){return{nominative:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),accusative:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_")}[/\[ ?[Вв] ?(?:прошлую|следующую|эту)? ?\] ?dddd/.test(t)?"accusative":"nominative"][e.day()]}function In(e){return e>1&&e<5}function Mn(e,t,i,n){var r=e+" ";switch(i){case"s":return t||n?"pár sekúnd":"pár sekundami";case"m":return t?"minúta":n?"minútu":"minútou";case"mm":return t||n?r+(In(e)?"minúty":"minút"):r+"minútami";case"h":return t?"hodina":n?"hodinu":"hodinou";case"hh":return t||n?r+(In(e)?"hodiny":"hodín"):r+"hodinami";case"d":return t||n?"deň":"dňom";case"dd":return t||n?r+(In(e)?"dni":"dní"):r+"dňami";case"M":return t||n?"mesiac":"mesiacom";case"MM":return t||n?r+(In(e)?"mesiace":"mesiacov"):r+"mesiacmi";case"y":return t||n?"rok":"rokom";case"yy":return t||n?r+(In(e)?"roky":"rokov"):r+"rokmi"}}function Ln(e,t,i,n){var r=e+" ";switch(i){case"s":return t||n?"nekaj sekund":"nekaj sekundami";case"m":return t?"ena minuta":"eno minuto";case"mm":return r+=1===e?t?"minuta":"minuto":2===e?t||n?"minuti":"minutama":e<5?t||n?"minute":"minutami":t||n?"minut":"minutami";case"h":return t?"ena ura":"eno uro";case"hh":return r+=1===e?t?"ura":"uro":2===e?t||n?"uri":"urama":e<5?t||n?"ure":"urami":t||n?"ur":"urami";case"d":return t||n?"en dan":"enim dnem";case"dd":return r+=1===e?t||n?"dan":"dnem":2===e?t||n?"dni":"dnevoma":t||n?"dni":"dnevi";case"M":return t||n?"en mesec":"enim mesecem";case"MM":return r+=1===e?t||n?"mesec":"mesecem":2===e?t||n?"meseca":"mesecema":e<5?t||n?"mesece":"meseci":t||n?"mesecev":"meseci";case"y":return t||n?"eno leto":"enim letom";case"yy":return r+=1===e?t||n?"leto":"letom":2===e?t||n?"leti":"letoma":e<5?t||n?"leta":"leti":t||n?"let":"leti"}}function Pn(e,t,i,n){var r={s:["viensas secunds","'iensas secunds"],m:["'n míut","'iens míut"],mm:[e+" míuts"," "+e+" míuts"],h:["'n þora","'iensa þora"],hh:[e+" þoras"," "+e+" þoras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas"," "+e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen"," "+e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars"," "+e+" ars"]};return n?r[i][0]:t?r[i][0]:r[i][1].trim()}function Cn(e,t){var i=e.split("_");return t%10==1&&t%100!=11?i[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?i[1]:i[2]}function xn(e,t,i){var n={mm:"хвилина_хвилини_хвилин",hh:"година_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"};return"m"===i?t?"хвилина":"хвилину":"h"===i?t?"година":"годину":e+" "+Cn(n[i],+e)}function Fn(e,t){return{nominative:"січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_"),accusative:"січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_")}[/D[oD]? *MMMM?/.test(t)?"accusative":"nominative"][e.month()]}function Un(e,t){return{nominative:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),accusative:"неділю_понеділок_вівторок_середу_четвер_п’ятницю_суботу".split("_"),genitive:"неділі_понеділка_вівторка_середи_четверга_п’ятниці_суботи".split("_")}[/(\[[ВвУу]\]) ?dddd/.test(t)?"accusative":/\[?(?:минулої|наступної)? ?\] ?dddd/.test(t)?"genitive":"nominative"][e.day()]}function Rn(e){return function(){return e+"о"+(11===this.hours()?"б":"")+"] LT"}}var Bn,Yn,Nn=e.momentProperties=[],Wn=!1,jn={},Vn={},zn=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Hn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,$n={},Gn={},Kn=/\d/,Jn=/\d\d/,qn=/\d{3}/,Zn=/\d{4}/,Qn=/[+-]?\d{6}/,Xn=/\d\d?/,er=/\d{1,3}/,tr=/\d{1,4}/,ir=/[+-]?\d{1,6}/,nr=/\d+/,rr=/[+-]?\d+/,ar=/Z|[+-]\d\d:?\d\d/gi,or=/[+-]?\d+(\.\d{1,3})?/,sr=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,lr={},ur={},dr=0,cr=1,mr=2,pr=3,hr=4,fr=5,gr=6;P("M",["MM",2],"Mo",function(){return this.month()+1}),P("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),P("MMMM",0,0,function(e){return this.localeData().months(this,e)}),S("month","M"),B("M",Xn),B("MM",Xn,Jn),B("MMM",sr),B("MMMM",sr),W(["M","MM"],function(e,t){t[cr]=f(e)-1}),W(["MMM","MMMM"],function(e,t,i,n){var r=i._locale.monthsParse(e,n,i._strict);null!=r?t[cr]=r:l(i).invalidMonth=e});var yr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),vr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),_r={};e.suppressDeprecationWarnings=!1;var wr=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Tr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],br=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],kr=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=X("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),P(0,["YY",2],0,function(){return this.year()%100}),P(0,["YYYY",4],0,"year"),P(0,["YYYYY",5],0,"year"),P(0,["YYYYYY",6,!0],0,"year"),S("year","y"),B("Y",rr),B("YY",Xn,Jn),B("YYYY",tr,Zn),B("YYYYY",ir,Qn),B("YYYYYY",ir,Qn),W(["YYYYY","YYYYYY"],dr),W("YYYY",function(t,i){i[dr]=2===t.length?e.parseTwoDigitYear(t):f(t)}),W("YY",function(t,i){i[dr]=e.parseTwoDigitYear(t)}),e.parseTwoDigitYear=function(e){return f(e)+(f(e)>68?1900:2e3)};var Sr=O("FullYear",!1);P("w",["ww",2],"wo","week"),P("W",["WW",2],"Wo","isoWeek"),S("week","w"),S("isoWeek","W"),B("w",Xn),B("ww",Xn,Jn),B("W",Xn),B("WW",Xn,Jn),j(["w","ww","W","WW"],function(e,t,i,n){t[n.substr(0,1)]=f(e)});var Ar={dow:0,doy:6};P("DDD",["DDDD",3],"DDDo","dayOfYear"),S("dayOfYear","DDD"),B("DDD",er),B("DDDD",qn),W(["DDD","DDDD"],function(e,t,i){i._dayOfYear=f(e)}),e.ISO_8601=function(){};var Dr=X("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=Ee.apply(null,arguments);return e<this?this:e}),Or=X("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=Ee.apply(null,arguments);return e>this?this:e});xe("Z",":"),xe("ZZ",""),B("Z",ar),B("ZZ",ar),W(["Z","ZZ"],function(e,t,i){i._useUTC=!0,i._tzm=Fe(e)});var Er=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Ir=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Mr=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Je.fn=Pe.prototype;var Lr=Xe(1,"add"),Pr=Xe(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Cr=X("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});P(0,["gg",2],0,function(){return this.weekYear()%100}),P(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Et("gggg","weekYear"),Et("ggggg","weekYear"),Et("GGGG","isoWeekYear"),Et("GGGGG","isoWeekYear"),S("weekYear","gg"),S("isoWeekYear","GG"),B("G",rr),B("g",rr),B("GG",Xn,Jn),B("gg",Xn,Jn),B("GGGG",tr,Zn),B("gggg",tr,Zn),B("GGGGG",ir,Qn),B("ggggg",ir,Qn),j(["gggg","ggggg","GGGG","GGGGG"],function(e,t,i,n){t[n.substr(0,2)]=f(e)}),j(["gg","GG"],function(t,i,n,r){i[r]=e.parseTwoDigitYear(t)}),P("Q",0,0,"quarter"),S("quarter","Q"),B("Q",Kn),W("Q",function(e,t){t[cr]=3*(f(e)-1)}),P("D",["DD",2],"Do","date"),S("date","D"),B("D",Xn),B("DD",Xn,Jn),B("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),W(["D","DD"],mr),W("Do",function(e,t){t[mr]=f(e.match(Xn)[0],10)});var xr=O("Date",!0);P("d",0,"do","day"),P("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),P("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),P("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),P("e",0,0,"weekday"),P("E",0,0,"isoWeekday"),S("day","d"),S("weekday","e"),S("isoWeekday","E"),B("d",Xn),B("e",Xn),B("E",Xn),B("dd",sr),B("ddd",sr),B("dddd",sr),j(["dd","ddd","dddd"],function(e,t,i){var n=i._locale.weekdaysParse(e);null!=n?t.d=n:l(i).invalidWeekday=e}),j(["d","e","E"],function(e,t,i,n){t[n]=f(e)});var Fr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ur="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Rr="Su_Mo_Tu_We_Th_Fr_Sa".split("_");P("H",["HH",2],0,"hour"),P("h",["hh",2],0,function(){return this.hours()%12||12}),Vt("a",!0),Vt("A",!1),S("hour","h"),B("a",zt),B("A",zt),B("H",Xn),B("h",Xn),B("HH",Xn,Jn),B("hh",Xn,Jn),W(["H","HH"],pr),W(["a","A"],function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e}),W(["h","hh"],function(e,t,i){t[pr]=f(e),l(i).bigHour=!0});var Br=/[ap]\.?m?\.?/i,Yr=O("Hours",!0);P("m",["mm",2],0,"minute"),S("minute","m"),B("m",Xn),B("mm",Xn,Jn),W(["m","mm"],hr);var Nr=O("Minutes",!1);P("s",["ss",2],0,"second"),S("second","s"),B("s",Xn),B("ss",Xn,Jn),W(["s","ss"],fr);var Wr=O("Seconds",!1);P("S",0,0,function(){return~~(this.millisecond()/100)}),P(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),P(0,["SSS",3],0,"millisecond"),P(0,["SSSS",4],0,function(){return 10*this.millisecond()}),P(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),P(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),P(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),P(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),P(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),S("millisecond","ms"),B("S",er,Kn),B("SS",er,Jn),B("SSS",er,qn);var jr;for(jr="SSSS";jr.length<=9;jr+="S")B(jr,nr);for(jr="S";jr.length<=9;jr+="S")W(jr,Gt);var Vr=O("Milliseconds",!1);P("z",0,0,"zoneAbbr"),P("zz",0,0,"zoneName");var zr=m.prototype;zr.add=Lr,zr.calendar=tt,zr.clone=it,zr.diff=st,zr.endOf=_t,zr.format=ct,zr.from=mt,zr.fromNow=pt,zr.to=ht,zr.toNow=ft,zr.get=M,zr.invalidAt=Ot,zr.isAfter=nt,zr.isBefore=rt,zr.isBetween=at,zr.isSame=ot,zr.isValid=At,zr.lang=Cr,zr.locale=gt,zr.localeData=yt,zr.max=Or,zr.min=Dr,zr.parsingFlags=Dt,zr.set=M,zr.startOf=vt,zr.subtract=Pr,zr.toArray=kt,zr.toObject=St,zr.toDate=bt,zr.toISOString=dt,zr.toJSON=dt,zr.toString=ut,zr.unix=Tt,zr.valueOf=wt,zr.year=Sr,zr.isLeapYear=se,zr.weekYear=Mt,zr.isoWeekYear=Lt,zr.quarter=zr.quarters=xt,zr.month=J,zr.daysInMonth=q,zr.week=zr.weeks=me,zr.isoWeek=zr.isoWeeks=pe,zr.weeksInYear=Ct,zr.isoWeeksInYear=Pt,zr.date=xr,zr.day=zr.days=Nt,zr.weekday=Wt,zr.isoWeekday=jt,zr.dayOfYear=fe,zr.hour=zr.hours=Yr,zr.minute=zr.minutes=Nr,zr.second=zr.seconds=Wr,zr.millisecond=zr.milliseconds=Vr,zr.utcOffset=Be,zr.utc=Ne,zr.local=We,zr.parseZone=je,zr.hasAlignedHourOffset=Ve,zr.isDST=ze,zr.isDSTShifted=He,zr.isLocal=$e,zr.isUtcOffset=Ge,zr.isUtc=Ke,zr.isUTC=Ke,zr.zoneAbbr=Kt,zr.zoneName=Jt,zr.dates=X("dates accessor is deprecated. Use date instead.",xr),zr.months=X("months accessor is deprecated. Use month instead",J),zr.years=X("years accessor is deprecated. Use year instead",Sr),zr.zone=X("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Ye);var Hr=zr,$r={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Gr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Kr=/\d{1,2}/,Jr={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},qr=y.prototype;qr._calendar=$r,qr.calendar=Qt,qr._longDateFormat=Gr,qr.longDateFormat=Xt,qr._invalidDate="Invalid date",qr.invalidDate=ei,qr._ordinal="%d",qr.ordinal=ti,qr._ordinalParse=Kr,qr.preparse=ii,qr.postformat=ii,qr._relativeTime=Jr,qr.relativeTime=ni,qr.pastFuture=ri,qr.set=ai,qr.months=H,qr._months=yr,qr.monthsShort=$,qr._monthsShort=vr,qr.monthsParse=G,qr.week=ue,qr._week=Ar,qr.firstDayOfYear=ce,qr.firstDayOfWeek=de,qr.weekdays=Ut,qr._weekdays=Fr,qr.weekdaysMin=Bt,qr._weekdaysMin=Rr,qr.weekdaysShort=Rt,qr._weekdaysShort=Ur,qr.weekdaysParse=Yt,qr.isPM=Ht,qr._meridiemParse=Br,qr.meridiem=$t,T("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===f(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),e.lang=X("moment.lang is deprecated. Use moment.locale instead.",T),e.langData=X("moment.langData is deprecated. Use moment.localeData instead.",k);var Zr=Math.abs,Qr=ki("ms"),Xr=ki("s"),ea=ki("m"),ta=ki("h"),ia=ki("d"),na=ki("w"),ra=ki("M"),aa=ki("y"),oa=Ai("milliseconds"),sa=Ai("seconds"),la=Ai("minutes"),ua=Ai("hours"),da=Ai("days"),ca=Ai("months"),ma=Ai("years"),pa=Math.round,ha={s:45,m:45,h:22,d:26,M:11},fa=Math.abs,ga=Pe.prototype;ga.abs=pi,ga.add=fi,ga.subtract=gi,ga.as=Ti,ga.asMilliseconds=Qr,ga.asSeconds=Xr,ga.asMinutes=ea,ga.asHours=ta,ga.asDays=ia,ga.asWeeks=na,ga.asMonths=ra,ga.asYears=aa,ga.valueOf=bi,ga._bubble=vi,ga.get=Si,ga.milliseconds=oa,ga.seconds=sa,ga.minutes=la,ga.hours=ua,ga.days=da,ga.weeks=Di,ga.months=ca,ga.years=ma,ga.humanize=Mi,ga.toISOString=Li,ga.toString=Li,ga.toJSON=Li,ga.locale=gt,ga.localeData=yt,ga.toIsoString=X("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Li),ga.lang=Cr,P("X",0,0,"unix"),P("x",0,0,"valueOf"),B("x",rr),B("X",or),W("X",function(e,t,i){i._d=new Date(1e3*parseFloat(e,10))}),W("x",function(e,t,i){i._d=new Date(f(e))}),e.version="2.10.6",function(e){Bn=e}(Ee),e.fn=Hr,e.min=Me,e.max=Le,e.utc=o,e.unix=qt,e.months=li,e.isDate=i,e.locale=T,e.invalid=d,e.duration=Je,e.isMoment=p,e.weekdays=di,e.parseZone=Zt,e.localeData=k,e.isDuration=Ce,e.monthsShort=ui,e.weekdaysMin=mi,e.defineLocale=b,e.weekdaysShort=ci,e.normalizeUnits=A,e.relativeTimeThreshold=Ii;var ya=e,va=(ya.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,i){return e<12?i?"vm":"VM":i?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Môre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}}),ya.defineLocale("ar-ma",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:6,doy:12}}),{1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"}),_a={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},wa=(ya.defineLocale("ar-sa",{months:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,i){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,function(e){return _a[e]}).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return va[e]}).replace(/,/g,"،")},week:{dow:6,doy:12}}),ya.defineLocale("ar-tn",{months:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:1,doy:4}}),{1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"}),Ta={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},ba=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},ka={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},Sa=function(e){return function(t,i,n,r){var a=ba(t),o=ka[e][ba(t)];return 2===a&&(o=o[i?0:1]),o.replace(/%d/i,t)}},Aa=["كانون الثاني يناير","شباط فبراير","آذار مارس","نيسان أبريل","أيار مايو","حزيران يونيو","تموز يوليو","آب أغسطس","أيلول سبتمبر","تشرين الأول أكتوبر","تشرين الثاني نوفمبر","كانون الأول ديسمبر"],Da=(ya.defineLocale("ar",{months:Aa,monthsShort:Aa,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),
weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,i){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:Sa("s"),m:Sa("m"),mm:Sa("m"),h:Sa("h"),hh:Sa("h"),d:Sa("d"),dd:Sa("d"),M:Sa("M"),MM:Sa("M"),y:Sa("y"),yy:Sa("y")},preparse:function(e){return e.replace(/\u200f/g,"").replace(/[١٢٣٤٥٦٧٨٩٠]/g,function(e){return Ta[e]}).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return wa[e]}).replace(/,/g,"،")},week:{dow:6,doy:12}}),{1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-üncü",4:"-üncü",100:"-üncü",6:"-ncı",9:"-uncu",10:"-uncu",30:"-uncu",60:"-ıncı",90:"-ıncı"}),Oa=(ya.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertəsi_Çərşənbə axşamı_Çərşənbə_Cümə axşamı_Cümə_Şənbə".split("_"),weekdaysShort:"Baz_BzE_ÇAx_Çər_CAx_Cüm_Şən".split("_"),weekdaysMin:"Bz_BE_ÇA_Çə_CA_Cü_Şə".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gələn həftə] dddd [saat] LT",lastDay:"[dünən] LT",lastWeek:"[keçən həftə] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s əvvəl",s:"birneçə saniyyə",m:"bir dəqiqə",mm:"%d dəqiqə",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gecə|səhər|gündüz|axşam/,isPM:function(e){return/^(gündüz|axşam)$/.test(e)},meridiem:function(e,t,i){return e<4?"gecə":e<12?"səhər":e<17?"gündüz":"axşam"},ordinalParse:/\d{1,2}-(ıncı|inci|nci|üncü|ncı|uncu)/,ordinal:function(e){if(0===e)return e+"-ıncı";var t=e%10,i=e%100-t,n=e>=100?100:null;return e+(Da[t]||Da[i]||Da[n])},week:{dow:1,doy:7}}),ya.defineLocale("be",{months:xi,monthsShort:"студ_лют_сак_крас_трав_чэрв_ліп_жнів_вер_каст_ліст_снеж".split("_"),weekdays:Fi,weekdaysShort:"нд_пн_ат_ср_чц_пт_сб".split("_"),weekdaysMin:"нд_пн_ат_ср_чц_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., HH:mm",LLLL:"dddd, D MMMM YYYY г., HH:mm"},calendar:{sameDay:"[Сёння ў] LT",nextDay:"[Заўтра ў] LT",lastDay:"[Учора ў] LT",nextWeek:function(){return"[У] dddd [ў] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[У мінулую] dddd [ў] LT";case 1:case 2:case 4:return"[У мінулы] dddd [ў] LT"}},sameElse:"L"},relativeTime:{future:"праз %s",past:"%s таму",s:"некалькі секунд",m:Ci,mm:Ci,h:Ci,hh:Ci,d:"дзень",dd:Ci,M:"месяц",MM:Ci,y:"год",yy:Ci},meridiemParse:/ночы|раніцы|дня|вечара/,isPM:function(e){return/^(дня|вечара)$/.test(e)},meridiem:function(e,t,i){return e<4?"ночы":e<12?"раніцы":e<17?"дня":"вечара"},ordinalParse:/\d{1,2}-(і|ы|га)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!=2&&e%10!=3||e%100==12||e%100==13?e+"-ы":e+"-і";case"D":return e+"-га";default:return e}},week:{dow:1,doy:7}}),ya.defineLocale("bg",{months:"януари_февруари_март_април_май_юни_юли_август_септември_октомври_ноември_декември".split("_"),monthsShort:"янр_фев_мар_апр_май_юни_юли_авг_сеп_окт_ное_дек".split("_"),weekdays:"неделя_понеделник_вторник_сряда_четвъртък_петък_събота".split("_"),weekdaysShort:"нед_пон_вто_сря_чет_пет_съб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Днес в] LT",nextDay:"[Утре в] LT",nextWeek:"dddd [в] LT",lastDay:"[Вчера в] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[В изминалата] dddd [в] LT";case 1:case 2:case 4:case 5:return"[В изминалия] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"след %s",past:"преди %s",s:"няколко секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дни",M:"месец",MM:"%d месеца",y:"година",yy:"%d години"},ordinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(e){var t=e%10,i=e%100;return 0===e?e+"-ев":0===i?e+"-ен":i>10&&i<20?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}}),{1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",0:"০"}),Ea={"১":"1","২":"2","৩":"3","৪":"4","৫":"5","৬":"6","৭":"7","৮":"8","৯":"9","০":"0"},Ia=(ya.defineLocale("bn",{months:"জানুয়ারী_ফেবুয়ারী_মার্চ_এপ্রিল_মে_জুন_জুলাই_অগাস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর".split("_"),monthsShort:"জানু_ফেব_মার্চ_এপর_মে_জুন_জুল_অগ_সেপ্ট_অক্টো_নভ_ডিসেম্".split("_"),weekdays:"রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পত্তিবার_শুক্রুবার_শনিবার".split("_"),weekdaysShort:"রবি_সোম_মঙ্গল_বুধ_বৃহস্পত্তি_শুক্রু_শনি".split("_"),weekdaysMin:"রব_সম_মঙ্গ_বু_ব্রিহ_শু_শনি".split("_"),longDateFormat:{LT:"A h:mm সময়",LTS:"A h:mm:ss সময়",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm সময়",LLLL:"dddd, D MMMM YYYY, A h:mm সময়"},calendar:{sameDay:"[আজ] LT",nextDay:"[আগামীকাল] LT",nextWeek:"dddd, LT",lastDay:"[গতকাল] LT",lastWeek:"[গত] dddd, LT",sameElse:"L"},relativeTime:{future:"%s পরে",past:"%s আগে",s:"কএক সেকেন্ড",m:"এক মিনিট",mm:"%d মিনিট",h:"এক ঘন্টা",hh:"%d ঘন্টা",d:"এক দিন",dd:"%d দিন",M:"এক মাস",MM:"%d মাস",y:"এক বছর",yy:"%d বছর"},preparse:function(e){return e.replace(/[১২৩৪৫৬৭৮৯০]/g,function(e){return Ea[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Oa[e]})},meridiemParse:/রাত|সকাল|দুপুর|বিকেল|রাত/,isPM:function(e){return/^(দুপুর|বিকেল|রাত)$/.test(e)},meridiem:function(e,t,i){return e<4?"রাত":e<10?"সকাল":e<17?"দুপুর":e<20?"বিকেল":"রাত"},week:{dow:0,doy:6}}),{1:"༡",2:"༢",3:"༣",4:"༤",5:"༥",6:"༦",7:"༧",8:"༨",9:"༩",0:"༠"}),Ma={"༡":"1","༢":"2","༣":"3","༤":"4","༥":"5","༦":"6","༧":"7","༨":"8","༩":"9","༠":"0"},La=(ya.defineLocale("bo",{months:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),monthsShort:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),weekdays:"གཟའ་ཉི་མ་_གཟའ་ཟླ་བ་_གཟའ་མིག་དམར་_གཟའ་ལྷག་པ་_གཟའ་ཕུར་བུ_གཟའ་པ་སངས་_གཟའ་སྤེན་པ་".split("_"),weekdaysShort:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),weekdaysMin:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[དི་རིང] LT",nextDay:"[སང་ཉིན] LT",nextWeek:"[བདུན་ཕྲག་རྗེས་མ], LT",lastDay:"[ཁ་སང] LT",lastWeek:"[བདུན་ཕྲག་མཐའ་མ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ལ་",past:"%s སྔན་ལ",s:"ལམ་སང",m:"སྐར་མ་གཅིག",mm:"%d སྐར་མ",h:"ཆུ་ཚོད་གཅིག",hh:"%d ཆུ་ཚོད",d:"ཉིན་གཅིག",dd:"%d ཉིན་",M:"ཟླ་བ་གཅིག",MM:"%d ཟླ་བ",y:"ལོ་གཅིག",yy:"%d ལོ"},preparse:function(e){return e.replace(/[༡༢༣༤༥༦༧༨༩༠]/g,function(e){return Ma[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Ia[e]})},meridiemParse:/མཚན་མོ|ཞོགས་ཀས|ཉིན་གུང|དགོང་དག|མཚན་མོ/,isPM:function(e){return/^(ཉིན་གུང|དགོང་དག|མཚན་མོ)$/.test(e)},meridiem:function(e,t,i){return e<4?"མཚན་མོ":e<10?"ཞོགས་ཀས":e<17?"ཉིན་གུང":e<20?"དགོང་དག":"མཚན་མོ"},week:{dow:0,doy:6}}),ya.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondennoù",m:"ur vunutenn",mm:Ui,h:"un eur",hh:"%d eur",d:"un devezh",dd:Ui,M:"ur miz",MM:Ui,y:"ur bloaz",yy:Ri},ordinalParse:/\d{1,2}(añ|vet)/,ordinal:function(e){return e+(1===e?"añ":"vet")},week:{dow:1,doy:4}}),ya.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:Wi,mm:Wi,h:Wi,hh:Wi,d:"dan",dd:Wi,M:"mjesec",MM:Wi,y:"godinu",yy:Wi},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),ya.defineLocale("ca",{months:"gener_febrer_març_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),monthsShort:"gen._febr._mar._abr._mai._jun._jul._ag._set._oct._nov._des.".split("_"),weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd D MMMM YYYY H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[demà a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},ordinalParse:/\d{1,2}(r|n|t|è|a)/,ordinal:function(e,t){var i=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"è";return"w"!==t&&"W"!==t||(i="a"),e+i},week:{dow:1,doy:4}}),"leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_")),Pa="led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_"),Ca=(ya.defineLocale("cs",{months:La,monthsShort:Pa,monthsParse:function(e,t){var i,n=[];for(i=0;i<12;i++)n[i]=new RegExp("^"+e[i]+"$|^"+t[i]+"$","i");return n}(La,Pa),weekdays:"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),weekdaysShort:"ne_po_út_st_čt_pá_so".split("_"),weekdaysMin:"ne_po_út_st_čt_pá_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes v] LT",nextDay:"[zítra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v neděli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve středu v] LT";case 4:return"[ve čtvrtek v] LT";case 5:return"[v pátek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[včera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou neděli v] LT";case 1:case 2:return"[minulé] dddd [v] LT";case 3:return"[minulou středu v] LT";case 4:case 5:return"[minulý] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"před %s",s:Vi,m:Vi,mm:Vi,h:Vi,hh:Vi,d:Vi,dd:Vi,M:Vi,MM:Vi,y:Vi,yy:Vi},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),ya.defineLocale("cv",{months:"кӑрлач_нарӑс_пуш_ака_май_ҫӗртме_утӑ_ҫурла_авӑн_юпа_чӳк_раштав".split("_"),monthsShort:"кӑр_нар_пуш_ака_май_ҫӗр_утӑ_ҫур_авн_юпа_чӳк_раш".split("_"),weekdays:"вырсарникун_тунтикун_ытларикун_юнкун_кӗҫнерникун_эрнекун_шӑматкун".split("_"),weekdaysShort:"выр_тун_ытл_юн_кӗҫ_эрн_шӑм".split("_"),weekdaysMin:"вр_тн_ыт_юн_кҫ_эр_шм".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ]",LLL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm",LLLL:"dddd, YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm"},calendar:{sameDay:"[Паян] LT [сехетре]",nextDay:"[Ыран] LT [сехетре]",lastDay:"[Ӗнер] LT [сехетре]",nextWeek:"[Ҫитес] dddd LT [сехетре]",lastWeek:"[Иртнӗ] dddd LT [сехетре]",sameElse:"L"},relativeTime:{future:function(e){return e+(/сехет$/i.exec(e)?"рен":/ҫул$/i.exec(e)?"тан":"ран")},past:"%s каялла",s:"пӗр-ик ҫеккунт",m:"пӗр минут",mm:"%d минут",h:"пӗр сехет",hh:"%d сехет",d:"пӗр кун",dd:"%d кун",M:"пӗр уйӑх",MM:"%d уйӑх",y:"пӗр ҫул",yy:"%d ҫул"},ordinalParse:/\d{1,2}-мӗш/,ordinal:"%d-мӗш",week:{dow:1,doy:7}}),ya.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn ôl",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},ordinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t=e,i="",n=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];return t>20?i=40===t||50===t||60===t||80===t||100===t?"fed":"ain":t>0&&(i=n[t]),e+i},week:{dow:1,doy:4}}),ya.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tir_ons_tor_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY HH:mm"},calendar:{sameDay:"[I dag kl.] LT",nextDay:"[I morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[I går kl.] LT",lastWeek:"[sidste] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"få sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder",y:"et år",yy:"%d år"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),ya.defineLocale("de-at",{months:"Jänner_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jän._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[Heute um] LT [Uhr]",sameElse:"L",nextDay:"[Morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[Gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:zi,mm:"%d Minuten",h:zi,hh:"%d Stunden",d:zi,dd:zi,M:zi,MM:zi,y:zi,yy:zi},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),ya.defineLocale("de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[Heute um] LT [Uhr]",sameElse:"L",nextDay:"[Morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[Gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:Hi,mm:"%d Minuten",h:Hi,hh:"%d Stunden",d:Hi,dd:Hi,M:Hi,MM:Hi,y:Hi,yy:Hi},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),ya.defineLocale("el",{monthsNominativeEl:"Ιανουάριος_Φεβρουάριος_Μάρτιος_Απρίλιος_Μάιος_Ιούνιος_Ιούλιος_Αύγουστος_Σεπτέμβριος_Οκτώβριος_Νοέμβριος_Δεκέμβριος".split("_"),monthsGenitiveEl:"Ιανουαρίου_Φεβρουαρίου_Μαρτίου_Απριλίου_Μαΐου_Ιουνίου_Ιουλίου_Αυγούστου_Σεπτεμβρίου_Οκτωβρίου_Νοεμβρίου_Δεκεμβρίου".split("_"),months:function(e,t){return/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]},monthsShort:"Ιαν_Φεβ_Μαρ_Απρ_Μαϊ_Ιουν_Ιουλ_Αυγ_Σεπ_Οκτ_Νοε_Δεκ".split("_"),weekdays:"Κυριακή_Δευτέρα_Τρίτη_Τετάρτη_Πέμπτη_Παρασκευή_Σάββατο".split("_"),weekdaysShort:"Κυρ_Δευ_Τρι_Τετ_Πεμ_Παρ_Σαβ".split("_"),weekdaysMin:"Κυ_Δε_Τρ_Τε_Πε_Πα_Σα".split("_"),meridiem:function(e,t,i){return e>11?i?"μμ":"ΜΜ":i?"πμ":"ΠΜ"},isPM:function(e){return"μ"===(e+"").toLowerCase()[0]},meridiemParse:/[ΠΜ]\.?Μ?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[Σήμερα {}] LT",nextDay:"[Αύριο {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[Χθες {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[το προηγούμενο] dddd [{}] LT";default:return"[την προηγούμενη] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,t){var i=this._calendarEl[e],n=t&&t.hours();return"function"==typeof i&&(i=i.apply(t)),i.replace("{}",n%12==1?"στη":"στις")},relativeTime:{future:"σε %s",past:"%s πριν",s:"λίγα δευτερόλεπτα",m:"ένα λεπτό",mm:"%d λεπτά",h:"μία ώρα",hh:"%d ώρες",d:"μία μέρα",dd:"%d μέρες",M:"ένας μήνας",MM:"%d μήνες",y:"ένας χρόνος",yy:"%d χρόνια"},ordinalParse:/\d{1,2}η/,ordinal:"%dη",week:{dow:1,doy:4}}),ya.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}}),ya.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"D MMMM, YYYY",LLL:"D MMMM, YYYY h:mm A",LLLL:"dddd, D MMMM, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),ya.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}}),ya.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_aŭgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aŭg_sep_okt_nov_dec".split("_"),weekdays:"Dimanĉo_Lundo_Mardo_Merkredo_Ĵaŭdo_Vendredo_Sabato".split("_"),weekdaysShort:"Dim_Lun_Mard_Merk_Ĵaŭ_Ven_Sab".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Ĵa_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-an de] MMMM, YYYY",LLL:"D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-an de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,i){return e>11?i?"p.t.m.":"P.T.M.":i?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodiaŭ je] LT",nextDay:"[Morgaŭ je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hieraŭ je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"je %s",past:"antaŭ %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},ordinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}}),"Ene._Feb._Mar._Abr._May._Jun._Jul._Ago._Sep._Oct._Nov._Dic.".split("_")),xa="Ene_Feb_Mar_Abr_May_Jun_Jul_Ago_Sep_Oct_Nov_Dic".split("_"),Fa=(ya.defineLocale("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:function(e,t){return/-MMM-/.test(t)?xa[e.month()]:Ca[e.month()]},weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mié._Jue._Vie._Sáb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sá".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}}),ya.defineLocale("et",{months:"jaanuar_veebruar_märts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_märts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"pühapäev_esmaspäev_teisipäev_kolmapäev_neljapäev_reede_laupäev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Täna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Järgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s pärast",past:"%s tagasi",s:$i,m:$i,mm:$i,h:$i,hh:$i,d:$i,dd:"%d päeva",M:$i,MM:$i,y:$i,yy:$i},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),ya.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),{1:"۱",2:"۲",3:"۳",4:"۴",5:"۵",6:"۶",7:"۷",8:"۸",9:"۹",0:"۰"}),Ua={"۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","۰":"0"},Ra=(ya.defineLocale("fa",{months:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),monthsShort:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),weekdays:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysShort:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysMin:"ی_د_س_چ_پ_ج_ش".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/قبل از ظهر|بعد از ظهر/,isPM:function(e){return/بعد از ظهر/.test(e)},meridiem:function(e,t,i){return e<12?"قبل از ظهر":"بعد از ظهر"},calendar:{sameDay:"[امروز ساعت] LT",nextDay:"[فردا ساعت] LT",nextWeek:"dddd [ساعت] LT",lastDay:"[دیروز ساعت] LT",lastWeek:"dddd [پیش] [ساعت] LT",sameElse:"L"},relativeTime:{future:"در %s",past:"%s پیش",s:"چندین ثانیه",m:"یک دقیقه",mm:"%d دقیقه",h:"یک ساعت",hh:"%d ساعت",d:"یک روز",dd:"%d روز",M:"یک ماه",MM:"%d ماه",y:"یک سال",yy:"%d سال"},preparse:function(e){return e.replace(/[۰-۹]/g,function(e){return Ua[e]}).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return Fa[e]}).replace(/,/g,"،")},ordinalParse:/\d{1,2}م/,ordinal:"%dم",week:{dow:6,doy:12}}),"nolla yksi kaksi kolme neljä viisi kuusi seitsemän kahdeksan yhdeksän".split(" ")),Ba=["nolla","yhden","kahden","kolmen","neljän","viiden","kuuden",Ra[7],Ra[8],Ra[9]],Ya=(ya.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tänään] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s päästä",past:"%s sitten",s:Gi,m:Gi,mm:Gi,h:Gi,hh:Gi,d:Gi,dd:Gi,M:Gi,MM:Gi,y:Gi,yy:Gi},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),ya.defineLocale("fo",{months:"januar_februar_mars_apríl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mánadagur_týsdagur_mikudagur_hósdagur_fríggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mán_týs_mik_hós_frí_ley".split("_"),weekdaysMin:"su_má_tý_mi_hó_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[Í dag kl.] LT",nextDay:"[Í morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[Í gjár kl.] LT",lastWeek:"[síðstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s síðani",s:"fá sekund",m:"ein minutt",mm:"%d minuttir",h:"ein tími",hh:"%d tímar",d:"ein dagur",dd:"%d dagar",M:"ein mánaði",MM:"%d mánaðir",y:"eitt ár",yy:"%d ár"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),ya.defineLocale("fr-ca",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|e)/,ordinal:function(e){return e+(1===e?"er":"e")}}),ya.defineLocale("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},
ordinalParse:/\d{1,2}(er|)/,ordinal:function(e){return e+(1===e?"er":"")},week:{dow:1,doy:4}}),"jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_")),Na="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),Wa=(ya.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,t){return/-MMM-/.test(t)?Na[e.month()]:Ya[e.month()]},weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[ôfrûne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",m:"ien minút",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}}),ya.defineLocale("gl",{months:"Xaneiro_Febreiro_Marzo_Abril_Maio_Xuño_Xullo_Agosto_Setembro_Outubro_Novembro_Decembro".split("_"),monthsShort:"Xan._Feb._Mar._Abr._Mai._Xuñ._Xul._Ago._Set._Out._Nov._Dec.".split("_"),weekdays:"Domingo_Luns_Martes_Mércores_Xoves_Venres_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mér._Xov._Ven._Sáb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mé_Xo_Ve_Sá".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd D MMMM YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"ás":"á")+"] LT"},nextDay:function(){return"[mañá "+(1!==this.hours()?"ás":"á")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"ás":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"á":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"ás":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return"uns segundos"===e?"nuns segundos":"en "+e},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:7}}),ya.defineLocale("he",{months:"ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר".split("_"),monthsShort:"ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳".split("_"),weekdays:"ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת".split("_"),weekdaysShort:"א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳".split("_"),weekdaysMin:"א_ב_ג_ד_ה_ו_ש".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [ב]MMMM YYYY",LLL:"D [ב]MMMM YYYY HH:mm",LLLL:"dddd, D [ב]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[היום ב־]LT",nextDay:"[מחר ב־]LT",nextWeek:"dddd [בשעה] LT",lastDay:"[אתמול ב־]LT",lastWeek:"[ביום] dddd [האחרון בשעה] LT",sameElse:"L"},relativeTime:{future:"בעוד %s",past:"לפני %s",s:"מספר שניות",m:"דקה",mm:"%d דקות",h:"שעה",hh:function(e){return 2===e?"שעתיים":e+" שעות"},d:"יום",dd:function(e){return 2===e?"יומיים":e+" ימים"},M:"חודש",MM:function(e){return 2===e?"חודשיים":e+" חודשים"},y:"שנה",yy:function(e){return 2===e?"שנתיים":e%10==0&&10!==e?e+" שנה":e+" שנים"}}}),{1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"}),ja={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"},Va=(ya.defineLocale("hi",{months:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm बजे",LTS:"A h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm बजे",LLLL:"dddd, D MMMM YYYY, A h:mm बजे"},calendar:{sameDay:"[आज] LT",nextDay:"[कल] LT",nextWeek:"dddd, LT",lastDay:"[कल] LT",lastWeek:"[पिछले] dddd, LT",sameElse:"L"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,function(e){return ja[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Wa[e]})},meridiemParse:/रात|सुबह|दोपहर|शाम/,meridiemHour:function(e,t){return 12===e&&(e=0),"रात"===t?e<4?e:e+12:"सुबह"===t?e:"दोपहर"===t?e>=10?e:e+12:"शाम"===t?e+12:void 0},meridiem:function(e,t,i){return e<4?"रात":e<10?"सुबह":e<17?"दोपहर":e<20?"शाम":"रात"},week:{dow:0,doy:6}}),ya.defineLocale("hr",{months:"siječanj_veljača_ožujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_"),monthsShort:"sij._velj._ožu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:Ji,mm:Ji,h:Ji,hh:Ji,d:"dan",dd:Ji,M:"mjesec",MM:Ji,y:"godinu",yy:Ji},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),"vasárnap hétfőn kedden szerdán csütörtökön pénteken szombaton".split(" ")),za=(ya.defineLocale("hu",{months:"január_február_március_április_május_június_július_augusztus_szeptember_október_november_december".split("_"),monthsShort:"jan_feb_márc_ápr_máj_jún_júl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat".split("_"),weekdaysShort:"vas_hét_kedd_sze_csüt_pén_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,i){return e<12?!0===i?"de":"DE":!0===i?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return Zi.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return Zi.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s múlva",past:"%s",s:qi,m:qi,mm:qi,h:qi,hh:qi,d:qi,dd:qi,M:qi,MM:qi,y:qi,yy:qi},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),ya.defineLocale("hy-am",{months:Qi,monthsShort:Xi,weekdays:en,weekdaysShort:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),weekdaysMin:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY թ.",LLL:"D MMMM YYYY թ., HH:mm",LLLL:"dddd, D MMMM YYYY թ., HH:mm"},calendar:{sameDay:"[այսօր] LT",nextDay:"[վաղը] LT",lastDay:"[երեկ] LT",nextWeek:function(){return"dddd [օրը ժամը] LT"},lastWeek:function(){return"[անցած] dddd [օրը ժամը] LT"},sameElse:"L"},relativeTime:{future:"%s հետո",past:"%s առաջ",s:"մի քանի վայրկյան",m:"րոպե",mm:"%d րոպե",h:"ժամ",hh:"%d ժամ",d:"օր",dd:"%d օր",M:"ամիս",MM:"%d ամիս",y:"տարի",yy:"%d տարի"},meridiemParse:/գիշերվա|առավոտվա|ցերեկվա|երեկոյան/,isPM:function(e){return/^(ցերեկվա|երեկոյան)$/.test(e)},meridiem:function(e){return e<4?"գիշերվա":e<12?"առավոտվա":e<17?"ցերեկվա":"երեկոյան"},ordinalParse:/\d{1,2}|\d{1,2}-(ին|րդ)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-ին":e+"-րդ";default:return e}},week:{dow:1,doy:7}}),ya.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,i){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),ya.defineLocale("is",{months:"janúar_febrúar_mars_apríl_maí_júní_júlí_ágúst_september_október_nóvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_maí_jún_júl_ágú_sep_okt_nóv_des".split("_"),weekdays:"sunnudagur_mánudagur_þriðjudagur_miðvikudagur_fimmtudagur_föstudagur_laugardagur".split("_"),weekdaysShort:"sun_mán_þri_mið_fim_fös_lau".split("_"),weekdaysMin:"Su_Má_Þr_Mi_Fi_Fö_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[í dag kl.] LT",nextDay:"[á morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[í gær kl.] LT",lastWeek:"[síðasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s síðan",s:nn,m:nn,mm:nn,h:"klukkustund",hh:nn,d:nn,dd:nn,M:nn,MM:nn,y:nn,yy:nn},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),ya.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"Domenica_Lunedì_Martedì_Mercoledì_Giovedì_Venerdì_Sabato".split("_"),weekdaysShort:"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),weekdaysMin:"D_L_Ma_Me_G_V_S".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}}),ya.defineLocale("ja",{months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"Ah時m分",LTS:"Ah時m分s秒",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah時m分",LLLL:"YYYY年M月D日Ah時m分 dddd"},meridiemParse:/午前|午後/i,isPM:function(e){return"午後"===e},meridiem:function(e,t,i){return e<12?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:"[来週]dddd LT",lastDay:"[昨日] LT",lastWeek:"[前週]dddd LT",sameElse:"L"},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}}),ya.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?e>=11?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,i){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}}),ya.defineLocale("ka",{months:rn,monthsShort:"იან_თებ_მარ_აპრ_მაი_ივნ_ივლ_აგვ_სექ_ოქტ_ნოე_დეკ".split("_"),weekdays:an,weekdaysShort:"კვი_ორშ_სამ_ოთხ_ხუთ_პარ_შაბ".split("_"),weekdaysMin:"კვ_ორ_სა_ოთ_ხუ_პა_შა".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[დღეს] LT[-ზე]",nextDay:"[ხვალ] LT[-ზე]",lastDay:"[გუშინ] LT[-ზე]",nextWeek:"[შემდეგ] dddd LT[-ზე]",lastWeek:"[წინა] dddd LT-ზე",sameElse:"L"},relativeTime:{future:function(e){return/(წამი|წუთი|საათი|წელი)/.test(e)?e.replace(/ი$/,"ში"):e+"ში"},past:function(e){return/(წამი|წუთი|საათი|დღე|თვე)/.test(e)?e.replace(/(ი|ე)$/,"ის წინ"):/წელი/.test(e)?e.replace(/წელი$/,"წლის წინ"):void 0},s:"რამდენიმე წამი",m:"წუთი",mm:"%d წუთი",h:"საათი",hh:"%d საათი",d:"დღე",dd:"%d დღე",M:"თვე",MM:"%d თვე",y:"წელი",yy:"%d წელი"},ordinalParse:/0|1-ლი|მე-\d{1,2}|\d{1,2}-ე/,ordinal:function(e){return 0===e?e:1===e?e+"-ლი":e<20||e<=100&&e%20==0||e%100==0?"მე-"+e:e+"-ე"},week:{dow:1,doy:7}}),ya.defineLocale("km",{months:"មករា_កុម្ភៈ_មិនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),monthsShort:"មករា_កុម្ភៈ_មិនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),weekdays:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysShort:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysMin:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ថ្ងៃនៈ ម៉ោង] LT",nextDay:"[ស្អែក ម៉ោង] LT",nextWeek:"dddd [ម៉ោង] LT",lastDay:"[ម្សិលមិញ ម៉ោង] LT",lastWeek:"dddd [សប្តាហ៍មុន] [ម៉ោង] LT",sameElse:"L"},relativeTime:{future:"%sទៀត",past:"%sមុន",s:"ប៉ុន្មានវិនាទី",m:"មួយនាទី",mm:"%d នាទី",h:"មួយម៉ោង",hh:"%d ម៉ោង",d:"មួយថ្ងៃ",dd:"%d ថ្ងៃ",M:"មួយខែ",MM:"%d ខែ",y:"មួយឆ្នាំ",yy:"%d ឆ្នាំ"},week:{dow:1,doy:4}}),ya.defineLocale("ko",{months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),longDateFormat:{LT:"A h시 m분",LTS:"A h시 m분 s초",L:"YYYY.MM.DD",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 A h시 m분",LLLL:"YYYY년 MMMM D일 dddd A h시 m분"},calendar:{sameDay:"오늘 LT",nextDay:"내일 LT",nextWeek:"dddd LT",lastDay:"어제 LT",lastWeek:"지난주 dddd LT",sameElse:"L"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇초",ss:"%d초",m:"일분",mm:"%d분",h:"한시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한달",MM:"%d달",y:"일년",yy:"%d년"},ordinalParse:/\d{1,2}일/,ordinal:"%d일",meridiemParse:/오전|오후/,isPM:function(e){return"오후"===e},meridiem:function(e,t,i){return e<12?"오전":"오후"}}),ya.defineLocale("lb",{months:"Januar_Februar_Mäerz_Abrëll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonndeg_Méindeg_Dënschdeg_Mëttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._Mé._Dë._Më._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mé_Dë_Më_Do_Fr_Sa".split("_"),longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gëschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:sn,past:ln,s:"e puer Sekonnen",m:on,mm:"%d Minutten",h:on,hh:"%d Stonnen",d:on,dd:"%d Deeg",M:on,MM:"%d Méint",y:on,yy:"%d Joer"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),{m:"minutė_minutės_minutę",mm:"minutės_minučių_minutes",h:"valanda_valandos_valandą",hh:"valandos_valandų_valandas",d:"diena_dienos_dieną",dd:"dienos_dienų_dienas",M:"mėnuo_mėnesio_mėnesį",MM:"mėnesiai_mėnesių_mėnesius",y:"metai_metų_metus",yy:"metai_metų_metus"}),Ha="sekmadienis_pirmadienis_antradienis_trečiadienis_ketvirtadienis_penktadienis_šeštadienis".split("_"),$a=(ya.defineLocale("lt",{months:cn,monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:gn,weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_Šeš".split("_"),weekdaysMin:"S_P_A_T_K_Pn_Š".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[Šiandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Praėjusį] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prieš %s",s:dn,m:mn,mm:fn,h:mn,hh:fn,d:mn,dd:fn,M:mn,MM:fn,y:mn,yy:fn},ordinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}}),{m:"minūtes_minūtēm_minūte_minūtes".split("_"),mm:"minūtes_minūtēm_minūte_minūtes".split("_"),h:"stundas_stundām_stunda_stundas".split("_"),hh:"stundas_stundām_stunda_stundas".split("_"),d:"dienas_dienām_diena_dienas".split("_"),dd:"dienas_dienām_diena_dienas".split("_"),M:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),MM:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")}),Ga=(ya.defineLocale("lv",{months:"janvāris_februāris_marts_aprīlis_maijs_jūnijs_jūlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jūn_jūl_aug_sep_okt_nov_dec".split("_"),weekdays:"svētdiena_pirmdiena_otrdiena_trešdiena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[Šodien pulksten] LT",nextDay:"[Rīt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagājušā] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pēc %s",past:"pirms %s",s:wn,m:_n,mm:vn,h:_n,hh:vn,d:_n,dd:vn,M:_n,MM:vn,y:_n,yy:vn},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),{words:{m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,t,i){var n=Ga.words[i];return 1===i.length?t?n[0]:n[1]:e+" "+Ga.correctGrammaticalCase(e,n)}}),Ka=(ya.defineLocale("me",{months:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar"],monthsShort:["jan.","feb.","mar.","apr.","maj","jun","jul","avg.","sep.","okt.","nov.","dec."],weekdays:["nedjelja","ponedjeljak","utorak","srijeda","četvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sri.","čet.","pet.","sub."],weekdaysMin:["ne","po","ut","sr","če","pe","su"],longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){return["[prošle] [nedjelje] [u] LT","[prošlog] [ponedjeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srijede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",m:Ga.translate,mm:Ga.translate,h:Ga.translate,hh:Ga.translate,d:"dan",dd:Ga.translate,M:"mjesec",MM:Ga.translate,y:"godinu",yy:Ga.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),ya.defineLocale("mk",{months:"јануари_февруари_март_април_мај_јуни_јули_август_септември_октомври_ноември_декември".split("_"),monthsShort:"јан_фев_мар_апр_мај_јун_јул_авг_сеп_окт_ное_дек".split("_"),weekdays:"недела_понеделник_вторник_среда_четврток_петок_сабота".split("_"),weekdaysShort:"нед_пон_вто_сре_чет_пет_саб".split("_"),weekdaysMin:"нe_пo_вт_ср_че_пе_сa".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Денес во] LT",nextDay:"[Утре во] LT",nextWeek:"dddd [во] LT",lastDay:"[Вчера во] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Во изминатата] dddd [во] LT";case 1:case 2:case 4:case 5:return"[Во изминатиот] dddd [во] LT"}},sameElse:"L"},relativeTime:{future:"после %s",past:"пред %s",s:"неколку секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дена",M:"месец",MM:"%d месеци",y:"година",yy:"%d години"},ordinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(e){var t=e%10,i=e%100;return 0===e?e+"-ев":0===i?e+"-ен":i>10&&i<20?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}}),ya.defineLocale("ml",{months:"ജനുവരി_ഫെബ്രുവരി_മാർച്ച്_ഏപ്രിൽ_മേയ്_ജൂൺ_ജൂലൈ_ഓഗസ്റ്റ്_സെപ്റ്റംബർ_ഒക്ടോബർ_നവംബർ_ഡിസംബർ".split("_"),monthsShort:"ജനു._ഫെബ്രു._മാർ._ഏപ്രി._മേയ്_ജൂൺ_ജൂലൈ._ഓഗ._സെപ്റ്റ._ഒക്ടോ._നവം._ഡിസം.".split("_"),weekdays:"ഞായറാഴ്ച_തിങ്കളാഴ്ച_ചൊവ്വാഴ്ച_ബുധനാഴ്ച_വ്യാഴാഴ്ച_വെള്ളിയാഴ്ച_ശനിയാഴ്ച".split("_"),weekdaysShort:"ഞായർ_തിങ്കൾ_ചൊവ്വ_ബുധൻ_വ്യാഴം_വെള്ളി_ശനി".split("_"),weekdaysMin:"ഞാ_തി_ചൊ_ബു_വ്യാ_വെ_ശ".split("_"),longDateFormat:{LT:"A h:mm -നു",LTS:"A h:mm:ss -നു",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -നു",LLLL:"dddd, D MMMM YYYY, A h:mm -നു"},calendar:{sameDay:"[ഇന്ന്] LT",nextDay:"[നാളെ] LT",nextWeek:"dddd, LT",lastDay:"[ഇന്നലെ] LT",lastWeek:"[കഴിഞ്ഞ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s കഴിഞ്ഞ്",past:"%s മുൻപ്",s:"അൽപ നിമിഷങ്ങൾ",m:"ഒരു മിനിറ്റ്",mm:"%d മിനിറ്റ്",h:"ഒരു മണിക്കൂർ",hh:"%d മണിക്കൂർ",d:"ഒരു ദിവസം",dd:"%d ദിവസം",M:"ഒരു മാസം",MM:"%d മാസം",y:"ഒരു വർഷം",yy:"%d വർഷം"},meridiemParse:/രാത്രി|രാവിലെ|ഉച്ച കഴിഞ്ഞ്|വൈകുന്നേരം|രാത്രി/i,isPM:function(e){return/^(ഉച്ച കഴിഞ്ഞ്|വൈകുന്നേരം|രാത്രി)$/.test(e)},meridiem:function(e,t,i){return e<4?"രാത്രി":e<12?"രാവിലെ":e<17?"ഉച്ച കഴിഞ്ഞ്":e<20?"വൈകുന്നേരം":"രാത്രി"}}),{1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"}),Ja={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"},qa=(ya.defineLocale("mr",{months:"जानेवारी_फेब्रुवारी_मार्च_एप्रिल_मे_जून_जुलै_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),monthsShort:"जाने._फेब्रु._मार्च._एप्रि._मे._जून._जुलै._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),weekdays:"रविवार_सोमवार_मंगळवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगळ_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm वाजता",LTS:"A h:mm:ss वाजता",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm वाजता",LLLL:"dddd, D MMMM YYYY, A h:mm वाजता"},calendar:{sameDay:"[आज] LT",nextDay:"[उद्या] LT",nextWeek:"dddd, LT",lastDay:"[काल] LT",lastWeek:"[मागील] dddd, LT",sameElse:"L"},relativeTime:{future:"%s नंतर",past:"%s पूर्वी",s:"सेकंद",m:"एक मिनिट",mm:"%d मिनिटे",h:"एक तास",hh:"%d तास",d:"एक दिवस",dd:"%d दिवस",M:"एक महिना",MM:"%d महिने",y:"एक वर्ष",yy:"%d वर्षे"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,function(e){return Ja[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Ka[e]})},meridiemParse:/रात्री|सकाळी|दुपारी|सायंकाळी/,meridiemHour:function(e,t){return 12===e&&(e=0),"रात्री"===t?e<4?e:e+12:"सकाळी"===t?e:"दुपारी"===t?e>=10?e:e+12:"सायंकाळी"===t?e+12:void 0},meridiem:function(e,t,i){return e<4?"रात्री":e<10?"सकाळी":e<17?"दुपारी":e<20?"सायंकाळी":"रात्री"},week:{dow:0,doy:6}}),ya.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,i){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),ya.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,i){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),{1:"၁",2:"၂",3:"၃",4:"၄",5:"၅",6:"၆",7:"၇",8:"၈",9:"၉",0:"၀"}),Za={"၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","၀":"0"},Qa=(ya.defineLocale("my",{months:"ဇန်နဝါရီ_ဖေဖော်ဝါရီ_မတ်_ဧပြီ_မေ_ဇွန်_ဇူလိုင်_သြဂုတ်_စက်တင်ဘာ_အောက်တိုဘာ_နိုဝင်ဘာ_ဒီဇင်ဘာ".split("_"),monthsShort:"ဇန်_ဖေ_မတ်_ပြီ_မေ_ဇွန်_လိုင်_သြ_စက်_အောက်_နို_ဒီ".split("_"),weekdays:"တနင်္ဂနွေ_တနင်္လာ_အင်္ဂါ_ဗုဒ္ဓဟူး_ကြာသပတေး_သောကြာ_စနေ".split("_"),weekdaysShort:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),weekdaysMin:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ယနေ.] LT [မှာ]",nextDay:"[မနက်ဖြန်] LT [မှာ]",nextWeek:"dddd LT [မှာ]",lastDay:"[မနေ.က] LT [မှာ]",lastWeek:"[ပြီးခဲ့သော] dddd LT [မှာ]",sameElse:"L"},relativeTime:{future:"လာမည့် %s မှာ",past:"လွန်ခဲ့သော %s က",s:"စက္ကန်.အနည်းငယ်",m:"တစ်မိနစ်",mm:"%d မိနစ်",h:"တစ်နာရီ",hh:"%d နာရီ",d:"တစ်ရက်",dd:"%d ရက်",M:"တစ်လ",MM:"%d လ",y:"တစ်နှစ်",yy:"%d နှစ်"},preparse:function(e){return e.replace(/[၁၂၃၄၅၆၇၈၉၀]/g,function(e){return Za[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return qa[e]})},week:{dow:1,doy:4}}),ya.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tirs_ons_tors_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"H.mm",LTS:"H.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H.mm",LLLL:"dddd D. MMMM YYYY [kl.] H.mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),{1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"}),Xa={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"},eo=(ya.defineLocale("ne",{months:"जनवरी_फेब्रुवरी_मार्च_अप्रिल_मई_जुन_जुलाई_अगष्ट_सेप्टेम्बर_अक्टोबर_नोभेम्बर_डिसेम्बर".split("_"),monthsShort:"जन._फेब्रु._मार्च_अप्रि._मई_जुन_जुलाई._अग._सेप्ट._अक्टो._नोभे._डिसे.".split("_"),weekdays:"आइतबार_सोमबार_मङ्गलबार_बुधबार_बिहिबार_शुक्रबार_शनिबार".split("_"),weekdaysShort:"आइत._सोम._मङ्गल._बुध._बिहि._शुक्र._शनि.".split("_"),weekdaysMin:"आइ._सो._मङ्_बु._बि._शु._श.".split("_"),longDateFormat:{LT:"Aको h:mm बजे",LTS:"Aको h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, Aको h:mm बजे",LLLL:"dddd, D MMMM YYYY, Aको h:mm बजे"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,function(e){return Xa[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Qa[e]})},meridiemParse:/राती|बिहान|दिउँसो|बेलुका|साँझ|राती/,meridiemHour:function(e,t){return 12===e&&(e=0),"राती"===t?e<3?e:e+12:"बिहान"===t?e:"दिउँसो"===t?e>=10?e:e+12:"बेलुका"===t||"साँझ"===t?e+12:void 0},meridiem:function(e,t,i){return e<3?"राती":e<10?"बिहान":e<15?"दिउँसो":e<18?"बेलुका":e<20?"साँझ":"राती"},calendar:{sameDay:"[आज] LT",nextDay:"[भोली] LT",nextWeek:"[आउँदो] dddd[,] LT",lastDay:"[हिजो] LT",lastWeek:"[गएको] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%sमा",past:"%s अगाडी",s:"केही समय",m:"एक मिनेट",mm:"%d मिनेट",h:"एक घण्टा",hh:"%d घण्टा",d:"एक दिन",dd:"%d दिन",M:"एक महिना",MM:"%d महिना",y:"एक बर्ष",yy:"%d बर्ष"},week:{dow:1,doy:7}}),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_")),to="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),io=(ya.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,t){return/-MMM-/.test(t)?to[e.month()]:eo[e.month()]},weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",
LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}}),ya.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_måndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mån_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_må_ty_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I går klokka] LT",lastWeek:"[Føregåande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s sidan",s:"nokre sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein månad",MM:"%d månader",y:"eit år",yy:"%d år"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),"styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_")),no="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_"),ro=(ya.defineLocale("pl",{months:function(e,t){return""===t?"("+no[e.month()]+"|"+io[e.month()]+")":/D MMMM/.test(t)?no[e.month()]:io[e.month()]},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"nie_pon_wt_śr_czw_pt_sb".split("_"),weekdaysMin:"N_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:bn,mm:bn,h:bn,hh:bn,d:"1 dzień",dd:"%d dni",M:"miesiąc",MM:bn,y:"rok",yy:bn},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),ya.defineLocale("pt-br",{months:"Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-Feira_Terça-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Dom_2ª_3ª_4ª_5ª_6ª_Sáb".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrás",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}º/,ordinal:"%dº"}),ya.defineLocale("pt",{months:"Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-Feira_Terça-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Dom_2ª_3ª_4ª_5ª_6ª_Sáb".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}}),ya.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),weekdays:"duminică_luni_marți_miercuri_joi_vineri_sâmbătă".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sâm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_Sâ".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mâine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s în urmă",s:"câteva secunde",m:"un minut",mm:kn,h:"o oră",hh:kn,d:"o zi",dd:kn,M:"o lună",MM:kn,y:"un an",yy:kn},week:{dow:1,doy:7}}),ya.defineLocale("ru",{months:Dn,monthsShort:On,weekdays:En,weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[й|я]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., HH:mm",LLLL:"dddd, D MMMM YYYY г., HH:mm"},calendar:{sameDay:"[Сегодня в] LT",nextDay:"[Завтра в] LT",lastDay:"[Вчера в] LT",nextWeek:function(){return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT"},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT";switch(this.day()){case 0:return"[В прошлое] dddd [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:An,mm:An,h:"час",hh:An,d:"день",dd:An,M:"месяц",MM:An,y:"год",yy:An},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(e){return/^(дня|вечера)$/.test(e)},meridiem:function(e,t,i){return e<4?"ночи":e<12?"утра":e<17?"дня":"вечера"},ordinalParse:/\d{1,2}-(й|го|я)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-й";case"D":return e+"-го";case"w":case"W":return e+"-я";default:return e}},week:{dow:1,doy:7}}),ya.defineLocale("si",{months:"ජනවාරි_පෙබරවාරි_මාර්තු_අප්‍රේල්_මැයි_ජූනි_ජූලි_අගෝස්තු_සැප්තැම්බර්_ඔක්තෝබර්_නොවැම්බර්_දෙසැම්බර්".split("_"),monthsShort:"ජන_පෙබ_මාර්_අප්_මැයි_ජූනි_ජූලි_අගෝ_සැප්_ඔක්_නොවැ_දෙසැ".split("_"),weekdays:"ඉරිදා_සඳුදා_අඟහරුවාදා_බදාදා_බ්‍රහස්පතින්දා_සිකුරාදා_සෙනසුරාදා".split("_"),weekdaysShort:"ඉරි_සඳු_අඟ_බදා_බ්‍රහ_සිකු_සෙන".split("_"),weekdaysMin:"ඉ_ස_අ_බ_බ්‍ර_සි_සෙ".split("_"),longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [වැනි] dddd, a h:mm:ss"},calendar:{sameDay:"[අද] LT[ට]",nextDay:"[හෙට] LT[ට]",nextWeek:"dddd LT[ට]",lastDay:"[ඊයේ] LT[ට]",lastWeek:"[පසුගිය] dddd LT[ට]",sameElse:"L"},relativeTime:{future:"%sකින්",past:"%sකට පෙර",s:"තත්පර කිහිපය",m:"මිනිත්තුව",mm:"මිනිත්තු %d",h:"පැය",hh:"පැය %d",d:"දිනය",dd:"දින %d",M:"මාසය",MM:"මාස %d",y:"වසර",yy:"වසර %d"},ordinalParse:/\d{1,2} වැනි/,ordinal:function(e){return e+" වැනි"},meridiem:function(e,t,i){return e>11?i?"ප.ව.":"පස් වරු":i?"පෙ.ව.":"පෙර වරු"}}),"január_február_marec_apríl_máj_jún_júl_august_september_október_november_december".split("_")),ao="jan_feb_mar_apr_máj_jún_júl_aug_sep_okt_nov_dec".split("_"),oo=(ya.defineLocale("sk",{months:ro,monthsShort:ao,monthsParse:function(e,t){var i,n=[];for(i=0;i<12;i++)n[i]=new RegExp("^"+e[i]+"$|^"+t[i]+"$","i");return n}(ro,ao),weekdays:"nedeľa_pondelok_utorok_streda_štvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_št_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_št_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeľu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo štvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[včera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulú nedeľu o] LT";case 1:case 2:return"[minulý] dddd [o] LT";case 3:return"[minulú stredu o] LT";case 4:case 5:return"[minulý] dddd [o] LT";case 6:return"[minulú sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:Mn,m:Mn,mm:Mn,h:Mn,hh:Mn,d:Mn,dd:Mn,M:Mn,MM:Mn,y:Mn,yy:Mn},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),ya.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedelja_ponedeljek_torek_sreda_četrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._čet._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_če_pe_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[včeraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejšnjo] [nedeljo] [ob] LT";case 3:return"[prejšnjo] [sredo] [ob] LT";case 6:return"[prejšnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejšnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"čez %s",past:"pred %s",s:Ln,m:Ln,mm:Ln,h:Ln,hh:Ln,d:Ln,dd:Ln,M:Ln,MM:Ln,y:Ln,yy:Ln},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),ya.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nëntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nën_Dhj".split("_"),weekdays:"E Diel_E Hënë_E Martë_E Mërkurë_E Enjte_E Premte_E Shtunë".split("_"),weekdaysShort:"Die_Hën_Mar_Mër_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_Më_E_P_Sh".split("_"),meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,i){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot në] LT",nextDay:"[Nesër në] LT",nextWeek:"dddd [në] LT",lastDay:"[Dje në] LT",lastWeek:"dddd [e kaluar në] LT",sameElse:"L"},relativeTime:{future:"në %s",past:"%s më parë",s:"disa sekonda",m:"një minutë",mm:"%d minuta",h:"një orë",hh:"%d orë",d:"një ditë",dd:"%d ditë",M:"një muaj",MM:"%d muaj",y:"një vit",yy:"%d vite"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),{words:{m:["један минут","једне минуте"],mm:["минут","минуте","минута"],h:["један сат","једног сата"],hh:["сат","сата","сати"],dd:["дан","дана","дана"],MM:["месец","месеца","месеци"],yy:["година","године","година"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,t,i){var n=oo.words[i];return 1===i.length?t?n[0]:n[1]:e+" "+oo.correctGrammaticalCase(e,n)}}),so=(ya.defineLocale("sr-cyrl",{months:["јануар","фебруар","март","април","мај","јун","јул","август","септембар","октобар","новембар","децембар"],monthsShort:["јан.","феб.","мар.","апр.","мај","јун","јул","авг.","сеп.","окт.","нов.","дец."],weekdays:["недеља","понедељак","уторак","среда","четвртак","петак","субота"],weekdaysShort:["нед.","пон.","уто.","сре.","чет.","пет.","суб."],weekdaysMin:["не","по","ут","ср","че","пе","су"],longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[данас у] LT",nextDay:"[сутра у] LT",nextWeek:function(){switch(this.day()){case 0:return"[у] [недељу] [у] LT";case 3:return"[у] [среду] [у] LT";case 6:return"[у] [суботу] [у] LT";case 1:case 2:case 4:case 5:return"[у] dddd [у] LT"}},lastDay:"[јуче у] LT",lastWeek:function(){return["[прошле] [недеље] [у] LT","[прошлог] [понедељка] [у] LT","[прошлог] [уторка] [у] LT","[прошле] [среде] [у] LT","[прошлог] [четвртка] [у] LT","[прошлог] [петка] [у] LT","[прошле] [суботе] [у] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"за %s",past:"пре %s",s:"неколико секунди",m:oo.translate,mm:oo.translate,h:oo.translate,hh:oo.translate,d:"дан",dd:oo.translate,M:"месец",MM:oo.translate,y:"годину",yy:oo.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),{words:{m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,t,i){var n=so.words[i];return 1===i.length?t?n[0]:n[1]:e+" "+so.correctGrammaticalCase(e,n)}}),lo=(ya.defineLocale("sr",{months:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar"],monthsShort:["jan.","feb.","mar.","apr.","maj","jun","jul","avg.","sep.","okt.","nov.","dec."],weekdays:["nedelja","ponedeljak","utorak","sreda","četvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sre.","čet.","pet.","sub."],weekdaysMin:["ne","po","ut","sr","če","pe","su"],longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){return["[prošle] [nedelje] [u] LT","[prošlog] [ponedeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",m:so.translate,mm:so.translate,h:so.translate,hh:so.translate,d:"dan",dd:so.translate,M:"mesec",MM:so.translate,y:"godinu",yy:so.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),ya.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igår] LT",nextWeek:"[På] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},ordinalParse:/\d{1,2}(e|a)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"e":1===t?"a":2===t?"a":"e")},week:{dow:1,doy:4}}),ya.defineLocale("ta",{months:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),monthsShort:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),weekdays:"ஞாயிற்றுக்கிழமை_திங்கட்கிழமை_செவ்வாய்கிழமை_புதன்கிழமை_வியாழக்கிழமை_வெள்ளிக்கிழமை_சனிக்கிழமை".split("_"),weekdaysShort:"ஞாயிறு_திங்கள்_செவ்வாய்_புதன்_வியாழன்_வெள்ளி_சனி".split("_"),weekdaysMin:"ஞா_தி_செ_பு_வி_வெ_ச".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[இன்று] LT",nextDay:"[நாளை] LT",nextWeek:"dddd, LT",lastDay:"[நேற்று] LT",lastWeek:"[கடந்த வாரம்] dddd, LT",sameElse:"L"},relativeTime:{future:"%s இல்",past:"%s முன்",s:"ஒரு சில விநாடிகள்",m:"ஒரு நிமிடம்",mm:"%d நிமிடங்கள்",h:"ஒரு மணி நேரம்",hh:"%d மணி நேரம்",d:"ஒரு நாள்",dd:"%d நாட்கள்",M:"ஒரு மாதம்",MM:"%d மாதங்கள்",y:"ஒரு வருடம்",yy:"%d ஆண்டுகள்"},ordinalParse:/\d{1,2}வது/,ordinal:function(e){return e+"வது"},meridiemParse:/யாமம்|வைகறை|காலை|நண்பகல்|எற்பாடு|மாலை/,meridiem:function(e,t,i){return e<2?" யாமம்":e<6?" வைகறை":e<10?" காலை":e<14?" நண்பகல்":e<18?" எற்பாடு":e<22?" மாலை":" யாமம்"},meridiemHour:function(e,t){return 12===e&&(e=0),"யாமம்"===t?e<2?e:e+12:"வைகறை"===t||"காலை"===t?e:"நண்பகல்"===t&&e>=10?e:e+12},week:{dow:0,doy:6}}),ya.defineLocale("th",{months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"มกรา_กุมภา_มีนา_เมษา_พฤษภา_มิถุนา_กรกฎา_สิงหา_กันยา_ตุลา_พฤศจิกา_ธันวา".split("_"),weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),longDateFormat:{LT:"H นาฬิกา m นาที",LTS:"H นาฬิกา m นาที s วินาที",L:"YYYY/MM/DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา H นาฬิกา m นาที",LLLL:"วันddddที่ D MMMM YYYY เวลา H นาฬิกา m นาที"},meridiemParse:/ก่อนเที่ยง|หลังเที่ยง/,isPM:function(e){return"หลังเที่ยง"===e},meridiem:function(e,t,i){return e<12?"ก่อนเที่ยง":"หลังเที่ยง"},calendar:{sameDay:"[วันนี้ เวลา] LT",nextDay:"[พรุ่งนี้ เวลา] LT",nextWeek:"dddd[หน้า เวลา] LT",lastDay:"[เมื่อวานนี้ เวลา] LT",lastWeek:"[วัน]dddd[ที่แล้ว เวลา] LT",sameElse:"L"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"}}),ya.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"[Ngayon sa] LT",nextDay:"[Bukas sa] LT",nextWeek:"dddd [sa] LT",lastDay:"[Kahapon sa] LT",lastWeek:"dddd [huling linggo] LT",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},ordinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}}),{1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"}),uo=(ya.defineLocale("tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dün] LT",lastWeek:"[geçen hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ordinalParse:/\d{1,2}'(inci|nci|üncü|ncı|uncu|ıncı)/,ordinal:function(e){if(0===e)return e+"'ıncı";var t=e%10,i=e%100-t,n=e>=100?100:null;return e+(lo[t]||lo[i]||lo[n])},week:{dow:1,doy:7}}),ya.defineLocale("tzl",{months:"Januar_Fevraglh_Març_Avrïu_Mai_Gün_Julia_Guscht_Setemvar_Listopäts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gün_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Súladi_Lúneçi_Maitzi_Márcuri_Xhúadi_Viénerçi_Sáturi".split("_"),weekdaysShort:"Súl_Lún_Mai_Már_Xhú_Vié_Sát".split("_"),weekdaysMin:"Sú_Lú_Ma_Má_Xh_Vi_Sá".split("_"),longDateFormat:{LT:"HH.mm",LTS:"LT.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY LT",LLLL:"dddd, [li] D. MMMM [dallas] YYYY LT"},meridiem:function(e,t,i){return e>11?i?"d'o":"D'O":i?"d'a":"D'A"},calendar:{sameDay:"[oxhi à] LT",nextDay:"[demà à] LT",nextWeek:"dddd [à] LT",lastDay:"[ieiri à] LT",lastWeek:"[sür el] dddd [lasteu à] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:Pn,m:Pn,mm:Pn,h:Pn,hh:Pn,d:Pn,dd:Pn,M:Pn,MM:Pn,y:Pn,yy:Pn},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),ya.defineLocale("tzm-latn",{months:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minuḍ",mm:"%d minuḍ",h:"saɛa",hh:"%d tassaɛin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}}),ya.defineLocale("tzm",{months:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),monthsShort:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),weekdays:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysShort:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysMin:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ⴰⵙⴷⵅ ⴴ] LT",nextDay:"[ⴰⵙⴽⴰ ⴴ] LT",nextWeek:"dddd [ⴴ] LT",lastDay:"[ⴰⵚⴰⵏⵜ ⴴ] LT",lastWeek:"dddd [ⴴ] LT",sameElse:"L"},relativeTime:{future:"ⴷⴰⴷⵅ ⵙ ⵢⴰⵏ %s",past:"ⵢⴰⵏ %s",s:"ⵉⵎⵉⴽ",m:"ⵎⵉⵏⵓⴺ",mm:"%d ⵎⵉⵏⵓⴺ",h:"ⵙⴰⵄⴰ",hh:"%d ⵜⴰⵙⵙⴰⵄⵉⵏ",d:"ⴰⵙⵙ",dd:"%d oⵙⵙⴰⵏ",M:"ⴰⵢoⵓⵔ",MM:"%d ⵉⵢⵢⵉⵔⵏ",y:"ⴰⵙⴳⴰⵙ",yy:"%d ⵉⵙⴳⴰⵙⵏ"},week:{dow:6,doy:12}}),ya.defineLocale("uk",{months:Fn,monthsShort:"січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),weekdays:Un,weekdaysShort:"нд_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., HH:mm",LLLL:"dddd, D MMMM YYYY р., HH:mm"},calendar:{sameDay:Rn("[Сьогодні "),nextDay:Rn("[Завтра "),lastDay:Rn("[Вчора "),nextWeek:Rn("[У] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return Rn("[Минулої] dddd [").call(this);case 1:case 2:case 4:return Rn("[Минулого] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",m:xn,mm:xn,h:"годину",hh:xn,d:"день",dd:xn,M:"місяць",MM:xn,y:"рік",yy:xn},meridiemParse:/ночі|ранку|дня|вечора/,isPM:function(e){return/^(дня|вечора)$/.test(e)},meridiem:function(e,t,i){return e<4?"ночі":e<12?"ранку":e<17?"дня":"вечора"},ordinalParse:/\d{1,2}-(й|го)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-й";case"D":return e+"-го";default:return e}},week:{dow:1,doy:7}}),ya.defineLocale("uz",{months:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"Якшанба_Душанба_Сешанба_Чоршанба_Пайшанба_Жума_Шанба".split("_"),weekdaysShort:"Якш_Душ_Сеш_Чор_Пай_Жум_Шан".split("_"),weekdaysMin:"Як_Ду_Се_Чо_Па_Жу_Ша".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Бугун соат] LT [да]",nextDay:"[Эртага] LT [да]",nextWeek:"dddd [куни соат] LT [да]",lastDay:"[Кеча соат] LT [да]",lastWeek:"[Утган] dddd [куни соат] LT [да]",sameElse:"L"},relativeTime:{future:"Якин %s ичида",past:"Бир неча %s олдин",s:"фурсат",m:"бир дакика",mm:"%d дакика",h:"бир соат",hh:"%d соат",d:"бир кун",dd:"%d кун",M:"бир ой",MM:"%d ой",y:"бир йил",yy:"%d йил"},week:{dow:1,doy:7}}),ya.defineLocale("vi",{months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY HH:mm",LLLL:"dddd, D MMMM [năm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hôm nay lúc] LT",nextDay:"[Ngày mai lúc] LT",nextWeek:"dddd [tuần tới lúc] LT",lastDay:"[Hôm qua lúc] LT",lastWeek:"dddd [tuần rồi lúc] LT",sameElse:"L"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"},ordinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}}),ya.defineLocale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah点mm分",LTS:"Ah点m分s秒",L:"YYYY-MM-DD",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日Ah点mm分",LLLL:"YYYY年MMMD日ddddAh点mm分",l:"YYYY-MM-DD",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日Ah点mm分",llll:"YYYY年MMMD日ddddAh点mm分"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"下午"===t||"晚上"===t?e+12:e>=11?e:e+12},meridiem:function(e,t,i){var n=100*e+t;return n<600?"凌晨":n<900?"早上":n<1130?"上午":n<1230?"中午":n<1800?"下午":"晚上"},calendar:{sameDay:function(){return 0===this.minutes()?"[今天]Ah[点整]":"[今天]LT"},nextDay:function(){return 0===this.minutes()?"[明天]Ah[点整]":"[明天]LT"},lastDay:function(){return 0===this.minutes()?"[昨天]Ah[点整]":"[昨天]LT"},nextWeek:function(){var e,t;return e=ya().startOf("week"),t=this.unix()-e.unix()>=604800?"[下]":"[本]",0===this.minutes()?t+"dddAh点整":t+"dddAh点mm"},lastWeek:function(){var e,t;return e=ya().startOf("week"),t=this.unix()<e.unix()?"[上]":"[本]",0===this.minutes()?t+"dddAh点整":t+"dddAh点mm"},sameElse:"LL"},ordinalParse:/\d{1,2}(日|月|周)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"周";default:return e}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},week:{dow:1,doy:4}}),ya.defineLocale("zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah點mm分",LTS:"Ah點m分s秒",L:"YYYY年MMMD日",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日Ah點mm分",LLLL:"YYYY年MMMD日ddddAh點mm分",l:"YYYY年MMMD日",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日Ah點mm分",llll:"YYYY年MMMD日ddddAh點mm分"},meridiemParse:/早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"早上"===t||"上午"===t?e:"中午"===t?e>=11?e:e+12:"下午"===t||"晚上"===t?e+12:void 0},meridiem:function(e,t,i){var n=100*e+t;return n<900?"早上":n<1130?"上午":n<1230?"中午":n<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},ordinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"一分鐘",mm:"%d分鐘",h:"一小時",hh:"%d小時",d:"一天",dd:"%d天",M:"一個月",MM:"%d個月",y:"一年",yy:"%d年"}}),ya);return uo.locale("en"),uo}),app.controller("GadgetController",["$scope","$rootScope","$route","$routeParams","$q","$location","$sce","loggedInUser","pivottableService",function(e,t,i,n,r,a,o,s,l){!function(){function i(){e.showChildrenFilter=(["TimeTracking","TimeBalance"].indexOf(e.$parent.pivotTableType)>=0||l.isTimeTrackingColumnsInMoreFields(e.$parent.moreFields))&&e.$parent.sumSubTasks.enabled}e.contentTemplate=function(){return e.templates.dialog};var n=function(){return TimesheetUtils.normalizeObject({title:e.title,pivotTableType:e.$parent.pivotTableType,timeTrackingColumns:"TimeTracking"===e.$parent.pivotTableType?e.$parent.timeTrackingColumns:null,timeBalanceColumns:"TimeBalance"===e.$parent.pivotTableType?e.$parent.timeBalanceColumns:null,timeInStatusCategories:"IssuePassedTimeByStatus"===e.$parent.pivotTableType?e.$parent.timeInStatusCategories:null,group:e.$parent.group,excludeGroup:e.$parent.excludeGroup,user:e.$parent.user,allUsers:e.$parent.allUsers.enabled,showDetails:e.$parent.showDetails.enabled,sum:e.$parent.sum,view:e.$parent.view,sumSubTasks:e.$parent.sumSubTasks.enabled,includeEmpty:e.$parent.includeEmpty.enabled,filterOrProjectId:e.$parent.filterOrProjectId,childrenFilterId:e.$parent.childrenFilterId,groupByField:e.$parent.groupByField,categorizeByField:e.$parent.categorizeByField,moreFields:e.$parent.moreFields,orderByField:e.$parent.orderByField,numOfWeeks:e.$parent.numOfWeeks.value,offset:e.$parent.offset,startDate:e.$parent.startDate.value?moment(e.$parent.startDate.value).format("YYYY-MM-DD"):void 0,endDate:e.$parent.endDate.value?moment(e.$parent.endDate.value).format("YYYY-MM-DD"):void 0,reportingDay:e.$parent.reportingDayOptions.selected,hideWeekends:!e.$parent.showWeekends.enabled},!0)};e.pivotTableTypeChanged=function(){e.$parent.pivotTableType=e.$parent.pivotTableTypeOptions.selected?e.$parent.pivotTableTypeOptions.selected:"",i()},e.timeTrackingColumnsChanged=function(t){e.$parent.timeTrackingColumns=t?t.split(","):null},e.timeBalanceColumnsChanged=function(t){e.$parent.timeBalanceColumns=t?t.split(","):null},e.timeInStatusCategoriesChanged=function(t){e.$parent.timeInStatusCategories=t?t.split(","):null},e.filterByChanged=function(t){e.$parent.filterOrProjectId=t?t.split(","):null,!e.$parent.filterOrProjectId&&e.$parent.includeEmpty.enabled?(e.$parent.includeEmpty.wasEnabled=!0,e.$parent.includeEmpty.enabled=!1):e.$parent.includeEmpty.wasEnabled&&(e.$parent.includeEmpty.enabled=!0,delete e.$parent.includeEmpty.wasEnabled)},
e.childrenFilterChanged=function(){e.$parent.childrenFilterId=e.$parent.childrenFilterOptions.selected},e.groupChange=function(t){e.$parent.group=t?t.split(","):null},e.excludeGroupChange=function(t){e.$parent.excludeGroup=t?t.split(","):null},e.userChange=function(t){e.$parent.user=t,e.$parent.allUsers.enabled=!t},e.allUsersChange=function(t){e.$parent.allUsers.enabled=t},e.showDetailsChange=function(t){e.$parent.showDetails.enabled=t},e.sumSubTasksChange=function(t){e.$parent.sumSubTasks.enabled=t,i()},e.includeEmptyChange=function(t){e.$parent.includeEmpty.enabled=t},e.groupByChanged=function(){e.$parent.groupByField=e.$parent.groupByOptions.selected?e.$parent.groupByOptions.selected:""},e.categorizeByChanged=function(){e.$parent.categorizeByField=e.$parent.categorizeByOptions.selected?e.$parent.categorizeByOptions.selected:""},e.moreFieldsChanged=function(){e.$parent.moreFields=e.$parent.moreFieldsOptions.selected,i()},e.orderByChanged=function(){e.$parent.orderByField=e.$parent.orderByOptions.selected?e.$parent.orderByOptions.selected:""},e.numOfWeeksChange=function(t){e.$parent.numOfWeeks.value=t},e.offsetChange=function(t){e.$parent.offset=t||0},e.reportingDayChanged=function(){e.$parent.reportingDay=e.$parent.reportingDayOptions.selected},e.startChangeDate=function(t){t?(e.$parent.startDate.value=moment(t).toDate(),e.$parent.startDate.calculated=null):e.$parent.startDate.calculated=!0},e.endChangeDate=function(t){t?(e.$parent.endDate.value=moment(t).toDate(),e.$parent.endDate.calculated=null):e.$parent.endDate.calculated=!0},e.sumChanged=function(){e.$parent.sum=e.$parent.sumOptions.selected?e.$parent.sumOptions.selected:""},e.monthViewChanged=function(){e.$parent.view=e.$parent.viewByOptions.selected?e.$parent.viewByOptions.selected:""},l.getGadgetConfiguration(e.$parent.dashboardId,e.$parent.dashboardItemId).then(function(t){var n=Object.keys(t);if(null!=t&&n.length>0)for(var r=0;r<n.length;r++)e.$parent[n[r]]=t[n[r]];t.user?e.userInfo=e.$parent.paramUserInfo:e.$parent.user=null,t.numOfWeeks&&(e.$parent.numOfWeeks={value:e.$parent.numOfWeeks}),e.$parent.allUsers={enabled:!0===e.$parent.allUsers},e.$parent.showWeekends={enabled:!e.$parent.hideWeekends},e.$parent.showDetails={enabled:!0===e.$parent.showDetails},e.$parent.sumSubTasks={enabled:!0===e.$parent.sumSubTasks},e.$parent.includeEmpty={enabled:!0===e.$parent.includeEmpty},e.$parent.numOfWeeks={value:e.$parent.numOfWeeks.value},Array.isArray(e.$parent.filterOrProjectId)&&!e.$parent.filterOrProjectId.length&&(e.$parent.filterOrProjectId=null,e.$parent.includeEmpty.enabled=!1),t.startDate&&e.$parent.startDate?e.$parent.startDate={value:moment(e.$parent.startDate).toDate()}:e.$parent.startDate={calculated:!0},t.endDate&&e.$parent.endDate?e.$parent.endDate={value:moment(e.$parent.endDate).toDate()}:e.$parent.endDate={calculated:!0},i()}),e.saveGadgetConfig=function(){var i=n();l.saveGadgetConfiguration(e.dashboardId,e.dashboardItemId,i).then(function(){t.$emit("gadgetConfigSave")})},e.cancelGadgetConfigSaving=function(){t.$emit("gadgetConfigCancel")}}()}]),function(e,t){"object"==typeof module&&module.exports?module.exports=t(require("moment")):"function"==typeof define&&define.amd?define(["moment"],t):t(e.moment)}(this,function(e){function t(e){return e>96?e-87:e>64?e-29:e-48}function i(e){var i,n=0,r=e.split("."),a=r[0],o=r[1]||"",s=1,l=0,u=1;for(45===e.charCodeAt(0)&&(n=1,u=-1),n;n<a.length;n++)i=t(a.charCodeAt(n)),l=60*l+i;for(n=0;n<o.length;n++)s/=60,i=t(o.charCodeAt(n)),l+=i*s;return l*u}function n(e){for(var t=0;t<e.length;t++)e[t]=i(e[t])}function r(e,t){for(var i=0;i<t;i++)e[i]=Math.round((e[i-1]||0)+6e4*e[i]);e[t-1]=1/0}function a(e,t){var i,n=[];for(i=0;i<t.length;i++)n[i]=e[t[i]];return n}function o(e){var t=e.split("|"),i=t[2].split(" "),o=t[3].split(""),s=t[4].split(" ");return n(i),n(o),n(s),r(s,o.length),{name:t[0],abbrs:a(t[1].split(" "),o),offsets:a(i,o),untils:s,population:0|t[5]}}function s(e){e&&this._set(o(e))}function l(e,t){this.name=e,this.zones=t}function u(e){var t=e.toTimeString(),i=t.match(/\([a-z ]+\)/i);i&&i[0]?(i=i[0].match(/[A-Z]/g),i=i?i.join(""):void 0):(i=t.match(/[A-Z]{3,5}/g),i=i?i[0]:void 0),"GMT"===i&&(i=void 0),this.at=+e,this.abbr=i,this.offset=e.getTimezoneOffset()}function d(e){this.zone=e,this.offsetScore=0,this.abbrScore=0}function c(e,t){for(var i,n;n=6e4*((t.at-e.at)/12e4|0);)i=new u(new Date(e.at+n)),i.offset===e.offset?e=i:t=i;return e}function m(){var e,t,i,n=(new Date).getFullYear()-2,r=new u(new Date(n,0,1)),a=[r];for(i=1;i<48;i++)t=new u(new Date(n,i,1)),t.offset!==r.offset&&(e=c(r,t),a.push(e),a.push(new u(new Date(e.at+6e4)))),r=t;for(i=0;i<4;i++)a.push(new u(new Date(n+i,0,1))),a.push(new u(new Date(n+i,6,1)));return a}function p(e,t){return e.offsetScore!==t.offsetScore?e.offsetScore-t.offsetScore:e.abbrScore!==t.abbrScore?e.abbrScore-t.abbrScore:e.zone.population!==t.zone.population?t.zone.population-e.zone.population:t.zone.name.localeCompare(e.zone.name)}function h(e,t){var i,r;for(n(t),i=0;i<t.length;i++)r=t[i],Y[r]=Y[r]||{},Y[r][e]=!0}function f(e){var t,i,n,r=e.length,a={},o=[];for(t=0;t<r;t++){n=Y[e[t].offset]||{};for(i in n)n.hasOwnProperty(i)&&(a[i]=!0)}for(t in a)a.hasOwnProperty(t)&&o.push(B[t]);return o}function g(){try{var e=Intl.DateTimeFormat().resolvedOptions().timeZone;if(e&&e.length>3){var t=B[v(e)];if(t)return t;M("Moment Timezone found "+e+" from the Intl api, but did not have that data loaded.")}}catch(e){}var i,n,r,a=m(),o=a.length,s=f(a),l=[];for(n=0;n<s.length;n++){for(i=new d(w(s[n]),o),r=0;r<o;r++)i.scoreOffsetAt(a[r]);l.push(i)}return l.sort(p),l.length>0?l[0].zone.name:void 0}function y(e){return x&&!e||(x=g()),x}function v(e){return(e||"").toLowerCase().replace(/\//g,"_")}function _(e){var t,i,n,r;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)n=e[t].split("|"),i=n[0],r=v(i),F[r]=e[t],B[r]=i,h(r,n[2].split(" "))}function w(e,t){e=v(e);var i,n=F[e];return n instanceof s?n:"string"==typeof n?(n=new s(n),F[e]=n,n):U[e]&&t!==w&&(i=w(U[e],w))?(n=F[e]=new s,n._set(i),n.name=B[e],n):null}function T(){var e,t=[];for(e in B)B.hasOwnProperty(e)&&(F[e]||F[U[e]])&&B[e]&&t.push(B[e]);return t.sort()}function b(){return Object.keys(R)}function k(e){var t,i,n,r;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)i=e[t].split("|"),n=v(i[0]),r=v(i[1]),U[n]=r,B[n]=i[0],U[r]=n,B[r]=i[1]}function S(e){var t,i,n,r;if(e&&e.length)for(t=0;t<e.length;t++)r=e[t].split("|"),i=r[0].toUpperCase(),n=r[1].split(" "),R[i]=new l(i,n)}function A(e){return e=e.toUpperCase(),R[e]||null}function D(e,t){if(!(e=A(e)))return null;var i=e.zones.sort();return t?i.map(function(e){return{name:e,offset:w(e).utcOffset(new Date)}}):i}function O(e){_(e.zones),k(e.links),S(e.countries),L.dataVersion=e.version}function E(e){return E.didShowError||(E.didShowError=!0,M("moment.tz.zoneExists('"+e+"') has been deprecated in favor of !moment.tz.zone('"+e+"')")),!!w(e)}function I(e){var t="X"===e._f||"x"===e._f;return!(!e._a||void 0!==e._tzm||t)}function M(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}function L(t){var i=Array.prototype.slice.call(arguments,0,-1),n=arguments[arguments.length-1],r=w(n),a=e.utc.apply(null,i);return r&&!e.isMoment(t)&&I(a)&&a.add(r.parse(a),"minutes"),a.tz(n),a}function P(e){return function(){return this._z?this._z.abbr(this):e.call(this)}}function C(e){return function(){return this._z=null,e.apply(this,arguments)}}var x,F={},U={},R={},B={},Y={};e&&"string"==typeof e.version||M("Moment Timezone requires Moment.js. See https://momentjs.com/timezone/docs/#/use-it/browser/");var N=e.version.split("."),W=+N[0],j=+N[1];(W<2||2===W&&j<6)&&M("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+e.version+". See momentjs.com"),s.prototype={_set:function(e){this.name=e.name,this.abbrs=e.abbrs,this.untils=e.untils,this.offsets=e.offsets,this.population=e.population},_index:function(e){var t,i=+e,n=this.untils;for(t=0;t<n.length;t++)if(i<n[t])return t},countries:function(){var e=this.name;return Object.keys(R).filter(function(t){return-1!==R[t].zones.indexOf(e)})},parse:function(e){var t,i,n,r,a=+e,o=this.offsets,s=this.untils,l=s.length-1;for(r=0;r<l;r++)if(t=o[r],i=o[r+1],n=o[r?r-1:r],t<i&&L.moveAmbiguousForward?t=i:t>n&&L.moveInvalidForward&&(t=n),a<s[r]-6e4*t)return o[r];return o[l]},abbr:function(e){return this.abbrs[this._index(e)]},offset:function(e){return M("zone.offset has been deprecated in favor of zone.utcOffset"),this.offsets[this._index(e)]},utcOffset:function(e){return this.offsets[this._index(e)]}},d.prototype.scoreOffsetAt=function(e){this.offsetScore+=Math.abs(this.zone.utcOffset(e.at)-e.offset),this.zone.abbr(e.at).replace(/[^A-Z]/g,"")!==e.abbr&&this.abbrScore++},L.version="0.5.28",L.dataVersion="",L._zones=F,L._links=U,L._names=B,L._countries=R,L.add=_,L.link=k,L.load=O,L.zone=w,L.zoneExists=E,L.guess=y,L.names=T,L.Zone=s,L.unpack=o,L.unpackBase60=i,L.needsOffset=I,L.moveInvalidForward=!0,L.moveAmbiguousForward=!1,L.countries=b,L.zonesForCountry=D;var V=e.fn;e.tz=L,e.defaultZone=null,e.updateOffset=function(t,i){var n,r=e.defaultZone;if(void 0===t._z&&(r&&I(t)&&!t._isUTC&&(t._d=e.utc(t._a)._d,t.utc().add(r.parse(t),"minutes")),t._z=r),t._z)if(n=t._z.utcOffset(t),Math.abs(n)<16&&(n/=60),void 0!==t.utcOffset){var a=t._z;t.utcOffset(-n,i),t._z=a}else t.zone(n,i)},V.tz=function(t,i){if(t){if("string"!=typeof t)throw new Error("Time zone name must be a string, got "+t+" ["+typeof t+"]");return this._z=w(t),this._z?e.updateOffset(this,i):M("Moment Timezone has no data for "+t+". See http://momentjs.com/timezone/docs/#/data-loading/."),this}if(this._z)return this._z.name},V.zoneName=P(V.zoneName),V.zoneAbbr=P(V.zoneAbbr),V.utc=C(V.utc),V.local=C(V.local),V.utcOffset=function(e){return function(){return arguments.length>0&&(this._z=null),e.apply(this,arguments)}}(V.utcOffset),e.tz.setDefault=function(t){return(W<2||2===W&&j<9)&&M("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+e.version+"."),e.defaultZone=t?w(t):null,e};var z=e.momentProperties;return"[object Array]"===Object.prototype.toString.call(z)?(z.push("_z"),z.push("_a")):z&&(z._z=null),O({version:"2019c",zones:["Africa/Abidjan|GMT|0|0||48e5","Africa/Nairobi|EAT|-30|0||47e5","Africa/Algiers|CET|-10|0||26e5","Africa/Lagos|WAT|-10|0||17e6","Africa/Maputo|CAT|-20|0||26e5","Africa/Cairo|EET EEST|-20 -30|01010|1M2m0 gL0 e10 mn0|15e6","Africa/Casablanca|+00 +01|0 -10|010101010101010101010101010101010101|1H3C0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uM0 e00 Dc0 11A0 s00 e00 IM0 WM0 mo0 gM0 LA0 WM0 jA0 e00 28M0 e00 2600 e00 28M0 e00 2600 gM0|32e5","Europe/Paris|CET CEST|-10 -20|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|11e6","Africa/Johannesburg|SAST|-20|0||84e5","Africa/Khartoum|EAT CAT|-30 -20|01|1Usl0|51e5","Africa/Sao_Tome|GMT WAT|0 -10|010|1UQN0 2q00|","Africa/Tripoli|EET CET CEST|-20 -10 -20|0120|1IlA0 TA0 1o00|11e5","Africa/Windhoek|CAT WAT|-20 -10|0101010101010|1GQo0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0|32e4","America/Adak|HST HDT|a0 90|01010101010101010101010|1GIc0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|326","America/Anchorage|AKST AKDT|90 80|01010101010101010101010|1GIb0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|30e4","America/Santo_Domingo|AST|40|0||29e5","America/Araguaina|-03 -02|30 20|010|1IdD0 Lz0|14e4","America/Fortaleza|-03|30|0||34e5","America/Asuncion|-03 -04|30 40|01010101010101010101010|1GTf0 1cN0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0|28e5","America/Panama|EST|50|0||15e5","America/Mexico_City|CST CDT|60 50|01010101010101010101010|1GQw0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0|20e6","America/Bahia|-02 -03|20 30|01|1GCq0|27e5","America/Managua|CST|60|0||22e5","America/La_Paz|-04|40|0||19e5","America/Lima|-05|50|0||11e6","America/Denver|MST MDT|70 60|01010101010101010101010|1GI90 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|26e5","America/Campo_Grande|-03 -04|30 40|0101010101010101|1GCr0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1HB0 FX0|77e4","America/Cancun|CST CDT EST|60 50 50|01010102|1GQw0 1nX0 14p0 1lb0 14p0 1lb0 Dd0|63e4","America/Caracas|-0430 -04|4u 40|01|1QMT0|29e5","America/Chicago|CST CDT|60 50|01010101010101010101010|1GI80 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|92e5","America/Chihuahua|MST MDT|70 60|01010101010101010101010|1GQx0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0|81e4","America/Phoenix|MST|70|0||42e5","America/Los_Angeles|PST PDT|80 70|01010101010101010101010|1GIa0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|15e6","America/New_York|EST EDT|50 40|01010101010101010101010|1GI70 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|21e6","America/Rio_Branco|-04 -05|40 50|01|1KLE0|31e4","America/Fort_Nelson|PST PDT MST|80 70 70|01010102|1GIa0 1zb0 Op0 1zb0 Op0 1zb0 Op0|39e2","America/Halifax|AST ADT|40 30|01010101010101010101010|1GI60 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|39e4","America/Godthab|-03 -02|30 20|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|17e3","America/Grand_Turk|EST EDT AST|50 40 40|0101010121010101010|1GI70 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 5Ip0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|37e2","America/Havana|CST CDT|50 40|01010101010101010101010|1GQt0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0|21e5","America/Metlakatla|PST AKST AKDT|80 90 80|01212120121212121|1PAa0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 uM0 jB0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|14e2","America/Miquelon|-03 -02|30 20|01010101010101010101010|1GI50 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|61e2","America/Montevideo|-02 -03|20 30|01010101|1GI40 1o10 11z0 1o10 11z0 1o10 11z0|17e5","America/Noronha|-02|20|0||30e2","America/Port-au-Prince|EST EDT|50 40|010101010101010101010|1GI70 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 3iN0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|23e5","Antarctica/Palmer|-03 -04|30 40|010101010|1H3D0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0|40","America/Santiago|-03 -04|30 40|010101010101010101010|1H3D0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1zb0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0|62e5","America/Sao_Paulo|-02 -03|20 30|0101010101010101|1GCq0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1HB0 FX0|20e6","Atlantic/Azores|-01 +00|10 0|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|25e4","America/St_Johns|NST NDT|3u 2u|01010101010101010101010|1GI5u 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|11e4","Antarctica/Casey|+11 +08|-b0 -80|0101|1GAF0 blz0 3m10|10","Antarctica/Davis|+05 +07|-50 -70|01|1GAI0|70","Pacific/Port_Moresby|+10|-a0|0||25e4","Pacific/Guadalcanal|+11|-b0|0||11e4","Asia/Tashkent|+05|-50|0||23e5","Pacific/Auckland|NZDT NZST|-d0 -c0|01010101010101010101010|1GQe0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00|14e5","Asia/Baghdad|+03|-30|0||66e5","Antarctica/Troll|+00 +02|0 -20|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|40","Asia/Dhaka|+06|-60|0||16e6","Asia/Amman|EET EEST|-20 -30|010101010101010101010|1GPy0 4bX0 Dd0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00|25e5","Asia/Kamchatka|+12|-c0|0||18e4","Asia/Baku|+04 +05|-40 -50|010101010|1GNA0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00|27e5","Asia/Bangkok|+07|-70|0||15e6","Asia/Barnaul|+07 +06|-70 -60|010|1N7v0 3rd0|","Asia/Beirut|EET EEST|-20 -30|01010101010101010101010|1GNy0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0|22e5","Asia/Kuala_Lumpur|+08|-80|0||71e5","Asia/Kolkata|IST|-5u|0||15e6","Asia/Chita|+10 +08 +09|-a0 -80 -90|012|1N7s0 3re0|33e4","Asia/Ulaanbaatar|+08 +09|-80 -90|01010|1O8G0 1cJ0 1cP0 1cJ0|12e5","Asia/Shanghai|CST|-80|0||23e6","Asia/Colombo|+0530|-5u|0||22e5","Asia/Damascus|EET EEST|-20 -30|01010101010101010101010|1GPy0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0|26e5","Asia/Dili|+09|-90|0||19e4","Asia/Dubai|+04|-40|0||39e5","Asia/Famagusta|EET EEST +03|-20 -30 -30|0101010101201010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 15U0 2Ks0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|","Asia/Gaza|EET EEST|-20 -30|01010101010101010101010|1GPy0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1220 1qL0 WN0 1qL0 WN0 1qL0 11c0 1oo0 11c0 1rc0 Wo0 1rc0 Wo0 1rc0|18e5","Asia/Hong_Kong|HKT|-80|0||73e5","Asia/Hovd|+07 +08|-70 -80|01010|1O8H0 1cJ0 1cP0 1cJ0|81e3","Asia/Irkutsk|+09 +08|-90 -80|01|1N7t0|60e4","Europe/Istanbul|EET EEST +03|-20 -30 -30|01010101012|1GNB0 1qM0 11A0 1o00 1200 1nA0 11A0 1tA0 U00 15w0|13e6","Asia/Jakarta|WIB|-70|0||31e6","Asia/Jayapura|WIT|-90|0||26e4","Asia/Jerusalem|IST IDT|-20 -30|01010101010101010101010|1GPA0 1aL0 1eN0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0|81e4","Asia/Kabul|+0430|-4u|0||46e5","Asia/Karachi|PKT|-50|0||24e6","Asia/Kathmandu|+0545|-5J|0||12e5","Asia/Yakutsk|+10 +09|-a0 -90|01|1N7s0|28e4","Asia/Krasnoyarsk|+08 +07|-80 -70|01|1N7u0|10e5","Asia/Magadan|+12 +10 +11|-c0 -a0 -b0|012|1N7q0 3Cq0|95e3","Asia/Makassar|WITA|-80|0||15e5","Asia/Manila|PST|-80|0||24e6","Europe/Athens|EET EEST|-20 -30|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|35e5","Asia/Novosibirsk|+07 +06|-70 -60|010|1N7v0 4eN0|15e5","Asia/Omsk|+07 +06|-70 -60|01|1N7v0|12e5","Asia/Pyongyang|KST KST|-90 -8u|010|1P4D0 6BA0|29e5","Asia/Qyzylorda|+06 +05|-60 -50|01|1Xei0|73e4","Asia/Rangoon|+0630|-6u|0||48e5","Asia/Sakhalin|+11 +10|-b0 -a0|010|1N7r0 3rd0|58e4","Asia/Seoul|KST|-90|0||23e6","Asia/Srednekolymsk|+12 +11|-c0 -b0|01|1N7q0|35e2","Asia/Tehran|+0330 +0430|-3u -4u|01010101010101010101010|1GLUu 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0|14e6","Asia/Tokyo|JST|-90|0||38e6","Asia/Tomsk|+07 +06|-70 -60|010|1N7v0 3Qp0|10e5","Asia/Vladivostok|+11 +10|-b0 -a0|01|1N7r0|60e4","Asia/Yekaterinburg|+06 +05|-60 -50|01|1N7w0|14e5","Europe/Lisbon|WET WEST|0 -10|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|27e5","Atlantic/Cape_Verde|-01|10|0||50e4","Australia/Sydney|AEDT AEST|-b0 -a0|01010101010101010101010|1GQg0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0|40e5","Australia/Adelaide|ACDT ACST|-au -9u|01010101010101010101010|1GQgu 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0|11e5","Australia/Brisbane|AEST|-a0|0||20e5","Australia/Darwin|ACST|-9u|0||12e4","Australia/Eucla|+0845|-8J|0||368","Australia/Lord_Howe|+11 +1030|-b0 -au|01010101010101010101010|1GQf0 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu|347","Australia/Perth|AWST|-80|0||18e5","Pacific/Easter|-05 -06|50 60|010101010101010101010|1H3D0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1zb0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0|30e2","Europe/Dublin|GMT IST|0 -10|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|12e5","Etc/GMT-1|+01|-10|0||","Pacific/Fakaofo|+13|-d0|0||483","Pacific/Kiritimati|+14|-e0|0||51e2","Etc/GMT-2|+02|-20|0||","Pacific/Tahiti|-10|a0|0||18e4","Pacific/Niue|-11|b0|0||12e2","Etc/GMT+12|-12|c0|0||","Pacific/Galapagos|-06|60|0||25e3","Etc/GMT+7|-07|70|0||","Pacific/Pitcairn|-08|80|0||56","Pacific/Gambier|-09|90|0||125","Etc/UTC|UTC|0|0||","Europe/Ulyanovsk|+04 +03|-40 -30|010|1N7y0 3rd0|13e5","Europe/London|GMT BST|0 -10|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|10e6","Europe/Chisinau|EET EEST|-20 -30|01010101010101010101010|1GNA0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|67e4","Europe/Kaliningrad|+03 EET|-30 -20|01|1N7z0|44e4","Europe/Kirov|+04 +03|-40 -30|01|1N7y0|48e4","Europe/Moscow|MSK MSK|-40 -30|01|1N7y0|16e6","Europe/Saratov|+04 +03|-40 -30|010|1N7y0 5810|","Europe/Simferopol|EET EEST MSK MSK|-20 -30 -40 -30|0101023|1GNB0 1qM0 11A0 1o00 11z0 1nW0|33e4","Europe/Volgograd|+04 +03|-40 -30|010|1N7y0 9Jd0|10e5","Pacific/Honolulu|HST|a0|0||37e4","MET|MET MEST|-10 -20|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|","Pacific/Chatham|+1345 +1245|-dJ -cJ|01010101010101010101010|1GQe0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00|600","Pacific/Apia|+14 +13|-e0 -d0|01010101010101010101010|1GQe0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00|37e3","Pacific/Bougainville|+10 +11|-a0 -b0|01|1NwE0|18e4","Pacific/Fiji|+13 +12|-d0 -c0|01010101010101010101010|1Goe0 1Nc0 Ao0 1Q00 xz0 1SN0 uM0 1SM0 uM0 1VA0 s00 1VA0 s00 1VA0 s00 20o0 pc0 20o0 s00 20o0 pc0 20o0|88e4","Pacific/Guam|ChST|-a0|0||17e4","Pacific/Marquesas|-0930|9u|0||86e2","Pacific/Pago_Pago|SST|b0|0||37e2","Pacific/Norfolk|+1130 +11 +12|-bu -b0 -c0|012121212|1PoCu 9Jcu 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0|25e4","Pacific/Tongatapu|+13 +14|-d0 -e0|010|1S4d0 s00|75e3"],
links:["Africa/Abidjan|Africa/Accra","Africa/Abidjan|Africa/Bamako","Africa/Abidjan|Africa/Banjul","Africa/Abidjan|Africa/Bissau","Africa/Abidjan|Africa/Conakry","Africa/Abidjan|Africa/Dakar","Africa/Abidjan|Africa/Freetown","Africa/Abidjan|Africa/Lome","Africa/Abidjan|Africa/Monrovia","Africa/Abidjan|Africa/Nouakchott","Africa/Abidjan|Africa/Ouagadougou","Africa/Abidjan|Africa/Timbuktu","Africa/Abidjan|America/Danmarkshavn","Africa/Abidjan|Atlantic/Reykjavik","Africa/Abidjan|Atlantic/St_Helena","Africa/Abidjan|Etc/GMT","Africa/Abidjan|Etc/GMT+0","Africa/Abidjan|Etc/GMT-0","Africa/Abidjan|Etc/GMT0","Africa/Abidjan|Etc/Greenwich","Africa/Abidjan|GMT","Africa/Abidjan|GMT+0","Africa/Abidjan|GMT-0","Africa/Abidjan|GMT0","Africa/Abidjan|Greenwich","Africa/Abidjan|Iceland","Africa/Algiers|Africa/Tunis","Africa/Cairo|Egypt","Africa/Casablanca|Africa/El_Aaiun","Africa/Johannesburg|Africa/Maseru","Africa/Johannesburg|Africa/Mbabane","Africa/Lagos|Africa/Bangui","Africa/Lagos|Africa/Brazzaville","Africa/Lagos|Africa/Douala","Africa/Lagos|Africa/Kinshasa","Africa/Lagos|Africa/Libreville","Africa/Lagos|Africa/Luanda","Africa/Lagos|Africa/Malabo","Africa/Lagos|Africa/Ndjamena","Africa/Lagos|Africa/Niamey","Africa/Lagos|Africa/Porto-Novo","Africa/Maputo|Africa/Blantyre","Africa/Maputo|Africa/Bujumbura","Africa/Maputo|Africa/Gaborone","Africa/Maputo|Africa/Harare","Africa/Maputo|Africa/Kigali","Africa/Maputo|Africa/Lubumbashi","Africa/Maputo|Africa/Lusaka","Africa/Nairobi|Africa/Addis_Ababa","Africa/Nairobi|Africa/Asmara","Africa/Nairobi|Africa/Asmera","Africa/Nairobi|Africa/Dar_es_Salaam","Africa/Nairobi|Africa/Djibouti","Africa/Nairobi|Africa/Juba","Africa/Nairobi|Africa/Kampala","Africa/Nairobi|Africa/Mogadishu","Africa/Nairobi|Indian/Antananarivo","Africa/Nairobi|Indian/Comoro","Africa/Nairobi|Indian/Mayotte","Africa/Tripoli|Libya","America/Adak|America/Atka","America/Adak|US/Aleutian","America/Anchorage|America/Juneau","America/Anchorage|America/Nome","America/Anchorage|America/Sitka","America/Anchorage|America/Yakutat","America/Anchorage|US/Alaska","America/Campo_Grande|America/Cuiaba","America/Chicago|America/Indiana/Knox","America/Chicago|America/Indiana/Tell_City","America/Chicago|America/Knox_IN","America/Chicago|America/Matamoros","America/Chicago|America/Menominee","America/Chicago|America/North_Dakota/Beulah","America/Chicago|America/North_Dakota/Center","America/Chicago|America/North_Dakota/New_Salem","America/Chicago|America/Rainy_River","America/Chicago|America/Rankin_Inlet","America/Chicago|America/Resolute","America/Chicago|America/Winnipeg","America/Chicago|CST6CDT","America/Chicago|Canada/Central","America/Chicago|US/Central","America/Chicago|US/Indiana-Starke","America/Chihuahua|America/Mazatlan","America/Chihuahua|Mexico/BajaSur","America/Denver|America/Boise","America/Denver|America/Cambridge_Bay","America/Denver|America/Edmonton","America/Denver|America/Inuvik","America/Denver|America/Ojinaga","America/Denver|America/Shiprock","America/Denver|America/Yellowknife","America/Denver|Canada/Mountain","America/Denver|MST7MDT","America/Denver|Navajo","America/Denver|US/Mountain","America/Fortaleza|America/Argentina/Buenos_Aires","America/Fortaleza|America/Argentina/Catamarca","America/Fortaleza|America/Argentina/ComodRivadavia","America/Fortaleza|America/Argentina/Cordoba","America/Fortaleza|America/Argentina/Jujuy","America/Fortaleza|America/Argentina/La_Rioja","America/Fortaleza|America/Argentina/Mendoza","America/Fortaleza|America/Argentina/Rio_Gallegos","America/Fortaleza|America/Argentina/Salta","America/Fortaleza|America/Argentina/San_Juan","America/Fortaleza|America/Argentina/San_Luis","America/Fortaleza|America/Argentina/Tucuman","America/Fortaleza|America/Argentina/Ushuaia","America/Fortaleza|America/Belem","America/Fortaleza|America/Buenos_Aires","America/Fortaleza|America/Catamarca","America/Fortaleza|America/Cayenne","America/Fortaleza|America/Cordoba","America/Fortaleza|America/Jujuy","America/Fortaleza|America/Maceio","America/Fortaleza|America/Mendoza","America/Fortaleza|America/Paramaribo","America/Fortaleza|America/Recife","America/Fortaleza|America/Rosario","America/Fortaleza|America/Santarem","America/Fortaleza|Antarctica/Rothera","America/Fortaleza|Atlantic/Stanley","America/Fortaleza|Etc/GMT+3","America/Halifax|America/Glace_Bay","America/Halifax|America/Goose_Bay","America/Halifax|America/Moncton","America/Halifax|America/Thule","America/Halifax|Atlantic/Bermuda","America/Halifax|Canada/Atlantic","America/Havana|Cuba","America/La_Paz|America/Boa_Vista","America/La_Paz|America/Guyana","America/La_Paz|America/Manaus","America/La_Paz|America/Porto_Velho","America/La_Paz|Brazil/West","America/La_Paz|Etc/GMT+4","America/Lima|America/Bogota","America/Lima|America/Guayaquil","America/Lima|Etc/GMT+5","America/Los_Angeles|America/Dawson","America/Los_Angeles|America/Ensenada","America/Los_Angeles|America/Santa_Isabel","America/Los_Angeles|America/Tijuana","America/Los_Angeles|America/Vancouver","America/Los_Angeles|America/Whitehorse","America/Los_Angeles|Canada/Pacific","America/Los_Angeles|Canada/Yukon","America/Los_Angeles|Mexico/BajaNorte","America/Los_Angeles|PST8PDT","America/Los_Angeles|US/Pacific","America/Los_Angeles|US/Pacific-New","America/Managua|America/Belize","America/Managua|America/Costa_Rica","America/Managua|America/El_Salvador","America/Managua|America/Guatemala","America/Managua|America/Regina","America/Managua|America/Swift_Current","America/Managua|America/Tegucigalpa","America/Managua|Canada/Saskatchewan","America/Mexico_City|America/Bahia_Banderas","America/Mexico_City|America/Merida","America/Mexico_City|America/Monterrey","America/Mexico_City|Mexico/General","America/New_York|America/Detroit","America/New_York|America/Fort_Wayne","America/New_York|America/Indiana/Indianapolis","America/New_York|America/Indiana/Marengo","America/New_York|America/Indiana/Petersburg","America/New_York|America/Indiana/Vevay","America/New_York|America/Indiana/Vincennes","America/New_York|America/Indiana/Winamac","America/New_York|America/Indianapolis","America/New_York|America/Iqaluit","America/New_York|America/Kentucky/Louisville","America/New_York|America/Kentucky/Monticello","America/New_York|America/Louisville","America/New_York|America/Montreal","America/New_York|America/Nassau","America/New_York|America/Nipigon","America/New_York|America/Pangnirtung","America/New_York|America/Thunder_Bay","America/New_York|America/Toronto","America/New_York|Canada/Eastern","America/New_York|EST5EDT","America/New_York|US/East-Indiana","America/New_York|US/Eastern","America/New_York|US/Michigan","America/Noronha|Atlantic/South_Georgia","America/Noronha|Brazil/DeNoronha","America/Noronha|Etc/GMT+2","America/Panama|America/Atikokan","America/Panama|America/Cayman","America/Panama|America/Coral_Harbour","America/Panama|America/Jamaica","America/Panama|EST","America/Panama|Jamaica","America/Phoenix|America/Creston","America/Phoenix|America/Dawson_Creek","America/Phoenix|America/Hermosillo","America/Phoenix|MST","America/Phoenix|US/Arizona","America/Rio_Branco|America/Eirunepe","America/Rio_Branco|America/Porto_Acre","America/Rio_Branco|Brazil/Acre","America/Santiago|Chile/Continental","America/Santo_Domingo|America/Anguilla","America/Santo_Domingo|America/Antigua","America/Santo_Domingo|America/Aruba","America/Santo_Domingo|America/Barbados","America/Santo_Domingo|America/Blanc-Sablon","America/Santo_Domingo|America/Curacao","America/Santo_Domingo|America/Dominica","America/Santo_Domingo|America/Grenada","America/Santo_Domingo|America/Guadeloupe","America/Santo_Domingo|America/Kralendijk","America/Santo_Domingo|America/Lower_Princes","America/Santo_Domingo|America/Marigot","America/Santo_Domingo|America/Martinique","America/Santo_Domingo|America/Montserrat","America/Santo_Domingo|America/Port_of_Spain","America/Santo_Domingo|America/Puerto_Rico","America/Santo_Domingo|America/St_Barthelemy","America/Santo_Domingo|America/St_Kitts","America/Santo_Domingo|America/St_Lucia","America/Santo_Domingo|America/St_Thomas","America/Santo_Domingo|America/St_Vincent","America/Santo_Domingo|America/Tortola","America/Santo_Domingo|America/Virgin","America/Sao_Paulo|Brazil/East","America/St_Johns|Canada/Newfoundland","Antarctica/Palmer|America/Punta_Arenas","Asia/Baghdad|Antarctica/Syowa","Asia/Baghdad|Asia/Aden","Asia/Baghdad|Asia/Bahrain","Asia/Baghdad|Asia/Kuwait","Asia/Baghdad|Asia/Qatar","Asia/Baghdad|Asia/Riyadh","Asia/Baghdad|Etc/GMT-3","Asia/Baghdad|Europe/Minsk","Asia/Bangkok|Asia/Ho_Chi_Minh","Asia/Bangkok|Asia/Novokuznetsk","Asia/Bangkok|Asia/Phnom_Penh","Asia/Bangkok|Asia/Saigon","Asia/Bangkok|Asia/Vientiane","Asia/Bangkok|Etc/GMT-7","Asia/Bangkok|Indian/Christmas","Asia/Dhaka|Antarctica/Vostok","Asia/Dhaka|Asia/Almaty","Asia/Dhaka|Asia/Bishkek","Asia/Dhaka|Asia/Dacca","Asia/Dhaka|Asia/Kashgar","Asia/Dhaka|Asia/Qostanay","Asia/Dhaka|Asia/Thimbu","Asia/Dhaka|Asia/Thimphu","Asia/Dhaka|Asia/Urumqi","Asia/Dhaka|Etc/GMT-6","Asia/Dhaka|Indian/Chagos","Asia/Dili|Etc/GMT-9","Asia/Dili|Pacific/Palau","Asia/Dubai|Asia/Muscat","Asia/Dubai|Asia/Tbilisi","Asia/Dubai|Asia/Yerevan","Asia/Dubai|Etc/GMT-4","Asia/Dubai|Europe/Samara","Asia/Dubai|Indian/Mahe","Asia/Dubai|Indian/Mauritius","Asia/Dubai|Indian/Reunion","Asia/Gaza|Asia/Hebron","Asia/Hong_Kong|Hongkong","Asia/Jakarta|Asia/Pontianak","Asia/Jerusalem|Asia/Tel_Aviv","Asia/Jerusalem|Israel","Asia/Kamchatka|Asia/Anadyr","Asia/Kamchatka|Etc/GMT-12","Asia/Kamchatka|Kwajalein","Asia/Kamchatka|Pacific/Funafuti","Asia/Kamchatka|Pacific/Kwajalein","Asia/Kamchatka|Pacific/Majuro","Asia/Kamchatka|Pacific/Nauru","Asia/Kamchatka|Pacific/Tarawa","Asia/Kamchatka|Pacific/Wake","Asia/Kamchatka|Pacific/Wallis","Asia/Kathmandu|Asia/Katmandu","Asia/Kolkata|Asia/Calcutta","Asia/Kuala_Lumpur|Asia/Brunei","Asia/Kuala_Lumpur|Asia/Kuching","Asia/Kuala_Lumpur|Asia/Singapore","Asia/Kuala_Lumpur|Etc/GMT-8","Asia/Kuala_Lumpur|Singapore","Asia/Makassar|Asia/Ujung_Pandang","Asia/Rangoon|Asia/Yangon","Asia/Rangoon|Indian/Cocos","Asia/Seoul|ROK","Asia/Shanghai|Asia/Chongqing","Asia/Shanghai|Asia/Chungking","Asia/Shanghai|Asia/Harbin","Asia/Shanghai|Asia/Macao","Asia/Shanghai|Asia/Macau","Asia/Shanghai|Asia/Taipei","Asia/Shanghai|PRC","Asia/Shanghai|ROC","Asia/Tashkent|Antarctica/Mawson","Asia/Tashkent|Asia/Aqtau","Asia/Tashkent|Asia/Aqtobe","Asia/Tashkent|Asia/Ashgabat","Asia/Tashkent|Asia/Ashkhabad","Asia/Tashkent|Asia/Atyrau","Asia/Tashkent|Asia/Dushanbe","Asia/Tashkent|Asia/Oral","Asia/Tashkent|Asia/Samarkand","Asia/Tashkent|Etc/GMT-5","Asia/Tashkent|Indian/Kerguelen","Asia/Tashkent|Indian/Maldives","Asia/Tehran|Iran","Asia/Tokyo|Japan","Asia/Ulaanbaatar|Asia/Choibalsan","Asia/Ulaanbaatar|Asia/Ulan_Bator","Asia/Vladivostok|Asia/Ust-Nera","Asia/Yakutsk|Asia/Khandyga","Atlantic/Azores|America/Scoresbysund","Atlantic/Cape_Verde|Etc/GMT+1","Australia/Adelaide|Australia/Broken_Hill","Australia/Adelaide|Australia/South","Australia/Adelaide|Australia/Yancowinna","Australia/Brisbane|Australia/Lindeman","Australia/Brisbane|Australia/Queensland","Australia/Darwin|Australia/North","Australia/Lord_Howe|Australia/LHI","Australia/Perth|Australia/West","Australia/Sydney|Australia/ACT","Australia/Sydney|Australia/Canberra","Australia/Sydney|Australia/Currie","Australia/Sydney|Australia/Hobart","Australia/Sydney|Australia/Melbourne","Australia/Sydney|Australia/NSW","Australia/Sydney|Australia/Tasmania","Australia/Sydney|Australia/Victoria","Etc/UTC|Etc/UCT","Etc/UTC|Etc/Universal","Etc/UTC|Etc/Zulu","Etc/UTC|UCT","Etc/UTC|UTC","Etc/UTC|Universal","Etc/UTC|Zulu","Europe/Athens|Asia/Nicosia","Europe/Athens|EET","Europe/Athens|Europe/Bucharest","Europe/Athens|Europe/Helsinki","Europe/Athens|Europe/Kiev","Europe/Athens|Europe/Mariehamn","Europe/Athens|Europe/Nicosia","Europe/Athens|Europe/Riga","Europe/Athens|Europe/Sofia","Europe/Athens|Europe/Tallinn","Europe/Athens|Europe/Uzhgorod","Europe/Athens|Europe/Vilnius","Europe/Athens|Europe/Zaporozhye","Europe/Chisinau|Europe/Tiraspol","Europe/Dublin|Eire","Europe/Istanbul|Asia/Istanbul","Europe/Istanbul|Turkey","Europe/Lisbon|Atlantic/Canary","Europe/Lisbon|Atlantic/Faeroe","Europe/Lisbon|Atlantic/Faroe","Europe/Lisbon|Atlantic/Madeira","Europe/Lisbon|Portugal","Europe/Lisbon|WET","Europe/London|Europe/Belfast","Europe/London|Europe/Guernsey","Europe/London|Europe/Isle_of_Man","Europe/London|Europe/Jersey","Europe/London|GB","Europe/London|GB-Eire","Europe/Moscow|W-SU","Europe/Paris|Africa/Ceuta","Europe/Paris|Arctic/Longyearbyen","Europe/Paris|Atlantic/Jan_Mayen","Europe/Paris|CET","Europe/Paris|Europe/Amsterdam","Europe/Paris|Europe/Andorra","Europe/Paris|Europe/Belgrade","Europe/Paris|Europe/Berlin","Europe/Paris|Europe/Bratislava","Europe/Paris|Europe/Brussels","Europe/Paris|Europe/Budapest","Europe/Paris|Europe/Busingen","Europe/Paris|Europe/Copenhagen","Europe/Paris|Europe/Gibraltar","Europe/Paris|Europe/Ljubljana","Europe/Paris|Europe/Luxembourg","Europe/Paris|Europe/Madrid","Europe/Paris|Europe/Malta","Europe/Paris|Europe/Monaco","Europe/Paris|Europe/Oslo","Europe/Paris|Europe/Podgorica","Europe/Paris|Europe/Prague","Europe/Paris|Europe/Rome","Europe/Paris|Europe/San_Marino","Europe/Paris|Europe/Sarajevo","Europe/Paris|Europe/Skopje","Europe/Paris|Europe/Stockholm","Europe/Paris|Europe/Tirane","Europe/Paris|Europe/Vaduz","Europe/Paris|Europe/Vatican","Europe/Paris|Europe/Vienna","Europe/Paris|Europe/Warsaw","Europe/Paris|Europe/Zagreb","Europe/Paris|Europe/Zurich","Europe/Paris|Poland","Europe/Ulyanovsk|Europe/Astrakhan","Pacific/Auckland|Antarctica/McMurdo","Pacific/Auckland|Antarctica/South_Pole","Pacific/Auckland|NZ","Pacific/Chatham|NZ-CHAT","Pacific/Easter|Chile/EasterIsland","Pacific/Fakaofo|Etc/GMT-13","Pacific/Fakaofo|Pacific/Enderbury","Pacific/Galapagos|Etc/GMT+6","Pacific/Gambier|Etc/GMT+9","Pacific/Guadalcanal|Antarctica/Macquarie","Pacific/Guadalcanal|Etc/GMT-11","Pacific/Guadalcanal|Pacific/Efate","Pacific/Guadalcanal|Pacific/Kosrae","Pacific/Guadalcanal|Pacific/Noumea","Pacific/Guadalcanal|Pacific/Pohnpei","Pacific/Guadalcanal|Pacific/Ponape","Pacific/Guam|Pacific/Saipan","Pacific/Honolulu|HST","Pacific/Honolulu|Pacific/Johnston","Pacific/Honolulu|US/Hawaii","Pacific/Kiritimati|Etc/GMT-14","Pacific/Niue|Etc/GMT+11","Pacific/Pago_Pago|Pacific/Midway","Pacific/Pago_Pago|Pacific/Samoa","Pacific/Pago_Pago|US/Samoa","Pacific/Pitcairn|Etc/GMT+8","Pacific/Port_Moresby|Antarctica/DumontDUrville","Pacific/Port_Moresby|Etc/GMT-10","Pacific/Port_Moresby|Pacific/Chuuk","Pacific/Port_Moresby|Pacific/Truk","Pacific/Port_Moresby|Pacific/Yap","Pacific/Tahiti|Etc/GMT+10","Pacific/Tahiti|Pacific/Rarotonga"],countries:["AD|Europe/Andorra","AE|Asia/Dubai","AF|Asia/Kabul","AG|America/Port_of_Spain America/Antigua","AI|America/Port_of_Spain America/Anguilla","AL|Europe/Tirane","AM|Asia/Yerevan","AO|Africa/Lagos Africa/Luanda","AQ|Antarctica/Casey Antarctica/Davis Antarctica/DumontDUrville Antarctica/Mawson Antarctica/Palmer Antarctica/Rothera Antarctica/Syowa Antarctica/Troll Antarctica/Vostok Pacific/Auckland Antarctica/McMurdo","AR|America/Argentina/Buenos_Aires America/Argentina/Cordoba America/Argentina/Salta America/Argentina/Jujuy America/Argentina/Tucuman America/Argentina/Catamarca America/Argentina/La_Rioja America/Argentina/San_Juan America/Argentina/Mendoza America/Argentina/San_Luis America/Argentina/Rio_Gallegos America/Argentina/Ushuaia","AS|Pacific/Pago_Pago","AT|Europe/Vienna","AU|Australia/Lord_Howe Antarctica/Macquarie Australia/Hobart Australia/Currie Australia/Melbourne Australia/Sydney Australia/Broken_Hill Australia/Brisbane Australia/Lindeman Australia/Adelaide Australia/Darwin Australia/Perth Australia/Eucla","AW|America/Curacao America/Aruba","AX|Europe/Helsinki Europe/Mariehamn","AZ|Asia/Baku","BA|Europe/Belgrade Europe/Sarajevo","BB|America/Barbados","BD|Asia/Dhaka","BE|Europe/Brussels","BF|Africa/Abidjan Africa/Ouagadougou","BG|Europe/Sofia","BH|Asia/Qatar Asia/Bahrain","BI|Africa/Maputo Africa/Bujumbura","BJ|Africa/Lagos Africa/Porto-Novo","BL|America/Port_of_Spain America/St_Barthelemy","BM|Atlantic/Bermuda","BN|Asia/Brunei","BO|America/La_Paz","BQ|America/Curacao America/Kralendijk","BR|America/Noronha America/Belem America/Fortaleza America/Recife America/Araguaina America/Maceio America/Bahia America/Sao_Paulo America/Campo_Grande America/Cuiaba America/Santarem America/Porto_Velho America/Boa_Vista America/Manaus America/Eirunepe America/Rio_Branco","BS|America/Nassau","BT|Asia/Thimphu","BW|Africa/Maputo Africa/Gaborone","BY|Europe/Minsk","BZ|America/Belize","CA|America/St_Johns America/Halifax America/Glace_Bay America/Moncton America/Goose_Bay America/Blanc-Sablon America/Toronto America/Nipigon America/Thunder_Bay America/Iqaluit America/Pangnirtung America/Atikokan America/Winnipeg America/Rainy_River America/Resolute America/Rankin_Inlet America/Regina America/Swift_Current America/Edmonton America/Cambridge_Bay America/Yellowknife America/Inuvik America/Creston America/Dawson_Creek America/Fort_Nelson America/Vancouver America/Whitehorse America/Dawson","CC|Indian/Cocos","CD|Africa/Maputo Africa/Lagos Africa/Kinshasa Africa/Lubumbashi","CF|Africa/Lagos Africa/Bangui","CG|Africa/Lagos Africa/Brazzaville","CH|Europe/Zurich","CI|Africa/Abidjan","CK|Pacific/Rarotonga","CL|America/Santiago America/Punta_Arenas Pacific/Easter","CM|Africa/Lagos Africa/Douala","CN|Asia/Shanghai Asia/Urumqi","CO|America/Bogota","CR|America/Costa_Rica","CU|America/Havana","CV|Atlantic/Cape_Verde","CW|America/Curacao","CX|Indian/Christmas","CY|Asia/Nicosia Asia/Famagusta","CZ|Europe/Prague","DE|Europe/Zurich Europe/Berlin Europe/Busingen","DJ|Africa/Nairobi Africa/Djibouti","DK|Europe/Copenhagen","DM|America/Port_of_Spain America/Dominica","DO|America/Santo_Domingo","DZ|Africa/Algiers","EC|America/Guayaquil Pacific/Galapagos","EE|Europe/Tallinn","EG|Africa/Cairo","EH|Africa/El_Aaiun","ER|Africa/Nairobi Africa/Asmara","ES|Europe/Madrid Africa/Ceuta Atlantic/Canary","ET|Africa/Nairobi Africa/Addis_Ababa","FI|Europe/Helsinki","FJ|Pacific/Fiji","FK|Atlantic/Stanley","FM|Pacific/Chuuk Pacific/Pohnpei Pacific/Kosrae","FO|Atlantic/Faroe","FR|Europe/Paris","GA|Africa/Lagos Africa/Libreville","GB|Europe/London","GD|America/Port_of_Spain America/Grenada","GE|Asia/Tbilisi","GF|America/Cayenne","GG|Europe/London Europe/Guernsey","GH|Africa/Accra","GI|Europe/Gibraltar","GL|America/Godthab America/Danmarkshavn America/Scoresbysund America/Thule","GM|Africa/Abidjan Africa/Banjul","GN|Africa/Abidjan Africa/Conakry","GP|America/Port_of_Spain America/Guadeloupe","GQ|Africa/Lagos Africa/Malabo","GR|Europe/Athens","GS|Atlantic/South_Georgia","GT|America/Guatemala","GU|Pacific/Guam","GW|Africa/Bissau","GY|America/Guyana","HK|Asia/Hong_Kong","HN|America/Tegucigalpa","HR|Europe/Belgrade Europe/Zagreb","HT|America/Port-au-Prince","HU|Europe/Budapest","ID|Asia/Jakarta Asia/Pontianak Asia/Makassar Asia/Jayapura","IE|Europe/Dublin","IL|Asia/Jerusalem","IM|Europe/London Europe/Isle_of_Man","IN|Asia/Kolkata","IO|Indian/Chagos","IQ|Asia/Baghdad","IR|Asia/Tehran","IS|Atlantic/Reykjavik","IT|Europe/Rome","JE|Europe/London Europe/Jersey","JM|America/Jamaica","JO|Asia/Amman","JP|Asia/Tokyo","KE|Africa/Nairobi","KG|Asia/Bishkek","KH|Asia/Bangkok Asia/Phnom_Penh","KI|Pacific/Tarawa Pacific/Enderbury Pacific/Kiritimati","KM|Africa/Nairobi Indian/Comoro","KN|America/Port_of_Spain America/St_Kitts","KP|Asia/Pyongyang","KR|Asia/Seoul","KW|Asia/Riyadh Asia/Kuwait","KY|America/Panama America/Cayman","KZ|Asia/Almaty Asia/Qyzylorda Asia/Qostanay Asia/Aqtobe Asia/Aqtau Asia/Atyrau Asia/Oral","LA|Asia/Bangkok Asia/Vientiane","LB|Asia/Beirut","LC|America/Port_of_Spain America/St_Lucia","LI|Europe/Zurich Europe/Vaduz","LK|Asia/Colombo","LR|Africa/Monrovia","LS|Africa/Johannesburg Africa/Maseru","LT|Europe/Vilnius","LU|Europe/Luxembourg","LV|Europe/Riga","LY|Africa/Tripoli","MA|Africa/Casablanca","MC|Europe/Monaco","MD|Europe/Chisinau","ME|Europe/Belgrade Europe/Podgorica","MF|America/Port_of_Spain America/Marigot","MG|Africa/Nairobi Indian/Antananarivo","MH|Pacific/Majuro Pacific/Kwajalein","MK|Europe/Belgrade Europe/Skopje","ML|Africa/Abidjan Africa/Bamako","MM|Asia/Yangon","MN|Asia/Ulaanbaatar Asia/Hovd Asia/Choibalsan","MO|Asia/Macau","MP|Pacific/Guam Pacific/Saipan","MQ|America/Martinique","MR|Africa/Abidjan Africa/Nouakchott","MS|America/Port_of_Spain America/Montserrat","MT|Europe/Malta","MU|Indian/Mauritius","MV|Indian/Maldives","MW|Africa/Maputo Africa/Blantyre","MX|America/Mexico_City America/Cancun America/Merida America/Monterrey America/Matamoros America/Mazatlan America/Chihuahua America/Ojinaga America/Hermosillo America/Tijuana America/Bahia_Banderas","MY|Asia/Kuala_Lumpur Asia/Kuching","MZ|Africa/Maputo","NA|Africa/Windhoek","NC|Pacific/Noumea","NE|Africa/Lagos Africa/Niamey","NF|Pacific/Norfolk","NG|Africa/Lagos","NI|America/Managua","NL|Europe/Amsterdam","NO|Europe/Oslo","NP|Asia/Kathmandu","NR|Pacific/Nauru","NU|Pacific/Niue","NZ|Pacific/Auckland Pacific/Chatham","OM|Asia/Dubai Asia/Muscat","PA|America/Panama","PE|America/Lima","PF|Pacific/Tahiti Pacific/Marquesas Pacific/Gambier","PG|Pacific/Port_Moresby Pacific/Bougainville","PH|Asia/Manila","PK|Asia/Karachi","PL|Europe/Warsaw","PM|America/Miquelon","PN|Pacific/Pitcairn","PR|America/Puerto_Rico","PS|Asia/Gaza Asia/Hebron","PT|Europe/Lisbon Atlantic/Madeira Atlantic/Azores","PW|Pacific/Palau","PY|America/Asuncion","QA|Asia/Qatar","RE|Indian/Reunion","RO|Europe/Bucharest","RS|Europe/Belgrade","RU|Europe/Kaliningrad Europe/Moscow Europe/Simferopol Europe/Kirov Europe/Astrakhan Europe/Volgograd Europe/Saratov Europe/Ulyanovsk Europe/Samara Asia/Yekaterinburg Asia/Omsk Asia/Novosibirsk Asia/Barnaul Asia/Tomsk Asia/Novokuznetsk Asia/Krasnoyarsk Asia/Irkutsk Asia/Chita Asia/Yakutsk Asia/Khandyga Asia/Vladivostok Asia/Ust-Nera Asia/Magadan Asia/Sakhalin Asia/Srednekolymsk Asia/Kamchatka Asia/Anadyr","RW|Africa/Maputo Africa/Kigali","SA|Asia/Riyadh","SB|Pacific/Guadalcanal","SC|Indian/Mahe","SD|Africa/Khartoum","SE|Europe/Stockholm","SG|Asia/Singapore","SH|Africa/Abidjan Atlantic/St_Helena","SI|Europe/Belgrade Europe/Ljubljana","SJ|Europe/Oslo Arctic/Longyearbyen","SK|Europe/Prague Europe/Bratislava","SL|Africa/Abidjan Africa/Freetown","SM|Europe/Rome Europe/San_Marino","SN|Africa/Abidjan Africa/Dakar","SO|Africa/Nairobi Africa/Mogadishu","SR|America/Paramaribo","SS|Africa/Juba","ST|Africa/Sao_Tome","SV|America/El_Salvador","SX|America/Curacao America/Lower_Princes","SY|Asia/Damascus","SZ|Africa/Johannesburg Africa/Mbabane","TC|America/Grand_Turk","TD|Africa/Ndjamena","TF|Indian/Reunion Indian/Kerguelen","TG|Africa/Abidjan Africa/Lome","TH|Asia/Bangkok","TJ|Asia/Dushanbe","TK|Pacific/Fakaofo","TL|Asia/Dili","TM|Asia/Ashgabat","TN|Africa/Tunis","TO|Pacific/Tongatapu","TR|Europe/Istanbul","TT|America/Port_of_Spain","TV|Pacific/Funafuti","TW|Asia/Taipei","TZ|Africa/Nairobi Africa/Dar_es_Salaam","UA|Europe/Simferopol Europe/Kiev Europe/Uzhgorod Europe/Zaporozhye","UG|Africa/Nairobi Africa/Kampala","UM|Pacific/Pago_Pago Pacific/Wake Pacific/Honolulu Pacific/Midway","US|America/New_York America/Detroit America/Kentucky/Louisville America/Kentucky/Monticello America/Indiana/Indianapolis America/Indiana/Vincennes America/Indiana/Winamac America/Indiana/Marengo America/Indiana/Petersburg America/Indiana/Vevay America/Chicago America/Indiana/Tell_City America/Indiana/Knox America/Menominee America/North_Dakota/Center America/North_Dakota/New_Salem America/North_Dakota/Beulah America/Denver America/Boise America/Phoenix America/Los_Angeles America/Anchorage America/Juneau America/Sitka America/Metlakatla America/Yakutat America/Nome America/Adak Pacific/Honolulu","UY|America/Montevideo","UZ|Asia/Samarkand Asia/Tashkent","VA|Europe/Rome Europe/Vatican","VC|America/Port_of_Spain America/St_Vincent","VE|America/Caracas","VG|America/Port_of_Spain America/Tortola","VI|America/Port_of_Spain America/St_Thomas","VN|Asia/Bangkok Asia/Ho_Chi_Minh","VU|Pacific/Efate","WF|Pacific/Wallis","WS|Pacific/Apia","YE|Asia/Riyadh Asia/Aden","YT|Africa/Nairobi Indian/Mayotte","ZA|Africa/Johannesburg","ZM|Africa/Maputo Africa/Lusaka","ZW|Africa/Maputo Africa/Harare"]}),e}),app.controller("HourlyRatesController",["$scope","$modalInstance","$q","configurationService","pivottableService","loggedInUser","translations","$timeout","currencySymbol","changed","config",function(e,t,i,n,r,a,o,s,l,u,d){e.saveCurrencySymbol=function(){e.loading=!0,u.changed=!0,e.currencySymbol.val||delete e.currencySymbol.val,n.saveConfiguration(e.currencySymbol).then(function(t){delete e.loading,e.currencySymbol=t})};var c={accountId:"",groups:{}},m=d.restrictedGroups.val&&d.restrictedGroups.val.filter(function(e){return TimesheetUtils.findByProperty("name",e,a.groups.items)});e.restrictedGroups=m&&(m.join(",")||"NONE");var p=function(e){return!m||!e.accountId||e.accountId===a.accountId||m.filter(function(t){return TimesheetUtils.findByProperty("name",t,e.groups.items)}).length},h=function(t){return Object.keys(t).sort(function(t,i){return PivotKey.StringComparator(e.users[t].displayName,e.users[i].displayName)}).reduce(function(e,i){return e[i]=Object.keys(t[i]).sort().reduce(function(e,n){return e[n]=t[i][n],e},{}),e},{})};e.addHourlyRate=function(t,i,r){if(t||(t=c),p(t)){var a=i&&TimesheetUtils.formatDateForSearch(moment(i).toDate())||"";e.loading=!0,u.changed=!0,t||(t=c),n.saveHourlyRate(t.accountId,a,r).then(function(){delete e.loading,e.hourlyRates[t.accountId]=e.hourlyRates[t.accountId]||{},e.hourlyRates[t.accountId][a]=r,t.accountId&&!e.users[t.accountId]&&(e.users[t.accountId]=e.paramUserInfo),e.hourlyRates=h(e.hourlyRates)})}else AP.flag.create({title:o.Denied,body:o["You can not add rates for this user"],type:"error",close:"auto"})},e.removeHourlyRate=function(t,i){e.loading=!0,u.changed=!0,n.deleteHourlyRate(t,i).then(function(){delete e.loading,delete e.hourlyRates[t][i],Object.keys(e.hourlyRates[t]).length||delete e.hourlyRates[t]})},e.userChange=function(t){r.getUserInfo(t).then(function(t){e.paramUserInfo=t})},n.getHourlyRates().then(function(t){if(!t)return{};var n=[];return Object.keys(t).forEach(function(e){n.push(r.getUserInfo(e))}),i.all(n).then(function(i){return i.forEach(function(i){p(i)?e.users[i.accountId]=i:delete t[i.accountId]}),t})}).then(function(t){e.hourlyRates=h(t)}),e.cancel=function(){t.dismiss()},e.currencySymbol=l,e.users={},e.startDateUsers={},e.hourlyRatesUsers={}}]),angular.module("xeditable",[]).value("editableOptions",{theme:"default",icon_set:"default",buttons:"right",blurElem:"cancel",blurForm:"ignore",activate:"focus",isDisabled:!1,activationEvent:"click",submitButtonTitle:"Submit",submitButtonAriaLabel:"Submit",cancelButtonTitle:"Cancel",cancelButtonAriaLabel:"Cancel",clearButtonTitle:"Clear",clearButtonAriaLabel:"Clear",displayClearButton:!1}),angular.module("xeditable").directive("editableBsdate",["editableDirectiveFactory","$injector","$parse",function(e,t,i){uibDatepickerConfig=t.get("uibDatepickerConfig"),uibDatepickerPopupConfig=t.get("uibDatepickerPopupConfig");var n=[["eIsOpen","is-open"],["eDateDisabled","date-disabled"],["eDatepickerPopup","uib-datepicker-popup"],["eShowButtonBar","show-button-bar"],["eCurrentText","current-text"],["eClearText","clear-text"],["eCloseText","close-text"],["eCloseOnDateSelection","close-on-date-selection"],["eDatepickerAppendToBody","datepicker-append-to-body"],["eOnOpenFocus","on-open-focus"],["eName","name"],["eDateDisabled","date-disabled"],["eAltInputFormats","alt-input-formats"]],r=[["eFormatDay","formatDay"],["eFormatMonth","formatMonth"],["eFormatYear","formatYear"],["eFormatDayHeader","formatDayHeader"],["eFormatDayTitle","formatDayTitle"],["eFormatMonthTitle","formatMonthTitle"],["eMaxMode","maxMode"],["eMinMode","minMode"],["eDatepickerMode","datepickerMode"]];return e({directiveName:"editableBsdate",inputTpl:"<div></div>",render:function(){this.parent.render.call(this);var e=this.attrs,t=this.scope,a=angular.element('<input type="text" class="form-control" ng-model="$parent.$data"/>');a.attr("uib-datepicker-popup",e.eDatepickerPopupXEditable||uibDatepickerPopupConfig.datepickerPopup),a.attr("year-range",e.eYearRange||20),a.attr("ng-readonly",e.eReadonly||!1);for(var o=n.length-1;o>=0;o--){var s=e[n[o][0]];void 0!==s&&a.attr(n[o][1],s)}e.eNgChange&&(a.attr("ng-change",e.eNgChange),this.inputEl.removeAttr("ng-change")),e.eStyle&&(a.attr("style",e.eStyle),this.inputEl.removeAttr("style"));var l={maxDate:t.$eval(e.eMaxDate)||uibDatepickerConfig.maxDate,minDate:t.$eval(e.eMinDate)||uibDatepickerConfig.minDate,showWeeks:e.eShowWeeks?"true"===e.eShowWeeks.toLowerCase():uibDatepickerConfig.showWeeks,startingDay:e.eStartingDay||0,initDate:t.$eval(e.eInitDate)||new Date};if(e.eDatepickerOptions){var u=i(e.eDatepickerOptions)(t);angular.extend(l,u)}for(var d=r.length-1;d>=0;d--){var c=e[r[d][0]];void 0!==c&&(l[r[d][1]]=c)}if(t.dateOptions=l,"true"===(angular.isDefined(e.eShowCalendarButton)?e.eShowCalendarButton:"true")){var m=angular.element('<button type="button" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button>'),p=angular.element('<span class="input-group-btn"></span>');m.attr("ng-click",e.eNgClick),p.append(m),this.inputEl.append(p)}else a.attr("ng-click",e.eNgClick);a.attr("datepicker-options","dateOptions"),this.inputEl.prepend(a),this.inputEl.removeAttr("class"),this.inputEl.removeAttr("ng-click"),this.inputEl.removeAttr("is-open"),this.inputEl.removeAttr("init-date"),this.inputEl.removeAttr("datepicker-popup"),this.inputEl.removeAttr("required"),this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("date-picker-append-to-body"),this.inputEl.removeAttr("name"),this.inputEl.attr("class","input-group")},autosubmit:function(){var e=this;e.inputEl.bind("change",function(){setTimeout(function(){e.scope.$apply(function(){e.scope.$form.$submit()})},500)}),e.inputEl.bind("keydown",function(t){9===t.keyCode&&"submit"===e.editorEl.attr("blur")&&e.scope.$apply(function(){e.scope.$form.$submit()})})}})}]),angular.module("xeditable").directive("editableBstime",["editableDirectiveFactory",function(e){return e({directiveName:"editableBstime",inputTpl:"<div uib-timepicker></div>",render:function(){this.parent.render.call(this);var e=angular.element('<div class="well well-small" style="display:inline-block;"></div>');e.attr("ng-model",this.inputEl.attr("ng-model")),this.inputEl.removeAttr("ng-model"),this.attrs.eNgChange&&(e.attr("ng-change",this.inputEl.attr("ng-change")),this.inputEl.removeAttr("ng-change")),this.inputEl.wrap(e)}})}]),angular.module("xeditable").directive("editableCheckbox",["editableDirectiveFactory",function(e){return e({directiveName:"editableCheckbox",inputTpl:'<input type="checkbox">',render:function(){this.parent.render.call(this),this.inputEl.wrap("<label></label>"),this.attrs.eTitle&&this.inputEl.parent().append("<span>"+this.attrs.eTitle+"</span>")},autosubmit:function(){var e=this;e.inputEl.bind("change",function(){setTimeout(function(){e.scope.$apply(function(){e.scope.$form.$submit()})},500)})}})}]),angular.module("xeditable").directive("editableChecklist",["editableDirectiveFactory","editableNgOptionsParser",function(e,t){return e({directiveName:"editableChecklist",inputTpl:"<span></span>",useCopy:!0,render:function(){this.parent.render.call(this);var e=t(this.attrs.eNgOptions),i="",n="";this.attrs.eNgChange&&(i=' ng-change="'+this.attrs.eNgChange+'"'),this.attrs.eChecklistComparator&&(n=' checklist-comparator="'+this.attrs.eChecklistComparator+'"');var r='<label ng-repeat="'+e.ngRepeat+'"><input type="checkbox" checklist-model="$parent.$parent.$data" checklist-value="'+e.locals.valueFn+'"'+i+n+'><span ng-bind="'+e.locals.displayFn+'"></span></label>';this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("ng-options"),this.inputEl.removeAttr("ng-change"),this.inputEl.removeAttr("checklist-comparator"),this.inputEl.html(r)}})}]),
angular.module("xeditable").directive("editableCombodate",["editableDirectiveFactory","editableCombodate",function(e,t){return e({directiveName:"editableCombodate",inputTpl:'<input type="text">',render:function(){this.parent.render.call(this);var e={value:new Date(this.scope.$data)},i=this;angular.forEach(["format","template","minYear","maxYear","yearDescending","minuteStep","secondStep","firstItem","errorClass","customClass","roundTime","smartDays"],function(t){var n="e"+t.charAt(0).toUpperCase()+t.slice(1);n in i.attrs&&(e[t]="minYear"==t||"maxYear"==t||"minuteStep"==t||"secondStep"==t?parseInt(i.attrs[n],10):i.attrs[n])});var n=t.getInstance(this.inputEl,e);n.$widget.find("select").bind("change",function(e){i.scope.$data=n.getValue()?new Date(n.getValue().replace(/-/g,"/")).toISOString():null}).change()}})}]),function(){var e=function(e){return e.toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()})},t="text|password|email|tel|number|url|search|color|date|datetime|datetime-local|time|month|week|file".split("|");angular.forEach(t,function(t){var i=e("editable-"+t);angular.module("xeditable").directive(i,["editableDirectiveFactory",function(e){return e({directiveName:i,inputTpl:'<input type="'+t+'">',render:function(){if(this.parent.render.call(this),this.attrs.eInputgroupleft||this.attrs.eInputgroupright){if(this.inputEl.wrap('<div class="input-group"></div>'),this.attrs.eInputgroupleft){var e=angular.element('<span class="input-group-addon">'+this.attrs.eInputgroupleft+"</span>");this.inputEl.parent().prepend(e)}if(this.attrs.eInputgroupright){var t=angular.element('<span class="input-group-addon">'+this.attrs.eInputgroupright+"</span>");this.inputEl.parent().append(t)}}if(this.attrs.eLabel){var i=angular.element("<label>"+this.attrs.eLabel+"</label>");this.attrs.eInputgroupleft||this.attrs.eInputgroupright?this.inputEl.parent().parent().prepend(i):this.inputEl.parent().prepend(i)}this.attrs.eFormclass&&(this.editorEl.addClass(this.attrs.eFormclass),this.inputEl.removeAttr("formclass"))},autosubmit:function(){var e=this;e.inputEl.bind("keydown",function(t){9===t.keyCode&&"submit"===e.editorEl.attr("blur")&&e.scope.$apply(function(){e.scope.$form.$submit()})})}})}])}),angular.module("xeditable").directive("editableRange",["editableDirectiveFactory","$interpolate",function(e,t){return e({directiveName:"editableRange",inputTpl:'<input type="range" id="range" name="range">',render:function(){this.parent.render.call(this),this.inputEl.after("<output>"+t.startSymbol()+"$data"+t.endSymbol()+"</output>")}})}])}(),angular.module("xeditable").directive("editableTagsInput",["editableDirectiveFactory","editableUtils",function(e,t){var i=e({directiveName:"editableTagsInput",inputTpl:"<tags-input></tags-input>",useCopy:!0,render:function(){this.parent.render.call(this),this.inputEl.append(t.rename("auto-complete",this.attrs.$autoCompleteElement)),this.inputEl.removeAttr("ng-model"),this.inputEl.attr("ng-model","$parent.$data")}}),n=i.link;return i.link=function(e,t,i,r){var a=t.find("editable-tags-input-auto-complete");return i.$autoCompleteElement=a.clone(),a.remove(),n(e,t,i,r)},i}]),angular.module("xeditable").directive("editableRadiolist",["editableDirectiveFactory","editableNgOptionsParser","$interpolate",function(e,t,i){return e({directiveName:"editableRadiolist",inputTpl:"<span></span>",render:function(){this.parent.render.call(this);var e=t(this.attrs.eNgOptions),n="",r="";this.attrs.eNgChange&&(n=' ng-change="'+this.attrs.eNgChange+'"'),this.attrs.eName&&(r=' name="'+this.attrs.eName+'"');var a='<label data-ng-repeat="'+e.ngRepeat+'"><input type="radio" data-ng-disabled="::'+this.attrs.eNgDisabled+'" data-ng-model="$parent.$parent.$data" data-ng-value="'+i.startSymbol()+"::"+e.locals.valueFn+i.endSymbol()+'"'+n+r+'><span data-ng-bind="::'+e.locals.displayFn+'"></span></label>';this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("ng-options"),this.inputEl.removeAttr("ng-change"),this.inputEl.html(a)},autosubmit:function(){var e=this;e.inputEl.bind("change",function(){setTimeout(function(){e.scope.$apply(function(){e.scope.$form.$submit()})},500)})}})}]),angular.module("xeditable").directive("editableSelect",["editableDirectiveFactory",function(e){return e({directiveName:"editableSelect",inputTpl:"<select></select>",render:function(){if(this.parent.render.call(this),this.attrs.ePlaceholder){var e=angular.element('<option value="">'+this.attrs.ePlaceholder+"</option>");this.inputEl.append(e)}},autosubmit:function(){var e=this;e.attrs.hasOwnProperty("eMultiple")||e.inputEl.bind("change",function(){e.scope.$apply(function(){e.scope.$form.$submit()})})}})}]),angular.module("xeditable").directive("editableTextarea",["editableDirectiveFactory",function(e){return e({directiveName:"editableTextarea",inputTpl:"<textarea></textarea>",render:function(){this.parent.render.call(this),this.attrs.eFormclass&&(this.editorEl.addClass(this.attrs.eFormclass),this.inputEl.removeAttr("formclass"))},addListeners:function(){var e=this;e.parent.addListeners.call(e),e.single&&"no"!==e.buttons&&e.autosubmit()},autosubmit:function(){var e=this;e.inputEl.bind("keydown",function(t){e.attrs.submitOnEnter?13!==t.keyCode||t.shiftKey||e.scope.$apply(function(){e.scope.$form.$submit()}):((t.ctrlKey||t.metaKey)&&13===t.keyCode||9===t.keyCode&&"submit"===e.editorEl.attr("blur"))&&e.scope.$apply(function(){e.scope.$form.$submit()})})}})}]),angular.module("xeditable").directive("editableUidate",["editableDirectiveFactory",function(e){return e({directiveName:"editableUidate",inputTpl:'<input class="form-control" />',render:function(){this.parent.render.call(this),this.inputEl.attr("ui-date",this.attrs.eUiDate),this.inputEl.attr("placeholder",this.attrs.ePlaceholder)}})}]),angular.module("xeditable").directive("editableUiSelect",["editableDirectiveFactory","editableUtils",function(e,t){var i=e({directiveName:"editableUiSelect",inputTpl:"<ui-select></ui-select>",render:function(){this.parent.render.call(this),this.inputEl.append(t.rename("ui-select-match",this.attrs.$matchElement)),this.inputEl.append(t.rename("ui-select-choices",this.attrs.$choicesElement)),this.inputEl.removeAttr("ng-model"),this.inputEl.attr("ng-model","$parent.$parent.$data")},autosubmit:function(){var e=this;e.inputEl.bind("change",function(){setTimeout(function(){e.scope.$apply(function(){e.scope.$form.$submit()})},500)}),e.inputEl.bind("keydown",function(t){9===t.keyCode&&"submit"===e.editorEl.attr("blur")&&e.scope.$apply(function(){e.scope.$form.$submit()})})}}),n=i.link;return i.link=function(e,t,i,r){var a=t.find("editable-ui-select-match"),o=t.find("editable-ui-select-choices");return i.$matchElement=a.clone(),i.$choicesElement=o.clone(),a.remove(),o.remove(),n(e,t,i,r)},i}]),angular.module("xeditable").factory("editableController",["$q","editableUtils",function(e,t){function i(e,i,n,r,a,o,s,l,u,d,c,m){var p,h,f=this;f.scope=e,f.elem=n,f.attrs=i,f.inputEl=null,f.editorEl=null,f.single=!0,f.error="",f.theme=a[i.editableTheme]||a[s.theme]||a.default,f.parent={};var g=i.editableTheme||s.theme||"default",y=i.editableIconSet||s.icon_set;f.icon_set="default"===y?o.default[g]:o.external[y],f.inputTpl="",f.directiveName="",f.useCopy=!1,f.single=null,f.buttons="right",f.popover=!1,f.init=function(t){if(f.single=t,f.name=i.eName||i[f.directiveName],!i[f.directiveName])throw"You should provide value for `"+f.directiveName+"` in editable element!";p=r(i[f.directiveName]),f.single?f.buttons=f.attrs.buttons||s.buttons:f.buttons="no",i.eName&&f.scope.$watch("$data",function(e){f.scope.$form.$data[i.eName]=e}),i.onshow&&(f.onshow=function(){return f.catchError(r(i.onshow)(e))}),i.onhide&&(f.onhide=function(){return r(i.onhide)(e)}),i.oncancel&&(f.oncancel=function(){return r(i.oncancel)(e)}),i.onbeforesave&&(f.onbeforesave=function(){return f.catchError(r(i.onbeforesave)(e))}),i.onaftersave&&(f.onaftersave=function(){return f.catchError(r(i.onaftersave)(e))}),i.popover&&(f.popover=f.attrs.popover),e.$parent.$watch(i[f.directiveName],function(e,t){f.setLocalValue(),f.handleEmpty()})},f.render=function(){var e=f.theme;f.inputEl=angular.element(f.inputTpl),f.controlsEl=angular.element(e.controlsTpl),f.controlsEl.append(f.inputEl),"no"!==f.buttons&&(f.buttonsEl=angular.element(e.buttonsTpl),f.submitEl=angular.element(e.submitTpl),f.resetEl=angular.element(e.resetTpl),f.cancelEl=angular.element(e.cancelTpl),f.submitEl.attr("title",s.submitButtonTitle),f.submitEl.attr("aria-label",s.submitButtonAriaLabel),f.cancelEl.attr("title",s.cancelButtonTitle),f.cancelEl.attr("aria-label",s.cancelButtonAriaLabel),f.resetEl.attr("title",s.clearButtonTitle),f.resetEl.attr("aria-label",s.clearButtonAriaLabel),f.icon_set&&(f.submitEl.find("span").addClass(f.icon_set.ok),f.cancelEl.find("span").addClass(f.icon_set.cancel),f.resetEl.find("span").addClass(f.icon_set.clear)),f.buttonsEl.append(f.submitEl).append(f.cancelEl),s.displayClearButton&&f.buttonsEl.append(f.resetEl),f.controlsEl.append(f.buttonsEl),f.inputEl.addClass("editable-has-buttons")),f.errorEl=angular.element(e.errorTpl),f.controlsEl.append(f.errorEl),f.editorEl=angular.element(f.single?e.formTpl:e.noformTpl),f.editorEl.append(f.controlsEl);for(var n in i.$attr)if(!(n.length<=1)){var r=!1,a=n.substring(1,2);if("e"===n.substring(0,1)&&a===a.toUpperCase()&&"Form"!==(r=n.substring(1))&&"NgSubmit"!==r){var o=r.substring(0,1),l=r.substring(1,2);r=l===l.toUpperCase()&&o===o.toUpperCase()?o.toLowerCase()+"-"+t.camelToDash(r.substring(1)):o.toLowerCase()+t.camelToDash(r.substring(1));var u="value"!==r&&""===i[n]?r:i[n];f.inputEl.attr(r,u)}}if(f.inputEl.addClass("editable-input"),f.inputEl.attr("ng-model","$parent.$data"),f.editorEl.addClass(t.camelToDash(f.directiveName)),f.single&&(f.editorEl.attr("editable-form","$form"),f.editorEl.attr("blur",f.attrs.blur||s.blurElem)),f.popover){var d=angular.element("<div></div>");d.append(f.editorEl),f.editorEl=d,m.put("popover.html",f.editorEl[0].outerHTML)}angular.isFunction(e.postrender)&&e.postrender.call(f)},f.setLocalValue=function(){f.scope.$data=f.useCopy?angular.copy(p(e.$parent)):p(e.$parent)};var v=null;f.show=function(){return f.setLocalValue(),f.render(),n.after(f.editorEl),v=e.$new(),u(f.editorEl)(v),f.addListeners(),n.addClass("editable-hide"),f.onshow()},f.hide=function(){return v.$destroy(),f.controlsEl.remove(),f.editorEl.remove(),n.removeClass("editable-hide"),f.popover&&m.remove("popover.html"),f.onhide()},f.cancel=function(){f.oncancel()},f.addListeners=function(){f.inputEl.bind("keyup",function(e){if(f.single)switch(e.keyCode){case 27:f.scope.$apply(function(){f.scope.$form.$cancel()})}}),f.single&&"no"===f.buttons&&f.autosubmit(),f.editorEl.bind("click",function(e){e.which&&1!==e.which||f.scope.$form.$visible&&(f.scope.$form._clicked=!0)})},f.setWaiting=function(e){e?(h=!f.inputEl.attr("disabled")&&!f.inputEl.attr("ng-disabled")&&!f.inputEl.attr("ng-enabled"))&&(f.inputEl.attr("disabled","disabled"),f.buttonsEl&&f.buttonsEl.find("button").attr("disabled","disabled")):h&&(f.inputEl.removeAttr("disabled"),f.buttonsEl&&f.buttonsEl.find("button").removeAttr("disabled"))},f.activate=function(e,t){setTimeout(function(){var i=f.inputEl[0];"focus"===s.activate&&i.focus?(void 0!==e&&""!==e&&i.setSelectionRange&&(t=t||e,i.onfocus=function(){setTimeout(function(){try{this.setSelectionRange(e,t)}catch(e){}}.bind(this))}),"editableRadiolist"==f.directiveName||"editableChecklist"==f.directiveName||"editableBsdate"==f.directiveName||"editableTagsInput"==f.directiveName?i.querySelector(".ng-pristine").focus():i.focus()):"select"===s.activate&&(i.select?i.select():i.focus&&i.focus())},0)},f.setError=function(t){angular.isObject(t)||(e.$error=c.trustAsHtml(t),f.error=t)},f.catchError=function(e,t){return angular.isObject(e)&&!0!==t?d.when(e).then(angular.bind(this,function(e){this.catchError(e,!0)}),angular.bind(this,function(e){this.catchError(e,!0)})):t&&angular.isObject(e)&&e.status&&200!==e.status&&e.data&&angular.isString(e.data)?(this.setError(e.data),e=e.data):angular.isString(e)&&this.setError(e),e},f.save=function(){p.assign(e.$parent,f.useCopy?angular.copy(f.scope.$data):f.scope.$data)},f.handleEmpty=function(){var t=p(e.$parent),i=null===t||void 0===t||""===t||angular.isArray(t)&&0===t.length;n.toggleClass("editable-empty",i)},f.autosubmit=angular.noop,f.onshow=angular.noop,f.onhide=angular.noop,f.oncancel=angular.noop,f.onbeforesave=angular.noop,f.onaftersave=angular.noop}return i.$inject=["$scope","$attrs","$element","$parse","editableThemes","editableIcons","editableOptions","$rootScope","$compile","$q","$sce","$templateCache"],i}]),angular.module("xeditable").factory("editableDirectiveFactory",["$parse","$compile","editableThemes","$rootScope","$document","editableController","editableFormController","editableOptions",function(e,t,i,n,r,a,o,s){return function(t){return{restrict:"A",scope:!0,require:[t.directiveName,"?^form"],controller:a,link:function(i,a,l,u){var d,c=u[0],m=!1;if(u[1])d=u[1],m=void 0===l.eSingle;else if(l.eForm){var p=e(l.eForm)(i);if(p)d=p,m=!0;else if(a&&"function"==typeof a.parents&&a.parents().last().find('form[name="'+l.eForm+'"]').length)d=null,m=!0;else for(var h=0;h<r[0].forms.length;h++)if(r[0].forms[h].name===l.eForm){d=null,m=!0;break}}angular.forEach(t,function(e,t){void 0!==c[t]&&(c.parent[t]=c[t])}),angular.extend(c,t);var f=function(){return angular.isDefined(l.editDisabled)?i.$eval(l.editDisabled):s.isDisabled};if(c.init(!m),i.$editable=c,a.addClass("editable"),m)if(d){if(i.$form=d,!i.$form.$addEditable)throw"Form with editable elements should have `editable-form` attribute.";i.$form.$addEditable(c)}else n.$$editableBuffer=n.$$editableBuffer||{},n.$$editableBuffer[l.eForm]=n.$$editableBuffer[l.eForm]||[],n.$$editableBuffer[l.eForm].push(c),i.$form=null;else i.$form=o(),i.$form.$addEditable(c),l.eForm&&(e(l.eForm).assign||angular.noop)(i.$parent,i.$form),l.eForm&&!l.eClickable||(a.addClass("editable-click"),a.bind(s.activationEvent,function(e){e.preventDefault(),e.editable=c,f()||i.$apply(function(){i.$form.$show()})}))}}}}]),angular.module("xeditable").factory("editableFormController",["$parse","$document","$rootScope","editablePromiseCollection","editableUtils",function(e,t,i,n,r){var a=[],o=function(e,t){if(t==e)return!0;for(var i=t.parentNode;null!==i;){if(i==e)return!0;i=i.parentNode}return!1},s=function(e,t){var i=!0,n=e.$editables;return angular.forEach(n,function(e){var n=e.editorEl[0];o(n,t.target)&&(i=!1)}),i};t.bind("click",function(e){if(!e.which||1===e.which){for(var t=[],n=[],r=0;r<a.length;r++)a[r]._clicked?a[r]._clicked=!1:a[r].$waiting||("cancel"===a[r]._blur&&s(a[r],e)&&t.push(a[r]),"submit"===a[r]._blur&&s(a[r],e)&&n.push(a[r]));(t.length||n.length)&&i.$apply(function(){angular.forEach(t,function(e){e.$cancel()}),angular.forEach(n,function(e){e.$submit()})})}}),i.$on("closeEdit",function(){for(var e=0;e<a.length;e++)a[e].$hide()});var l={$addEditable:function(e){this.$editables.push(e),e.elem.bind("$destroy",angular.bind(this,this.$removeEditable,e)),e.scope.$form||(e.scope.$form=this),this.$visible&&e.catchError(e.show()),e.catchError(e.setWaiting(this.$waiting))},$removeEditable:function(e){for(var t=0;t<this.$editables.length;t++)if(this.$editables[t]===e)return void this.$editables.splice(t,1)},$show:function(){if(!this.$visible){this.$visible=!0;var e=n();e.when(this.$onshow()),this.$setError(null,""),angular.forEach(this.$editables,function(t){e.when(t.show())}),e.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,this.$activate),onFalse:angular.bind(this,this.$activate),onString:angular.bind(this,this.$activate)}),setTimeout(angular.bind(this,function(){this._clicked=!1,-1===r.indexOf(a,this)&&a.push(this)}),0)}},$activate:function(e){var t,i,n;if(this.$editables.length){if(angular.isString(e))for(t=0;t<this.$editables.length;t++)if(this.$editables[t].name===e)return void this.$editables[t].activate();for(t=0;t<this.$editables.length;t++)if(this.$editables[t].error)return void this.$editables[t].activate();i=this.$editables[0].elem[0].selectionStart?this.$editables[0].elem[0].selectionStart:this.$editables[0].elem[0].text?this.$editables[0].elem[0].text.length:this.$editables[0].elem[0].innerHTML?this.$editables[0].elem[0].innerHTML.length:0,n=this.$editables[0].elem[0].selectionEnd?this.$editables[0].elem[0].selectionEnd:this.$editables[0].elem[0].text?this.$editables[0].elem[0].text.length:this.$editables[0].elem[0].innerHTML?this.$editables[0].elem[0].innerHTML.length:0,this.$editables[0].activate(i,n)}},$hide:function(){this.$visible&&(this.$visible=!1,this.$onhide(),angular.forEach(this.$editables,function(e){e.hide()}),r.arrayRemove(a,this))},$cancel:function(){this.$visible&&(this.$oncancel(),angular.forEach(this.$editables,function(e){e.cancel()}),this.$hide())},$setWaiting:function(e){this.$waiting=!!e,angular.forEach(this.$editables,function(t){t.setWaiting(!!e)})},$setError:function(e,t){angular.forEach(this.$editables,function(i){e&&i.name!==e||i.setError(t)})},$submit:function(){function e(e){var t=n();t.when(this.$onbeforesave()),t.then({onWait:angular.bind(this,this.$setWaiting),onTrue:e?angular.bind(this,this.$save):angular.bind(this,this.$hide),onFalse:angular.bind(this,this.$hide),onString:angular.bind(this,this.$activate)})}if(!this.$waiting){this.$setError(null,"");var t=n();angular.forEach(this.$editables,function(e){t.when(e.onbeforesave())}),t.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,e,!0),onFalse:angular.bind(this,e,!1),onString:angular.bind(this,this.$activate)})}},$save:function(){angular.forEach(this.$editables,function(e){e.save()});var e=n();e.when(this.$onaftersave()),angular.forEach(this.$editables,function(t){e.when(t.onaftersave())}),e.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,this.$hide),onFalse:angular.bind(this,this.$hide),onString:angular.bind(this,this.$activate)})},$onshow:angular.noop,$oncancel:angular.noop,$onhide:angular.noop,$onbeforesave:angular.noop,$onaftersave:angular.noop};return function(){return angular.extend({$editables:[],$visible:!1,$waiting:!1,$data:{},_clicked:!1,_blur:null},l)}}]),angular.module("xeditable").directive("editableForm",["$rootScope","$parse","editableFormController","editableOptions",function(e,t,i,n){return{restrict:"A",require:["form"],compile:function(){return{pre:function(t,n,r,a){var o,s=a[0];r.editableForm?t[r.editableForm]&&t[r.editableForm].$show?(o=t[r.editableForm],angular.extend(s,o)):(o=i(),t[r.editableForm]=o,angular.extend(o,s)):(o=i(),angular.extend(s,o));var l=e.$$editableBuffer,u=s.$name;u&&l&&l[u]&&(angular.forEach(l[u],function(e){o.$addEditable(e)}),delete l[u])},post:function(e,i,r,a){var o;o=r.editableForm&&e[r.editableForm]&&e[r.editableForm].$show?e[r.editableForm]:a[0],r.onshow&&(o.$onshow=angular.bind(o,t(r.onshow),e)),r.onhide&&(o.$onhide=angular.bind(o,t(r.onhide),e)),r.oncancel&&(o.$oncancel=angular.bind(o,t(r.oncancel),e)),r.shown&&t(r.shown)(e)&&o.$show(),o._blur=r.blur||n.blurForm,r.ngSubmit||r.submit||(r.onbeforesave&&(o.$onbeforesave=function(){return t(r.onbeforesave)(e,{$data:o.$data})}),r.onaftersave&&(o.$onaftersave=function(){return t(r.onaftersave)(e,{$data:o.$data})}),i.bind("submit",function(t){t.preventDefault(),e.$apply(function(){o.$submit()})})),i.bind("click",function(e){e.which&&1!==e.which||o.$visible&&(o._clicked=!0)})}}}}}]),angular.module("xeditable").factory("editablePromiseCollection",["$q",function(e){function t(){return{promises:[],hasFalse:!1,hasString:!1,when:function(t,i){if(!1===t)this.hasFalse=!0;else if(!i&&angular.isObject(t))this.promises.push(e.when(t));else{if(!angular.isString(t))return;this.hasString=!0}},then:function(t){function i(){s.hasString||s.hasFalse?!s.hasString&&s.hasFalse?r():a():n()}t=t||{};var n=t.onTrue||angular.noop,r=t.onFalse||angular.noop,a=t.onString||angular.noop,o=t.onWait||angular.noop,s=this;this.promises.length?(o(!0),e.all(this.promises).then(function(e){o(!1),angular.forEach(e,function(e){s.when(e,!0)}),i()},function(e){o(!1),a()})):i()}}}return t}]),angular.module("xeditable").factory("editableUtils",[function(){return{indexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0;i<e.length;i++)if(t===e[i])return i;return-1},arrayRemove:function(e,t){var i=this.indexOf(e,t);return i>=0&&e.splice(i,1),t},camelToDash:function(e){var t=/[A-Z]/g;return e.replace(t,function(e,t){return(t?"-":"")+e.toLowerCase()})},dashToCamel:function(e){var t=/([\:\-\_]+(.))/g,i=/^moz([A-Z])/;return e.replace(t,function(e,t,i,n){return n?i.toUpperCase():i}).replace(i,"Moz$1")},rename:function(e,t){if(t[0]&&t[0].attributes){var i=angular.element("<"+e+"/>");i.html(t.html());for(var n=t[0].attributes,r=0;r<n.length;++r)i.attr(n.item(r).nodeName,n.item(r).value);return i}}}}]),angular.module("xeditable").factory("editableNgOptionsParser",[function(){function e(e){var i;if(!(i=e.match(t)))throw"ng-options parse error";var n,r=i[2]||i[1],a=i[4]||i[6],o=i[5],s=(i[3],i[2]?i[1]:a),l=i[7],u=i[8],d=u?i[8]:null;return void 0===o?(n=a+" in "+l,void 0!==u&&(n+=" track by "+d)):n="("+o+", "+a+") in "+l,{ngRepeat:n,locals:{valueName:a,keyName:o,valueFn:s,displayFn:r}}}var t=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/;return e}]),angular.module("xeditable").factory("editableCombodate",[function(){function e(e,t){if(this.$element=angular.element(e),"INPUT"!=this.$element[0].nodeName)throw"Combodate should be applied to INPUT element";var i=(new Date).getFullYear();this.defaults={format:"YYYY-MM-DD HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:i,yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,customClass:"",roundTime:!0,smartDays:!0},this.options=angular.extend({},this.defaults,t),this.init()}return e.prototype={constructor:e,init:function(){if(this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]},this.$widget=angular.element('<span class="combodate"></span>').html(this.getTemplate()),this.initCombos(),this.options.smartDays){var e=this;this.$widget.find("select").bind("change",function(t){(angular.element(t.target).hasClass("month")||angular.element(t.target).hasClass("year"))&&e.fillCombo("day")})}this.$widget.find("select").css("width","auto"),this.$element.css("display","none").after(this.$widget),this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var e=this.options.template,t=this.options.customClass;return angular.forEach(this.map,function(t,i){t=t[0];var n=new RegExp(t+"+"),r=t.length>1?t.substring(1,2):t;e=e.replace(n,"{"+r+"}")}),e=e.replace(/ /g,"&nbsp;"),angular.forEach(this.map,function(i,n){i=i[0];var r=i.length>1?i.substring(1,2):i;e=e.replace("{"+r+"}",'<select class="'+n+" "+t+'"></select>')}),e},initCombos:function(){for(var e in this.map){var t=this.$widget[0].querySelectorAll("."+e);this["$"+e]=t.length?angular.element(t):null,this.fillCombo(e)}},fillCombo:function(e){var t=this["$"+e];if(t){var i="fill"+e.charAt(0).toUpperCase()+e.slice(1),n=this[i](),r=t.val();t.html("");for(var a=0;a<n.length;a++)t.append('<option value="'+n[a][0]+'">'+n[a][1]+"</option>");t.val(r)}},fillCommon:function(e){var t,i=[];if("name"===this.options.firstItem){t=moment.relativeTime||moment.langData()._relativeTime;var n="function"==typeof t[e]?t[e](1,!0,e,!1):t[e];n=n.split(" ").reverse()[0],i.push(["",n])}else"empty"===this.options.firstItem&&i.push(["",""]);return i},fillDay:function(){var e,t,i=this.fillCommon("d"),n=-1!==this.options.template.indexOf("DD"),r=31;if(this.options.smartDays&&this.$month&&this.$year){var a=parseInt(this.$month.val(),10),o=parseInt(this.$year.val(),10);isNaN(a)||isNaN(o)||(r=moment([o,a]).daysInMonth())}for(t=1;t<=r;t++)e=n?this.leadZero(t):t,i.push([t,e]);return i},fillMonth:function(){var e,t,i=this.fillCommon("M"),n=-1!==this.options.template.indexOf("MMMM"),r=-1!==this.options.template.indexOf("MMM"),a=-1!==this.options.template.indexOf("MM");for(t=0;t<=11;t++)e=n?moment().date(1).month(t).format("MMMM"):r?moment().date(1).month(t).format("MMM"):a?this.leadZero(t+1):t+1,i.push([t,e]);return i},fillYear:function(){var e,t,i=[],n=-1!==this.options.template.indexOf("YYYY");for(t=this.options.maxYear;t>=this.options.minYear;t--)e=n?t:(t+"").substring(2),i[this.options.yearDescending?"push":"unshift"]([t,e]);return i=this.fillCommon("y").concat(i)},fillHour:function(){var e,t,i=this.fillCommon("h"),n=-1!==this.options.template.indexOf("h"),r=(this.options.template.indexOf("H"),-1!==this.options.template.toLowerCase().indexOf("hh")),a=n?1:0,o=n?12:23;for(t=a;t<=o;t++)e=r?this.leadZero(t):t,i.push([t,e]);return i},fillMinute:function(){var e,t,i=this.fillCommon("m"),n=-1!==this.options.template.indexOf("mm");for(t=0;t<=59;t+=this.options.minuteStep)e=n?this.leadZero(t):t,i.push([t,e]);return i},fillSecond:function(){var e,t,i=this.fillCommon("s"),n=-1!==this.options.template.indexOf("ss");for(t=0;t<=59;t+=this.options.secondStep)e=n?this.leadZero(t):t,i.push([t,e]);return i},fillAmpm:function(){var e=-1!==this.options.template.indexOf("a");this.options.template.indexOf("A");return[["am",e?"am":"AM"],["pm",e?"pm":"PM"]]},getValue:function(e){var t,i={},n=this,r=!1;return angular.forEach(this.map,function(e,t){if("ampm"!==t){var a="day"===t?1:0;return i[t]=n["$"+t]?parseInt(n["$"+t].val(),10):a,isNaN(i[t])?(r=!0,!1):void 0}}),r?"":(this.$ampm&&(12===i.hour?i.hour="am"===this.$ampm.val()?0:12:i.hour="am"===this.$ampm.val()?i.hour:i.hour+12),t=moment([i.year,i.month,i.day,i.hour,i.minute,i.second]),this.highlight(t),e=void 0===e?this.options.format:e,null===e?t.isValid()?t:null:t.isValid()?t.format(e):"")},setValue:function(e){function t(e,t){var i={};return angular.forEach(e.children("option"),function(e,n){var r=angular.element(e).attr("value");if(""!==r){var a=Math.abs(r-t);(void 0===i.distance||a<i.distance)&&(i={value:r,distance:a})}}),i.value}if(e){var i="string"==typeof e?moment(e,this.options.format,!0):moment(e),n=this,r={};i.isValid()&&(angular.forEach(this.map,function(e,t){"ampm"!==t&&(r[t]=i[e[1]]())}),this.$ampm&&(r.hour>=12?(r.ampm="pm",r.hour>12&&(r.hour-=12)):(r.ampm="am",0===r.hour&&(r.hour=12))),angular.forEach(r,function(e,i){n["$"+i]&&("minute"===i&&n.options.minuteStep>1&&n.options.roundTime&&(e=t(n["$"+i],e)),"second"===i&&n.options.secondStep>1&&n.options.roundTime&&(e=t(n["$"+i],e)),n["$"+i].val(e))}),this.options.smartDays&&this.fillCombo("day"),this.$element.val(i.format(this.options.format)).triggerHandler("change"))}},highlight:function(e){e.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),this.$widget.find("select").css("border-color","red"))},leadZero:function(e){return e<=9?"0"+e:e},destroy:function(){this.$widget.remove(),this.$element.removeData("combodate").show()}},{getInstance:function(t,i){return new e(t,i)}}}]),angular.module("xeditable").factory("editableIcons",function(){return{default:{bs2:{ok:"icon-ok icon-white",cancel:"icon-remove",clear:"icon-trash"},bs3:{ok:"glyphicon glyphicon-ok",cancel:"glyphicon glyphicon-remove",clear:"glyphicon glyphicon-trash"}},external:{"font-awesome":{ok:"fa fa-check",cancel:"fa fa-times",clear:"fa fa-trash"}}}}),angular.module("xeditable").factory("editableThemes",function(){return{default:{formTpl:'<form class="editable-wrap"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<span class="editable-controls"></span>',inputTpl:"",errorTpl:'<div class="editable-error" data-ng-if="$error" data-ng-bind-html="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit">save</button>',cancelTpl:'<button type="button" ng-click="$form.$cancel()">cancel</button>',resetTpl:'<button type="reset">clear</button>'},bs2:{formTpl:'<form class="form-inline editable-wrap" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls controls control-group" ng-class="{\'error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error help-block" data-ng-if="$error" data-ng-bind-html="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit" class="btn btn-primary"><span></span></button>',cancelTpl:'<button type="button" class="btn" ng-click="$form.$cancel()"><span></span></button>',resetTpl:'<button type="reset" class="btn btn-danger">clear</button>'},bs3:{formTpl:'<form class="form-inline editable-wrap" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls form-group" ng-class="{\'has-error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error help-block" data-ng-if="$error" data-ng-bind-html="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit" class="btn btn-primary"><span></span></button>',cancelTpl:'<button type="button" class="btn btn-default" ng-click="$form.$cancel()"><span></span></button>',resetTpl:'<button type="reset" class="btn btn-danger">clear</button>',buttonsClass:"",inputClass:"",postrender:function(){switch(this.directiveName){case"editableText":case"editableSelect":case"editableTextarea":case"editableEmail":case"editableTel":case"editableNumber":case"editableUrl":case"editableSearch":case"editableDate":case"editableDatetime":case"editableBsdate":case"editableTime":case"editableMonth":case"editableWeek":case"editablePassword":case"editableDatetimeLocal":if(this.inputEl.addClass("form-control"),this.theme.inputClass){if(this.inputEl.attr("multiple")&&("input-sm"===this.theme.inputClass||"input-lg"===this.theme.inputClass))break;this.inputEl.addClass(this.theme.inputClass)}break;case"editableCheckbox":this.editorEl.addClass("checkbox")}this.buttonsEl&&this.theme.buttonsClass&&this.buttonsEl.find("button").addClass(this.theme.buttonsClass)}},semantic:{formTpl:'<form class="editable-wrap ui form" ng-class="{\'error\': $error}" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls ui fluid input" ng-class="{\'error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error ui error message" data-ng-if="$error" data-ng-bind-html="$error"></div>',buttonsTpl:'<span class="mini ui buttons"></span>',submitTpl:'<button type="submit" class="ui primary button"><i class="ui check icon"></i></button>',cancelTpl:'<button type="button" class="ui button" ng-click="$form.$cancel()"><i class="ui cancel icon"></i></button>',resetTpl:'<button type="reset" class="ui button">clear</button>'}}}),app.controller("TimesheetController",["$window","$scope","$rootScope","translations","$timeout","$q","$route","$routeParams","$location","$sce","$interval","pivottableService","configurationService","loggedInUser","projectKey","jql","externalFilter","timesheetParams","applicationLoggingService","$modal","viewService","flightRecorder","validationService","jobService","$injector","userConfiguration","trackingService",function(e,t,i,n,r,a,o,s,l,u,d,c,m,p,h,f,g,y,v,_,w,T,b,k,S,A,D){function O(o){if(t.isTimesheet=window.isTimesheet,o.showDetails||(o.showDetails=!1),v.trace("routeParams",o),$(".aui-inline-dialog").hide(),t.currentView&&o.name!==t.currentView.name&&(t.currentView.name=o.name),P(o),t.TimesheetUtils=TimesheetUtils,t.moment=moment,i.showGadgetConfiguration=!1,t.gadgetDialog=!1,t.loggedInUser=p,t.reportingDayConfig=A.reportingDay&&A.reportingDay.val,t.pivotTableType=t.issueTimeBalance?"IssueTimeBalance":t.createWorklog||t.issueKey&&!o.viewId?"IssueTime":o.pivotTableType||"Timesheet",
"PlannedVsActualTime"===t.pivotTableType&&(t.pivotTableType="TimeTracking"),t.reportDialog=t.reportDialog||"timereports"===t.dialogType,t.contentTemplate=function(){return t.reportDialog?t.templates.menu:t.issueTimeBalance?t.templates.issuetimebalance:t.issueKey&&!o.viewId?t.templates.issuetime:"Timesheet"===t.pivotTableType?t.templates.timesheet:"PieChart"===t.pivotTableType?t.templates.piechart:"Calendar"===t.pivotTableType?t.templates.calendar:t.templates.pivottable},t.isDayView=["TimeEntry","IssueTime"].indexOf(t.pivotTableType)>=0||"day"===o.view,t.dialogCloseFunction=function(e){if(null!=e)if("submit"===e||"IssueTimeBalance"===t.pivotTableType)t.refresh();else if(angular.isObject(e)){var i=function(){delete t.pivotTable.showOnce,ae.queue=t.pivotTable.queue,ae.queueToAdd=t.pivotTable.queueToAdd,ae.matches=t.pivotTable.matches,t.execute()},r=function(n){var r=n.worklog||n.fields.worklog,a=r.worklogs,o=function(e){for(var t in e){var i=e["original_"+t];i&&"number"==typeof i&&(e[t]=i)}};if(e.worklogOld)for(var s=0;s<a.length;s++)if(a[s].id===e.worklogOld.id){if(a.splice(s,1),ae.includeEmpty&&ae.sumSubTasks){var l=t.pivotTable.rows[n.key],u=l.data;for(var d in u)if(u[d].worklog){o(u[d].rowKey._issue.fields),delete u[d].rowKey._issue.nonEmptySubtasks;break}o(l.rowKey._issue.fields),delete l.rowKey._issue.nonEmptySubtasks}break}e.worklog&&Array.prototype.push.apply(a,angular.isArray(e.worklog)?e.worklog:[e.worklog]),i()},a=function(e){for(var t in c.allIssues)if(c.allIssues[t].key===e)return r(c.allIssues[t]),!0;return!1};if(!a(e.issueKey))return delete t.pivotTable.queue[e.issueKey],c.getIssueByKey(t.pivotTable,e.issueKey,ae).promise.then(function(r){var o=function(e){c.processIssue(t.pivotTable,ae,r).then(function(){ae.sumSubTasks?c.checkIfMatches(e||r,ae).then(function(t){t?(c.allIssues.push(e||r),i()):AP.flag.create({title:n["Work logged successfully"],body:n["description.Work logged successfully"],type:"info"})}):i()})};if(ae.sumSubTasks){var s=c.getParentIssue(t.pivotTable,r,ae);s.hasOwnProperty("promise")?c.onParentIssue(t.pivotTable,r,ae,s,[],function(t){if(t){if(e.worklog){var i=angular.copy(r);delete i.worklog,delete i.fields.worklog,angular.isArray(e.worklog)?e.worklog.forEach(function(e){e._issue=i}):e.worklog._issue=i}a(t.key)||o(t)}else o()}):o()}else o()})}},t.isGadget){t.title=o.title;var s=t.title||n[t.pivotTableType];t.issueKey||(AP.jira.setDashboardItemTitle(s),AP.jira.DashboardItem.onDashboardItemEdit(function(){i.showGadgetConfiguration=!0,t.gadgetDialog=!1,t.$apply()}));var y=angular.copy(o);if(angular.isDefined(f)){var T=f.match(/(\s+|^)order\s+by(\s+.+?)(\s+asc|\s+desc)?$/i);T&&(f=f.substring(0,f.length-T[0].length)),y.jql=f}else if(g){var S=parseInt(g);S<0?y.jql=TimesheetUtils.getPredefinedJql(S):y.filterOrProjectId="filter_"+g}t.reportParamsObject=TimesheetUtils.normalizeObject(TimesheetUtils.unwrapBoolObjects(y),!0),""===f&&(t.reportParamsObject.jql=f),t.issueKey&&!t.reportParamsObject.pivotTableType&&(t.reportParamsObject.pivotTableType="TimeEntry"),o.jql=t.reportParamsObject.jql,t.reportParams=$.param(t.reportParamsObject,!0),t.reportDialog&&AP.events.on("dialog.submit",function(){e.parent.location.href=t.hostBaseUrl+"/plugins/servlet/ac/"+t.appKey+"/timereports#!"+t.reportParams})}var D=function(){var e=new Date,i=this.worklog.date;i.setHours(e.getHours()),i.setMinutes(e.getMinutes());var n={issueKey:this.worklog.issueKey,date:i,started:i.toJSON(),timeSpent:this.worklog.timeSpent,comment:this.worklog.comment,user:this.worklog.user,initialWorkLabels:c.workLabels};t.addWorklogDialog(n)},E=function(e){if(TimesheetUtils.getFirstLogWorkStarted(this.worklog.date,this.worklog.timeSpent,t.jiraConfig,ae.configOptions)<t.allowToLogFromDate)return void TimesheetUtils.showPeriodLocked(t.allowToLogFromDate);var i=this,n=angular.copy(i.worklog);i.loading=!0,c.createWorklog(n,ae.configOptions,t.jiraConfig).then(function(n){i.loading=!1,e(),t.dialogCloseFunction({action:"added",issueKey:i.worklog.issueKey,worklog:n})},function(){i.loading=!1})},I=function(e){var i=e.isToday?15*Math.round((TimesheetUtils.getCurrentTimeMs()-60*(t.workingTimeInStatus.from||9)*60*1e3)/1e3/15/60)*60:60*t.jiraConfig.workingHoursPerDay*60,n=Math.max(0,i-t.pivotTable.totals[e.keyValue].sum);return DrawHelper.getFormattedTime(n,t.jiraConfig).replace(",",".")};t.addWorklogPopup={worklog:{estimateType:"auto"},init:function(e,i){var n=this;this.columnKey=e,this.rowKey=i,this.configOptions=t.configOptions,this.loggedInUser=p;var r=e.keyValue;this.worklog.timeSpent=I(e),this.worklog.comment="",this.worklog.date=new Date(r),this.worklog.issueKey=i.issue&&i.issue.key||i._issue&&i._issue.key||"issue"===i.keyName&&i.keyValue,t.user!==p.accountId&&(this.worklog.user=t.paramUserInfo),this.worklog.visibilityGroup=null;var a=this.worklog.user||p;if(t.visibilityGroup)for(var o=t.visibilityGroup.split(","),s=0;s<a.groups.items.length;s++){var l=a.groups.items[s].name;if(o.indexOf(l)>=0){this.worklog.visibilityGroup=l;break}}if(this.worklog.visibilityRole=null,!this.worklog.user){var u=this.worklog.issueKey.split("-")[0];c.isProjectAdmin(u).then(function(e){e&&m.getCurrentMemberProjectRoles(u).then(function(e){if(t.visibilityRole){var i=t.visibilityRole.split(",");for(var r in e)if(i.indexOf(r)>=0){n.worklog.visibilityRole=r;break}}})})}},addWorklog:E,openMoreOptionDialog:D},t.editWorklogPopup={worklog:{estimateType:"auto"},worklogs:[],init:function(e,i,n,r){this.columnKey=e,this.rowKey=i;var a=new Date(e.keyValue);this.worklogs=[],this.colspan=3,this.pivotTableType=t.pivotTableType,this.configOptions=t.configOptions,this.loggedInUser=p,this.canLogWork=t.canLogWork,this.canLogWorkForUser=t.canLogWorkForUser,this.addWorklogDialog=t.addWorklogDialog,"Calendar"===t.pivotTableType?(this.currentDay=moment(i.field.startDate).add(parseInt(e.keyValue),"days"),this.locked=this.currentDay.toDate()<t.allowToLogFromDate):this.currentDay=moment(a),"Calendar"!==t.pivotTableType&&(this.worklog.timeSpent=I(e),this.worklog.comment="",this.worklog.date=a,this.worklog.issueKey=i.issue&&i.issue.key||r&&i._issue&&i._issue.key,this.worklog.locked=a<t.allowToLogFromDate);for(var s=0;s<n.length;s++)if("Calendar"===t.pivotTableType||t.groupByOptions.selected?e.keyValue===n[s].columnKey.keyValue:TimesheetUtils.sameDay(a,new Date(n[s].columnKey.keyValue))){var l=angular.copy(n[s].worklog);moment(l.started).toDate()<t.allowToLogFromDate&&(l.locked=!0),l.ownWorklog=l.author&&l.author.accountId===p.accountId,l._issue||"Calendar"!==t.pivotTableType&&!t.groupByOptions.selected||(l._issue=n[s].rowKey._issue||"issue"===i.keyName&&{key:n[s].rowKey._field,summary:n[s].rowKey.field.fields.summary}),this.worklogs.push(l),i.field?(l._issue?(l._issueInfo=l._issue,this.colspan=4):"issue"!==i.keyName&&(l._issueInfo={key:n[s].rowKey._issue.key,fields:{summary:n[s].rowKey._issue.fields.summary}},this.colspan=4),t.user&&t.user===p.accountId||"workeduser"===o.groupByField||(l._authorInfo=l.author,this.colspan=4)):t.user&&t.user===p.accountId||(l._authorInfo=l.author,this.colspan=4)}},openDeleteWorklogDialog:function(e,i){t.deleteWorklogDialog(e,i?i.key:this.worklog.issueKey)},openEditWorklogDialog:function(e,i){t.updateWorklogDialog(e,i?i.key:this.worklog.issueKey)},openMoreOptionDialog:D,addWorklog:E};var L=function(e,i){return c.saveWorklog(e,ae.configOptions,t.jiraConfig).then(function(n){if(i||e.standaloneDialog)return n;var r=e.id?"updated":"added",a={action:r,worklog:n,issueKey:e.issueKey};return"updated"===r&&(a.worklogOld=e),t.dialogCloseFunction(a)})},x=function(e){return c.deleteWorklog(e).then(function(){return t.dialogCloseFunction({action:"deleted",worklogOld:e,issueKey:e.issueKey})})};AP.events.onPublic("LoggedTime",function(e){t.dialogCloseFunction({action:"added",worklog:e,issueKey:t.issueKey})},function(e){return e.options.productContext["issue.key"]===t.issueKey}),t.logSuggested=function(){var e=a.resolve();t.disableSuggested=!0,t.pivotTable.suggestedEntries.forEach(function(i){e=e.then(function(e){return i.worklog.timeSpent=DrawHelper.prettyDuration(i.worklog.timeSpentSeconds,t.jiraConfig),L(i.worklog)}).catch(t.refresh)}),e.then(function(e){delete t.pivotTable.suggestedEntries,delete t.pivotTable.suggestedNum,delete t.pivotTable.suggestedTotal,delete t.disableSuggested}).catch(t.refresh)},t.addWorklogDialog=function(e,i,n){var a=angular.copy(e);if(e=e||{issueKey:i||t.issueKey,started:new Date,initialWorkLabels:c.workLabels,user:t.canLogWorkForUser?t.paramUserInfo:null},n){var o=TimesheetUtils.sameDay(n.toDate(),new Date)?TimesheetUtils.getCurrentTimeMs():60*(A.workingTimeInStatus.from||9)*60*1e3;e.started=n.add(o,"ms").toDate()}if(e.initialWorkLabels||(e.initialWorkLabels=c.workLabels),t.isGadget)t.openWorklogGadgetDialog("worklog-gadget-dialog-template",e,L,a);else{var s=_.open({backdrop:"static",templateUrl:"worklog-dialog-template",controller:"WorklogDialogController",windowSize:"medium",resolve:{issueKey:function(){return t.issueKey},worklog:function(){return e},pivotTableType:function(){return t.pivotTableType},loggedInUser:function(){return t.paramUserInfo||p},jiraConfig:function(){return t.jiraConfig}}}),l=function e(t){a&&B(a,"removeFromCache"),L(t).then(function(){t.deferred.resolve()}).catch(function(i){t.deferred.reject(i),r(function(){s.result.then(e).catch(function(){})})})};s.result.then(l).catch(function(){})}},t.updateWorklogDialog=function(e,i){var n={issueKey:i,id:e,initialWorkLabels:c.workLabels};t.addWorklogDialog(n)},t.deleteWorklogDialog=function(e,i){var n={issueKey:i,id:e};if(t.isGadget)t.openWorklogGadgetDialog("delete-worklog-gadget-dialog-template",n,x);else{_.open({backdrop:"static",templateUrl:"delete-worklog-dialog-template",controller:"WorklogDialogController",windowSize:"small",resolve:{issueKey:function(){return t.issueKey},worklog:function(){return n},pivotTableType:function(){return t.pivotTableType},loggedInUser:function(){return t.paramUserInfo||p},jiraConfig:function(){return t.jiraConfig}}}).result.then(function(e){x(e).then(function(){e.deferred.resolve()})}).catch(function(){})}},t.openWorklogGadgetDialog=function(e,i,n,r){t.gadgetDialog=!0,t.worklogDialogData={dialogTemplate:e,issueKey:t.issueKey,worklog:i,jiraConfig:t.jiraConfig,pivotTableType:t.pivotTableType,dismiss:function(){t.gadgetDialog=!1},close:function(e){r&&B(r,"removeFromCache"),n(e).then(function(i){t.gadgetDialog=!1,e.deferred.resolve(i)}).catch(function(t){e.deferred.reject(t)})}}},t.openUserPreferencesDialog=function(){var e={};_.open({backdrop:"static",templateUrl:t.templates.userPreferences,controller:"UserPreferencesController",windowSize:"large",resolve:{loggedInUser:function(){return p},translations:function(){return n},changed:function(){return e}}}).result.then(function(){e.changed&&t.refresh()}).catch(function(){e.changed&&t.refresh()})},t.openHourlyRatesDialog=function(){var e={},i=_.open({backdrop:"static",templateUrl:t.templates.hourlyRates,controller:"HourlyRatesController",windowSize:"medium",resolve:{loggedInUser:function(){return p},translations:function(){return n},currencySymbol:function(){return A.currencySymbol},changed:function(){return e},config:function(){return A}}});i.result.then(function(){e.changed?t.refresh():i.dismiss()}).catch(function(){e.changed&&t.refresh()})};var U=function(){try{var e=window.localStorage.getItem(te);return e?TimesheetUtils.getJson(LZString.decompressFromUTF16(e)):[]}catch(e){return console.log(e),[]}},R=function(e){var t=U(),i="string"==typeof e.started?e.started:e.started.toJSON();return t.some(function(e){return e.started===i&&e.stopped})},B=function(e,t){if(e.started){var i=angular.copy(e),n=U();try{var r="string"==typeof i.started?i.started:i.started.toJSON();n=n.filter(function(e){return e.started!==r}),t||n.push(i),n=JSON.stringify(n),window.localStorage.setItem(te,LZString.compressToUTF16(n))}catch(e){console.log("timeentry cache error",e)}}},Y=function(e){var t,i=U(),n="string"==typeof e.started?e.started:e.started.toJSON();if(i.forEach(function(e){e.started===n||e.stopped||(e.stopped=new Date,e.last&&(e.timeSpentSeconds+=moment().unix()-e.last),t=!0)}),t){i=JSON.stringify(i);try{window.localStorage.setItem(te,LZString.compressToUTF16(i))}catch(e){console.log("timeentry cache error",e)}}},N=function(){i.workTimer&&(d.cancel(i.workTimer),delete i.workTimer)},W=function(e,n){var r=function(i){t.workEntry?(e.timeSpentSeconds+=i,e.last=moment().unix(),t.workEntry.values["2timespent"]=e.timeSpentSeconds,B(e)):N()};r(n&&e.last?moment().unix()-e.last:0),Y(e),i.workTimer=d(function(){R(e)?(delete t.workEntry,N()):r(M)},1e3*M)};N(),t.createEntry=function(e,i){var n=new PivotKey.Issue(e,i,ae.configOptions),r=new PivotKey.Generic("TimeEntry","1started","time"),a=new PivotKey.Generic("TimeEntry","2timespent"),o=new PivotKey.Generic("TimeEntry","3action");o.showStart=!0;var s=new PivotEntry(n,r,i.started);return i.workDate=moment(i.started).toDate(),i.date=i.workDate,s.worklog=i,s.addColumn(a,0),"TimeEntry"===t.pivotTableType&&s.addColumn(o,s),s.color="gray",t.pivotTable.addEntry(s),t.rowKeySize=TimesheetUtils.colspan(t.pivotTable),t.pivotTable._sortedColumns=null,s.values[a.keyValue]=i.timeSpentSeconds?i.timeSpentSeconds:1,s},t.removeCachedWorklog=function(){B(this.worklog,"removeFromCache"),delete t.workEntry,N(),t.execute()},t.startWork=function(e,i,n){N();var r=!i&&(!t.workEntry||e);t.workEntry&&(t.workEntry.worklog.stopped=new Date,B(t.workEntry.worklog),delete t.workEntry);var a;if(t.pivotTable.rows[this.worklog.issueKey]&&!this.worklog.started)a=angular.copy(t.pivotTable.rows[this.worklog.issueKey].columns["3action"].worklog),delete a.stopped;else if(e)a=angular.copy(this.worklog);else{a=this.worklog;var o=!0}r&&!o?(a.started=new Date,a.timeSpentSeconds=0,c.havePermissions(["WORK_ON_ISSUES","EDIT_OWN_WORKLOGS","DELETE_OWN_WORKLOGS"],"issuekey="+a.issueKey).then(function(e){return function(i){if(!i[0])return delete e.issueKey,void(t.errors.indexOf("error.cannotLogWorkIssue")<0&&t.errors.push("error.cannotLogWorkIssue"));t.errors.splice(0,t.errors.length),i[1]||(t.cannotEditOwnWorklogIssue[e.issueKey]=!0),i[2]||(t.cannotDeleteOwnWorklogIssue[e.issueKey]=!0),c.findIssueByKey(e.issueKey,ae).then(function(i){t.workEntry=t.createEntry(i,e),B(e),W(e)})}}(a))):r&&o?(delete a.stopped,t.workEntry=this.entry,B(a),W(a)):i?(a.timeSpent=DrawHelper.prettyDuration(a.timeSpentSeconds,t.jiraConfig),n?(t.disableSuggested=!0,L(a).then(function(e){delete t.disableSuggested})):t.addWorklogDialog(a)):B(a)},t.editWorklog=function(e){t.updateWorklogDialog(e.id,e.issueKey)},t.deleteWorklog=function(e){t.deleteWorklogDialog(e.id,e.issueKey)};var j=t.isMonthView="month"===o.view||"Calendar"===t.pivotTableType;t.sum="PieChart"!==t.pivotTableType?o.sum||(t.isMonthView?"week":"day"):"day",t.compressed=!(["TimeEntry","IssueTimeBalance"].indexOf(t.pivotTableType)>=0)&&(!1===o.showDetails||"false"===o.showDetails);var V=parseInt(o.numOfWeeks)||(["TimeTracking","IssueTimeBalance"].indexOf(t.pivotTableType)>=0||["Timespent","CostReport"].indexOf(t.pivotTableType)>=0&&void 0!==o.numOfWeeks?null:1);t.numOfWeeks={value:V};var z=t.offset=parseInt(o.offset)||0,H=null!=o.reportingDay?parseInt(o.reportingDay):t.reportingDayConfig||moment.localeData().firstDayOfWeek();-1===H&&("Calendar"===t.pivotTableType?H=(moment().day()+1)%7:"day"!==t.sum&&(H=moment.localeData().firstDayOfWeek())),t.reportingDay=H;var G=TimesheetUtils.getLastMondayDate(H);G=TimesheetUtils.addWeeks(G,1-V+z);var K=TimesheetUtils.getFirstDayOfTheMonth();if(K=TimesheetUtils.addMonths(K,1-V+z),t.startDate={},o.startDate?t.startDate.value=moment(o.startDate).toDate():void 0===o.startDate&&(t.startDate.calculated=!0,V&&(t.startDate.value=t.isDayView?moment().startOf("day").toDate():j?K:G)),t.endDate={},t.isDayView)t.endDate.value=t.startDate.value;else if(o.endDate){var J=moment(o.endDate);J.isAfter(moment().add(2,"month"))&&(J=moment().add(2,"month")),t.endDate.value=J.toDate()}else if(void 0===o.endDate&&(t.endDate.calculated=!0,V)){var q=t.startDate.value||G;t.endDate.value=j?TimesheetUtils.getLastDayOfTheMonth(TimesheetUtils.addMonths(q,V-1)):TimesheetUtils.addDays(q,7*(V-1)+6)}"TimeTracking"!==t.pivotTableType?(t.showWeekends={enabled:!(!1===o.showWeekends||"false"===o.showWeekends)},t.isStartDateToday=TimesheetUtils.sameDay(t.startDate.value,new Date),"Timesheet"===t.pivotTableType&&!o.sum&&moment(t.endDate.value).isAfter(moment(t.startDate.value).add(2,"month"))&&"day"===t.sum&&(t.sum="week")):(t.showWeekends={},delete t.hideDetails),t.projectKey=o._allProjects||t.issueKey?null:h||t.projectKey,t.sumSubTasks={enabled:"Calendar"!==t.pivotTableType&&(!0===o.sumSubTasks||"true"===o.sumSubTasks)},angular.isDefined(o.jql)?t.filterOrProjectId=null:t.filterOrProjectId=!angular.isDefined(f)&&g?"filter_"+g:o.filterOrProjectId&&!o.filterOrProjectId.length?null:o.filterOrProjectId||(t.projectKey&&!o._allProjects?"project_"+t.projectKey:void 0),t.moreFields=o.moreFields,["Timesheet","TimeEntry","Timespent","CostReport","IssueWorkedTimeByUser"].indexOf(t.pivotTableType)>=0&&(t.filterOrProjectId||o.jql)?t.includeEmpty={enabled:!0===o.includeEmpty||"true"===o.includeEmpty,jql:o.jql}:t.includeEmpty={enabled:!1},t.instantView=o.instantView,t.hideMenu=o.hideMenu,t.canLogWork=t.canEditOwnWorklog=t.canDeleteOwnWorklog=t.canEditAllWorklog=t.canDeleteAllWorklog=!1,delete t.hideTotalColumn,delete t.hideDetails,delete t.hidePrevNext,delete t.user;var Z=["TimeEntry","IssueTime","IssueTimeBalance","Calendar","Timesheet"].indexOf(t.pivotTableType)>=0&&!A.tempoToken.val;if("TimeBalance"===t.pivotTableType)t.hideTotalColumn=!0;else if("TimeTracking"===t.pivotTableType)t.hideTotalColumn=!0,t.hideDetails=!t.sumSubTasks.enabled&&(null==o.groupByField||"workeduser"===o.groupByField),t.hideDetails&&(t.compressed=!0),t.hidePrevNext=void 0===o.startDate&&void 0===o.endDate&&!o.numOfWeeks;else{if(t.allUsers={enabled:o.allUsers},"IssueWorkedTimeByUser"===t.pivotTableType||"IssueWorkedTimeByStatus"===t.pivotTableType||"PieChart"===t.pivotTableType?t.hidePrevNext=null===o.startDate&&null===o.endDate:t.hidePrevNext=!1,["Timesheet","Timespent","CostReport","PieChart","TimeEntry","IssueTime","IssueTimeBalance","Calendar"].indexOf(t.pivotTableType)>=0){if(t.user=o.allUsers||o.group&&o.group.length||"IssueTimeBalance"===t.pivotTableType?null:o.user?decodeURIComponent(o.user):p.accountId,Z)var Q=c.havePermissions(["WORK_ON_ISSUES","EDIT_OWN_WORKLOGS","DELETE_OWN_WORKLOGS","EDIT_ALL_WORKLOGS","DELETE_ALL_WORKLOGS"]).then(function(e){t.editWorklogPopup.canLogWork=t.canLogWork=t.user===p.accountId&&!A.disableLogWork.val&&e[0],t.editWorklogPopup.cannotLogWorkIssue=t.cannotLogWorkIssue={},t.editWorklogPopup.canEditOwnWorklog=t.canEditOwnWorklog=!A.disableLogWork.val&&e[1],t.editWorklogPopup.cannotEditOwnWorklogIssue=t.cannotEditOwnWorklogIssue={},t.editWorklogPopup.canDeleteOwnWorklog=t.canDeleteOwnWorklog=!A.disableLogWork.val&&e[2],t.editWorklogPopup.cannotDeleteOwnWorklogIssue=t.cannotDeleteOwnWorklogIssue={},t.editWorklogPopup.canEditAllWorklog=t.canEditAllWorklog=!A.disableLogWork.val&&e[3],t.editWorklogPopup.cannotEditAllWorklogIssue=t.cannotEditAllWorklogIssue={},t.editWorklogPopup.canDeleteAllWorklog=t.canDeleteAllWorklog=!A.disableLogWork.val&&e[4],t.editWorklogPopup.cannotDeleteAllWorklogIssue=t.cannotDeleteAllWorklogIssue={},o.logWork&&t.canLogWork&&t.addWorklogDialog(),delete o.logWork});"TimeEntry"===t.pivotTableType&&(t.hideTotalColumn=!0,delete t.group,t.user=p.accountId),["Timespent","CostReport"].indexOf(t.pivotTableType)>=0&&(t.hideTotalColumn=!0)}"PieChart"===t.pivotTableType&&(t.hideDetails=!0)}var X="CostReport"===t.pivotTableType?m.getHourlyRates():null;["TimeTracking","TimeBalance","IssueWorkedTimeByStatus","IssuePassedTimeByStatus","IssuePassedTimeByResolution"].indexOf(t.pivotTableType)>=0?(t.user=o.user&&!o.group?decodeURIComponent(o.user):void 0,t.user||(t.paramUserInfo=null),t.group=o.group):o.allUsers||"TimeEntry"===t.pivotTableType||(t.group=o.group),"TimeEntry"!==t.pivotTableType&&(t.excludeGroup=o.excludeGroup),t.errors=b.validate(t);var ee=t.hostBaseUrl?t.hostBaseUrl.match(/https?:\/\/(.+?)[\.|:]/)[1]:"",te="timeentry"+ee+t.user;t.changeWeek=function(e){var i=t.isMonthView&&!t.isDayView;if(o.startDate||t.isDayView){var n=TimesheetUtils.changeDate(t.startDate.value,e,"Timesheet"!==t.pivotTableType,i,t.reportingDay);null!=n&&(o.startDate=n)}else o.offset=t.offset+(t.isMonthView?e:e/7);if(o.endDate){var r=TimesheetUtils.changeDate(t.endDate.value,e,!0,i,t.reportingDay);null!=r&&(o.endDate=r)}t.loading||(o.loaded=t.loaded),C(o)};var ie=function(e,i){return!moment().isBetween(TimesheetUtils.addWeeks(t.startDate.value,t.numOfWeeks.value-1),TimesheetUtils.addDays(t.endDate.value,1))&&e.getTime()>i.getTime()};t.showPrevToday=t.startDate.value&&t.endDate.value&&t.isDayView?TimesheetUtils.isAfterDate(t.startDate.value,new Date):ie(TimesheetUtils.addWeeks(t.startDate.value,t.numOfWeeks.value-1),new Date),t.showNextToday=t.startDate.value&&t.endDate.value&&t.isDayView?TimesheetUtils.isAfterDate(new Date,TimesheetUtils.addDays(t.endDate.value,1)):ie(new Date,TimesheetUtils.addDays(t.endDate.value,1)),t.moveToday=function(){delete o.startDate,delete o.endDate,delete o.offset,t.loading||(o.loaded=t.loaded),C(o)},t.toggleMonthView=function(){t.isMonthView?(o.view="day",o.sum="day"):t.isDayView?(o.view="week",o.sum="day"):(o.view="month",o.sum="week"),t.loading||(o.loaded=t.loaded),C(o)},t.toggleShowDetails=function(){t.compressed?o.showDetails=!0:o.showDetails=!1,C(o,!0),t.compressed=!t.compressed},t.groupByChanged=function(){t.groupByOptions.selected?o.groupByField=t.groupByOptions.selected:delete o.groupByField,C(o)},t.categorizeByChanged=function(){t.categorizeByOptions.selected?o.categorizeByField=t.categorizeByOptions.selected:delete o.categorizeByField,C(o)},t.moreFieldsChanged=function(e){null!=e&&""!==e?o.moreFields=e.split(","):delete o.moreFields,C(o)},t.orderByChanged=function(){t.orderByOptions.selected?o.orderByField=t.orderByOptions.selected:delete o.orderByField,C(o)},t.filterByChanged=function(e){e?(o.filterOrProjectId=e.split(","),delete o._allProjects,delete o.jql):(delete o.filterOrProjectId,o._allProjects=!0),C(o)},t.timeTrackingColumnsChanged=function(e){e?o.timeTrackingColumns=e.split(","):delete o.timeTrackingColumns,C(o)},t.timeBalanceColumnsChanged=function(e){e?o.timeBalanceColumns=e.split(","):delete o.timeBalanceColumns,C(o)},t.timeInStatusCategoriesChanged=function(e){e?o.timeInStatusCategories=e.split(","):delete o.timeInStatusCategories,C(o)},t.childrenFilterChanged=function(){null==t.childrenFilterOptions.selected?delete o.childrenFilterId:o.childrenFilterId=t.childrenFilterOptions.selected,C(o)},t.groupChange=function(e){e?(o.group=e.split(","),delete o.allUsers):delete o.group,C(o)},t.excludeGroupChange=function(e){e?o.excludeGroup=e.split(","):delete o.excludeGroup,C(o)},t.numOfWeeksChange=function(e){e?o.numOfWeeks=e:["Timespent","CostReport"].indexOf(t.pivotTableType)>=0?o.numOfWeeks=0:delete o.numOfWeeks,C(o)},t.startChangeDate=function(e){ne("startDate",e)},t.endChangeDate=function(e){ne("endDate",e)};var ne=function(e,t){null!=t&&""!==t?o[e]=t:delete o[e],C(o)};t.reportingDayChanged=function(){null==t.reportingDayOptions.selected?delete o.reportingDay:o.reportingDay=t.reportingDayOptions.selected,t.loading||(o.loaded=t.loaded),C(o)},t.toggleShowWeekends=function(){!1===o.showWeekends||"false"===o.showWeekends?delete o.showWeekends:o.showWeekends=!1,t.loading||(o.loaded=t.loaded),C(o)},t.userChange=function(e){e?(o.user=encodeURIComponent(e),delete o.allUsers):(delete o.user,o.group&&o.group.length||(o.allUsers=!0)),C(o)},t.allUsersChange=function(e){e?o.allUsers=!0:delete o.allUsers,C(o)},t.sumSubTasksChange=function(e){e?o.sumSubTasks=!0:delete o.sumSubTasks,C(o)},t.includeEmptyChange=function(e){e?o.includeEmpty=!0:delete o.includeEmpty,C(o)},t.instantViewChange=function(e){e?o.instantView=!0:delete o.instantView,o.loaded=!e,C(o)},t.setStartAt=function(e){e?o.startAt=e:delete o.startAt,t.loading||(o.loaded=t.loaded),C(o)},t.toggleHideMenu=function(){t.hideMenu=!t.hideMenu,t.hideMenu?o.hideMenu=t.hideMenu:delete o.hideMenu,C(o,!0)},t.refresh=function(){c.resetState(),m.resetState(),w.resetState(),t.loading||(o.loaded=t.loaded),o.viewId&&!t.showSaveButton&&(o={viewId:o.viewId}),o._=Date.now(),l.search(o)},t.removeMenuOption=function(e,i){var n=o[e];if(angular.isArray(n)&&n.length>1){if("filterOrProjectId"===e){var r=t.filterByOptions.findOption(i,"isLabel");null!=r&&(i=r.id)}else if("moreFields"===e){var r=t.moreFieldsOptions.findOption(i,"isLabel");null!=r&&(i=r.id)}n.splice(n.indexOf(i),1)}else"user"!==e||t.user!==p.accountId||o.group&&o.group.length||!(["Timesheet","Timespent","CostReport","PieChart"].indexOf(t.pivotTableType)>=0)?"filterOrProjectId"===e&&(o._allProjects=!0):o.allUsers=!0,delete o[e];["filterOrProjectId","moreFields","group"].indexOf(e)>=0&&t.$broadcast(e+"Updated",o[e]),C(o)},t.getSelectedOptionLabels=function(){var e=[];if(t.issueKey&&t.issueTimeOptions&&"view_-1"===t.issueTimeOptions.selected)return e;for(var i=Object.keys(o),r=function(i,r,a){var o="param."+i;if("filterOrProjectId"===i){var s=t.filterByOptions.findOption(r);null!=s&&(r=s.label,0===s.id.indexOf("project_")&&(o+=".project"),0!==s.id.indexOf("filter_")&&0!==s.id.indexOf("jql_")||(o+=".filter"))}else if("childrenFilterId"===i){var s=t.childrenFilterOptions.findOption(r);null!=s&&(r=s.label)}else if("groupByField"===i){var s=t.groupByOptions.findOption(r);null!=s&&(r=s.label)}else if("categorizeByField"===i){var s=t.categorizeByOptions.findOption(r);null!=s&&(r=s.label)}else if("moreFields"===i){var s=t.moreFieldsOptions.findOption(r);null!=s&&(r=s.label)}else if("orderByField"===i){var s=t.orderByOptions.findOption(r);null!=s&&(r=s.label)}else"user"===i?r=t.paramUserInfo.displayName:"startDate"===i||"endDate"===i?r=moment(r).format("YYYY-MM-DD"):"reportingDay"===i?r=-1===r?n.Today:moment.localeData().weekdays(moment().day(parseInt(r))):"jql"===i&&(r=decodeURIComponent(TimesheetUtils.replaceAll(r,"+"," ")));e.push({css:a,label:o,labelParam:r,key:i})},a=0;a<i.length;a++){var s=i[a];if(!(["user","allUsers","startDate","endDate","groupByField","categorizeByField","moreFields","orderByField","filterOrProjectId","childrenFilterId","group","excludeGroup","reportingDay","jql","numOfWeeks"].indexOf(s)<0)&&(("childrenFilterId"!==s||t.showChildrenFilter)&&("endDate"!==s||"TimeEntry"!==t.pivotTableType)&&!("allUsers"===s&&["Timesheet","Timespent","CostReport","PieChart","Calendar"].indexOf(t.pivotTableType)<0)&&("user"!==s||t.paramUserInfo)&&("moreFields"!==s||"PieChart"!==t.pivotTableType)&&("orderByField"!==s||!o.groupByField)&&("reportingDay"!==s||"Timesheet"===t.pivotTableType)&&!(["TimeTracking","IssuePassedTimeByStatus"].indexOf(t.pivotTableType)>=0&&"groupByField"===s&&["workeduser","workeddate","workcreated"].indexOf(o[s])>=0)&&!(["Timespent","CostReport","IssueWorkedTimeByUser","IssueWorkedTimeByStatus"].indexOf(ae.pivotTableType)<0&&"groupByField"===s&&["workedweek"].indexOf(o[s])>=0)&&!((o.group||o.allUsers)&&"user"===s||o.allUsers&&"group"===s)&&(null!=o[s]||"numOfWeeks"===s)&&(!(["group","groupByField","categorizeByField","allUsers"].indexOf(s)>=0)||o[s])&&!("TimeEntry"===t.pivotTableType&&["group","allUsers","groupByField"].indexOf(s)>=0||"Calendar"===t.pivotTableType&&["groupByField"].indexOf(s)>=0||"user"===s&&"IssueWorkedTimeByUser"===t.pivotTableType||"numOfWeeks"===s&&t.numOfWeeks.value))){var l=o[s];if(angular.isArray(l))for(var u=0;u<l.length;u++)r(s,l[u]);else l?r(s,l):"jql"===s?r(s,l):"numOfWeeks"===s&&!t.startDate.value&&!t.endDate.value&&["Timespent","CostReport"].indexOf(t.pivotTableType)>=0&&r(s,l)}}return o.user||o.allUsers||o.group&&o.group.length||!(["Timesheet","Timespent","CostReport","PieChart"].indexOf(t.pivotTableType)>=0)||r("user",p.accountId),o.filterOrProjectId||!t.projectKey||o._allProjects||r("filterOrProjectId","project_"+t.projectKey),void 0===o.startDate&&t.numOfWeeks.value?r("startDate",t.startDate.value,"inactive"):null===o.startDate&&r("startDate",moment("1970-01-01")),"TimeEntry"!==t.pivotTableType&&(void 0===o.endDate&&t.numOfWeeks.value?r("endDate",t.endDate.value,"inactive"):null===o.endDate&&r("endDate",moment("2099-12-31"))),e};t.licenseStatus=function(){var e="";return"expired"===t.license?e='<span class="red">LICENSE EXPIRED</span>':"none"===t.license?e='<span class="red">NO LICENSE</span>':"active"!==t.license&&(e='<span class="red">LICENSE ERROR</span>'),{isActive:"active"===t.license,message:u.trustAsHtml(e)}}();var re=["Timesheet","Timespent","CostReport","PieChart","TimeEntry","IssueTime","Calendar"].indexOf(t.pivotTableType)>=0||t.user,ae={pivotTableType:t.pivotTableType,timeTrackingColumns:t.timeTrackingColumns||m.getDefaultTimeTrackingColumns(),timeBalanceColumns:t.timeBalanceColumns||m.getDefaultTimeBalanceColumns(),timeInStatusCategories:t.timeInStatusCategories,groupByField:o.groupByField,categorizeByField:o.groupByField&&o.categorizeByField,moreFields:TimesheetUtils.wrapIntoArray(o.moreFields),orderByField:o.orderByField,monthView:t.isMonthView,startDate:t.startDate.value,endDate:t.endDate.value,filterOrProjectId:t.filterOrProjectId,groups:!t.group||angular.isArray(t.group)?t.group:[t.group],excludeGroups:!t.excludeGroup||angular.isArray(t.excludeGroup)?t.excludeGroup:[t.excludeGroup],sumSubTasks:t.sumSubTasks.enabled,sum:t.sum,reportingDay:t.reportingDay,showWeekends:t.showWeekends.enabled,jql:o.jql,issueKey:t.issueKey,issueId:t.issueId,dashboardId:t.dashboardId,dashboardItemId:t.dashboardItemId,includeEmpty:t.includeEmpty.enabled&&(t.filterOrProjectId||o.jql),loggedInUser:p,_fields:t._fields,queue:t.queue,jqlQuery:t.jqlQuery};re&&(ae.user=t.user),t.excelView=function(e){var i=function(i){var r={hostBaseUrl:t.hostBaseUrl,pivotTableType:t.pivotTableType,timeTrackingColumns:t.timeTrackingColumns||m.getDefaultTimeTrackingColumns(),timeBalanceColumns:t.timeBalanceColumns||m.getDefaultTimeBalanceColumns(),timeInStatusCategories:t.timeInStatusCategories,moreFields:TimesheetUtils.moreFieldsForExport(o,ae.configOptions.exportColumns,t.allFields),_categorizeByField:o.groupByField&&o.categorizeByField,categorizeByFieldObject:ae.categorizeByFieldObject,categorizeByFieldOption:t.categorizeByOptions.findOption(o.categorizeByField),_groupByField:o.groupByField,groupByFieldObject:ae.groupByFieldObject,groupByFieldOption:t.groupByOptions.findOption(o.groupByField),orderByField:o.orderByField,monthView:t.isMonthView,startDate:t.startDate.value,endDate:t.endDate.value,worklogAuthors:ae.groups&&ae.groups.length>0?c.worklogAuthors:null,sumSubTasks:t.sumSubTasks.enabled,configOptions:ae.configOptions,includeEmpty:t.includeEmpty.enabled&&(t.filterOrProjectId||o.jql),restrictedProjects:ae.restrictedProjects,restrictedGroups:ae.restrictedGroups,loggedInUser:p,jiraConfig:t.jiraConfig,workingTimeInStatus:t.workingTimeInStatus,moreFieldsOptions:t.moreFieldsOptions,compressed:t.compressed,translations:n,showDetailsCount:t.showDetailsCount,userInfos:ae.userInfos};switch(e){case"html":r.fileName="exportView.xls",r.excelViewClass=HtmlView;break;case"csv":r.excelViewClass=CsvView;break;default:r.excelViewClass=ExcelView}re&&(r.user=t.user),r.pivotTable=i,TimesheetUtils.sortByProperty(c.allIssues,"key",!1,PivotKey.Issue.comparator),new r.excelViewClass(c.allIssues).download(r)};t.loaded?i(t.pivotTable):(t.loading++,c.getPivotTable(p,ae).then(function(e){t.loading--,i(e)}))},t.isAdmin=p.isAdministrator,t.loading&&t.loaded&&c.cancel(),t.loading++,delete t.pivotTable;var oe=a.when(t.user?t.user===p.accountId?p:c.getUserInfo(t.user):null).then(function(e){return t.paramUserInfo=e,e}),se=c.getFields();se.then(function(){var e=TimesheetUtils.wrapIntoArray(o.moreFields||[]);(["TimeTracking","TimeBalance"].indexOf(t.pivotTableType)>=0||TimesheetUtils.findOne(e,c.allNumericFields)||c.isTimeTrackingColumnsInMoreFields(e))&&t.sumSubTasks.enabled?(t.showChildrenFilter=!0,t.childrenFilterId=o.childrenFilterId,
ae.childrenFilterId=t.childrenFilterId):(t.showChildrenFilter=!1,delete t.childrenFilterId)});var le=c.restrictedByAuditorsGroups(p);le.then(function(e){if(A.accountantsGroups.val)for(var i=0;i<p.groups.items.length&&!t.userIsAccountant;i++)t.userIsAccountant=A.accountantsGroups.val.indexOf(p.groups.items[i].name)>=0;else t.userIsAccountant=null!=A.auditorsGroups.val&&!e;t.userIsAccountant?(t.viewOptions&&t.viewOptions.addOption(n.CostReport,"pivotTableType_CostReport"),t.pivotTableTypeOptions.addOption(n.CostReport,"CostReport")):"CostReport"===t.pivotTableType&&(t.pivotTableType="Timespent",ae.pivotTableType="Timespent",t.viewOptions&&(t.viewOptions.selected="pivotTableType_Timespent"))}),t.loaded=t.isGadget||t.instantView||o.loaded||["TimeEntry","IssueTime"].indexOf(t.pivotTableType)>=0||t.user===p.accountId&&!o.startDate&&!o.endDate&&1===V;var ue=["TimeTracking","TimeBalance","IssueTimeBalance"].indexOf(t.pivotTableType)<0&&(o.allUsers||ae.groups||!t.user||t.user!==p.accountId);ue=ae.restrictable=ue||["IssueWorkedTimeByUser","TimeBalance"].indexOf(t.pivotTableType)>=0,(ue?le:a.resolve(!1)).then(function(e){if(ue&&e)t.loading--,t.restrictionError={msgKey:"error.restriction.auditorsGroups"};else if(ue&&!t.licenseStatus.isActive)t.loading--,t.restrictionError={msgKey:"error.restriction.licenseError"};else{delete t.restrictionError,t.execute=function(){"PieChart"===t.pivotTableType&&(t.pivotTable={}),t.loading++,t.loaded=!0,t.$loading=a.all([c.getPivotTable(p,ae),Q]).then(function(e){var i=e[0];if(t.restrictedProjects=ae.restrictedProjects&&ae.restrictedProjects.join(","),t.restrictedGroups=ae.restrictedGroups&&(ae.restrictedGroups.join(",")||"NONE"),t.queue=i.queue,t.jqlQuery=ae.jqlQuery,t._fields=ae._fields,t.loading--,["TimeEntry","IssueTime"].indexOf(t.pivotTableType)>=0&&t.isStartDateToday&&t.canLogWork){var n=U();angular.forEach(n,function(e){t.issueKey&&t.issueKey!==e.issueKey||c.findIssueByKey(e.issueKey,ae).then(function(i){var n=t.createEntry(i,e);!n.worklog.stopped&&n.worklog.started&&(t.workEntry=n,W(n.worklog,"resume"))})})}i.sortedColumns();var r=i.sortedRows();t.pivotTable=i,t.rowKeySize=TimesheetUtils.colspan(i);var a=r.length,s=o.startAt||0;t.issuesCount={total:a,startAt:s<a?s:0,maxResults:50},t.pages=[],t.issuesCount.end=Math.min(t.issuesCount.startAt+t.issuesCount.maxResults,t.issuesCount.total);for(var l=Math.ceil(t.issuesCount.total/t.issuesCount.maxResults),u=0;u<l;u++)t.pages.push(u);var d=function(e,i){i?(t.editWorklogPopup.cannotLogWorkIssue[e]=!0,t.cannotLogWorkIssue[e]=!0,t.editWorklogPopup.cannotEditOwnWorklogIssue[e]=!0,t.cannotEditOwnWorklogIssue[e]=!0,t.editWorklogPopup.cannotDeleteOwnWorklogIssue[e]=!0,t.cannotDeleteOwnWorklogIssue[e]=!0,t.editWorklogPopup.cannotEditAllWorklogIssue[e]=!0,t.cannotEditAllWorklogIssue[e]=!0,t.editWorklogPopup.cannotDeleteAllWorklogIssue[e]=!0,t.cannotDeleteAllWorklogIssue[e]=!0):c.havePermissions(["WORK_ON_ISSUES","EDIT_OWN_WORKLOGS","DELETE_OWN_WORKLOGS","EDIT_ALL_WORKLOGS","DELETE_ALL_WORKLOGS"],"issuekey="+e).then(function(i){i[0]||(t.editWorklogPopup.cannotLogWorkIssue[e]=!0,t.cannotLogWorkIssue[e]=!0),i[1]||(t.editWorklogPopup.cannotEditOwnWorklogIssue[e]=!0,t.cannotEditOwnWorklogIssue[e]=!0),i[2]||(t.editWorklogPopup.cannotDeleteOwnWorklogIssue[e]=!0,t.cannotDeleteOwnWorklogIssue[e]=!0),i[3]||(t.editWorklogPopup.cannotEditAllWorklogIssue[e]=!0,t.cannotEditAllWorklogIssue[e]=!0),i[4]||(t.editWorklogPopup.cannotDeleteAllWorklogIssue[e]=!0,t.cannotDeleteAllWorklogIssue[e]=!0)})},m=t.canLogWork||t.canEditOwnWorklog||t.canDeleteOwnWorklog||t.canEditAllWorklog||t.canDeleteAllWorklog;if(m||Z)for(var u=t.issuesCount.startAt;u<Math.min(t.issuesCount.startAt+50,a);u++)"Calendar"===t.pivotTableType?r[u].data.forEach(function(e){d(e.rowKey._issue.key,!m&&Z)}):d(r[u].rowKey.keyValue,!m&&Z);if(c.workLabels){var p=Object.keys(c.workLabels);t.workLabelsList=t.workLabelsList?TimesheetUtils.uniqueArray(t.workLabelsList.concat(p)):p}t.epicLinkField=c.epicLinkField,t.$broadcast("loadingReset"),c.expireWorklogCache()},function(){--t.loading||(t.$broadcast("loadingReset"),t.loaded=!1)},function(e){t.$broadcast("loadingProgress",e)}),"TimeEntry"===t.pivotTableType&&!ae.configOptions.inProgressIssuesJql&&ae.startDate>=t.allowToLogFromDate&&a.all([c.getUpdatedIssues(ae),t.$loading]).then(function(e){var i=new Date(ae.startDate),r=TimesheetUtils.addDays(ae.endDate,1),a=t.pivotTable.totals["2timespent"]?t.pivotTable.totals["2timespent"].sum:0,o=new Date(i.getTime()+1e3*(60*(ae.configOptions.workingTimeInStatus.from||9)*60+a)),s=e[0].reduce(function(e,t){return e.concat(t)}).filter(Boolean),l=void 0,u=60*t.jiraConfig.workingHoursPerDay*60;(u-=a)<=0||!t.canLogWork||(t.pivotTable.suggestedEntries=[],t.pivotTable.suggestedNum=0,t.pivotTable.suggestedTotal=0,angular.forEach(s,function(e){var s=e.changelog?e.changelog:{},d=e.worklog||e.fields.worklog,c=s.histories?s.histories:[];c.unshift({created:e.fields.created,author:e.fields.creator,items:[{fieldtype:"created"}]});var m=function(e){return e.created=moment(e.created).toDate(),e.author&&e.author.accountId===p.accountId&&e.created>=i&&e.created<r};c=c.filter(m);var h=e.fields.comment?e.fields.comment.comments:[],f=h.filter(m);if(c.length+f.length){for(var g=void 0,y=0;y<c.length;y++)for(var v=c[y].items,_=0;_<v.length;_++)if("jira"===v[_].fieldtype&&"WorklogId"===v[_].field){var w=TimesheetUtils.findByProperty("id",v[_].toString,d.worklogs);if(w&&new Date(w.started)>=i&&new Date(w.started)<r)return}else"created"===v[_].fieldtype?g=n.created:"jira"===v[_].fieldtype&&"status"===v[_].field&&(g=v[_].toString);var T=f.length>0?f[0].created.getTime():c.length>0?c[0].created.getTime():new Date.getTime;a=Math.max(0,(T-o.getTime())/1e3),a=600*Math.round(a/600),a=u>a?a:u,u-=a;var b=f.map(function(e){return e.body}).join("\n")||g,k={issueKey:e.key,started:new Date(T-a),transient:!0,timeSpentSeconds:a,comment:b};l=t.createEntry(e,k),o=new Date(o.getTime()+1e3*a),t.pivotTable.suggestedEntries.push(l),t.pivotTable.suggestedNum++,t.pivotTable.suggestedTotal+=a}}),u>0&&l&&(l.worklog.timeSpentSeconds+=u,l.values["2timespent"]+=u,t.pivotTable.suggestedTotal+=u))})};var i=["IssueWorkedTimeByStatus","IssuePassedTimeByStatus"].indexOf(t.pivotTableType)>=0?m.getAllStatuses():0,r="IssuePassedTimeByStatus"===t.pivotTableType||t.isGadget?m.getAllStatusCategories():[];a.all([oe,se,ge,i,r,X,t.$loading]).then(function(e){var i=e[0],r=e[1],a=e[3],s=e[4];ae.hourlyRates=e[5],re&&(ae.username=i?i.accountId:t.user),ae.configOptions={},ae.configOptions.statuses=a,null!=A.compositionIssueLink.val&&(ae.configOptions.compositionIssueLink=A.compositionIssueLink.val),null!=A.parentIssueField.val&&(ae.configOptions.parentIssueField=A.parentIssueField.val),null!=A.parentIssueType.val&&(ae.configOptions.parentIssueType=A.parentIssueType.val),ae.configOptions.weekendType=A.weekendType.val,ae.configOptions.preserveStartedTime=A.preserveStartedTime.val,t.workingTimeInStatus=ae.configOptions.workingTimeInStatus=A.workingTimeInStatus.val,t.isElapsedTime="IssuePassedTimeByStatus"===t.pivotTableType&&!(t.workingTimeInStatus.from&&t.workingTimeInStatus.to),ae.configOptions.startedTimeInStatus=A.startedTimeInStatus.val,o.timeInStatusCategories&&!angular.isArray(o.timeInStatusCategories)&&(o.timeInStatusCategories=[o.timeInStatusCategories]),o.timeTrackingColumns&&!angular.isArray(o.timeTrackingColumns)&&(o.timeTrackingColumns=[o.timeTrackingColumns]),o.timeBalanceColumns&&!angular.isArray(o.timeBalanceColumns)&&(o.timeBalanceColumns=[o.timeBalanceColumns]),ae.timeInStatusCategories=t.timeInStatusCategories=o.timeInStatusCategories||A.timeInStatusCategories.val,t.timeInStatusCategoriesData=new TimesheetSelectOptions(TimesheetGeneralOption,t.timeInStatusCategories);for(var l in s){var u=s[l];t.timeInStatusCategoriesData.addOption(u.name,u.id.toString())}t.timeTrackingColumns=o.timeTrackingColumns||A.timeTrackingColumns.val,ae.timeTrackingColumns=t.timeTrackingColumns||m.getDefaultTimeTrackingColumns(),t.timeTrackingColumnsData=new TimesheetSelectOptions(TimesheetGeneralOption,t.timeTrackingColumns);var d=m.getAllTimeTrackingColumns();for(var l in d)t.timeTrackingColumnsData.addOption(n[d[l]],d[l]);t.timeBalanceColumns=o.timeBalanceColumns||A.timeBalanceColumns.val,ae.timeBalanceColumns=t.timeBalanceColumns||m.getDefaultTimeBalanceColumns(),t.timeBalanceColumnsData=new TimesheetSelectOptions(TimesheetGeneralOption,t.timeBalanceColumns);var h=m.getAllTimeBalanceColumns();for(var l in h)t.timeBalanceColumnsData.addOption(n[h[l]],h[l]);if(ae.dateFields=A.dateFields.val||m.getDefaultDateFields(),ae.configOptions.exportColumns=A.exportColumns.val||m.getDefaultExportColumns(),ae.configOptions.durationTypeForExport=A.durationTypeForExport.val,ae.configOptions.inProgressIssuesJql=A.inProgressIssuesJql.val,["TimeTracking","IssuePassedTimeByStatus"].indexOf(ae.pivotTableType)>=0&&["workeduser","workeddate","workcreated"].indexOf(ae.groupByField)>=0&&(ae.groupByField=""),["Timespent","CostReport","IssueWorkedTimeByUser","IssueWorkedTimeByStatus"].indexOf(ae.pivotTableType)<0&&["workedweek"].indexOf(ae.groupByField)>=0&&(ae.groupByField=""),ue?t.auditorsRoles=ae.configOptions.auditorsRoles=A.auditorsRoles&&A.auditorsRoles.val:delete t.auditorsRoles,ae.configOptions.restrictedGroups=A.restrictedGroups.val,ae.configOptions.workUnderLimitColor=A.workUnderLimitColor.val,ae.configOptions.workOverLimitColor=A.workOverLimitColor.val,ae.configOptions.showCategoryRow=A.showCategoryRow.val,ae.configOptions.tempoToken=A.tempoToken.val,t.showTotalInFront=A.showTotalInFront.val,ae.configOptions.restrictWorkPerDay=A.restrictWorkPerDay.val,t.workDescriptionRequired=A.workDescriptionRequired.val,t.visibilityGroup=A.worklogVisibilityGroup.val,t.visibilityRole=A.worklogVisibilityRole.val,t.workLabelsList=A.workLabels.val,t.currencySymbol=ae.configOptions.currencySymbol=A.currencySymbol.val,ae.configOptions.showDetailsCount=t.showDetailsCount=A.showDetailsCount.val&&["Timespent","IssueWorkedTimeByUser","IssueWorkedTimeByStatus","IssueWorkedTimeByLabel","IssuePassedTimeByStatus","IssuePassedTimeByResolution"].indexOf(ae.pivotTableType)>=0,ae.groupByField)for(var l=0;l<r.length;l++)if(r[l].id===ae.groupByField){ae.groupByFieldObject=r[l];break}if(ae.categorizeByField)for(var l=0;l<r.length;l++)if(r[l].id===ae.categorizeByField){ae.categorizeByFieldObject=r[l];break}ae.groups&&(ae.username=""),t.configOptions=ae.configOptions,t.loading--,"PieChart"===t.pivotTableType&&(t.pivotTable=null);var f=Z&&t.user&&t.user!==p.accountId&&!A.disableLogWork.val&&["Calendar","Timesheet"].indexOf(t.pivotTableType)>=0&&function(){return A.logWorkForOthersGroups&&A.logWorkForOthersGroups.val&&p.groups.items.length&&p.groups.items.filter(function(e){return A.logWorkForOthersGroups.val.indexOf(e.name)>=0}).length>0}();return f=f&&function(){return!ae.configOptions.restrictedGroups||ae.configOptions.restrictedGroups.filter(function(e){return TimesheetUtils.findByProperty("name",e,p.groups.items)&&TimesheetUtils.findByProperty("name",e,t.paramUserInfo.groups.items)}).length>0}(),delete t.canLogWorkForUser,f&&c.canLogWorkForUser(t.user).then(function(e){t.canLogWorkForUser=e}),t.allowToLogFromDate=A.allowToLogFromDate.val,_e(),c.clearWorklogCache(A)}).then(!t.reportDialog&&t.loaded?t.execute:null)}}),se.then(function(e){t.groupByOptions=new TimesheetSelectOptions(TimesheetGeneralOption,o.groupByField),t.moreFieldsOptions=new TimesheetSelectOptions(TimesheetGeneralOption,TimesheetUtils.wrapIntoArray(o.moreFields)),t.orderByOptions=new TimesheetSelectOptions(TimesheetGeneralOption,o.orderByField);for(var i=TimesheetUtils.filterFields(e),r=0;r<i.length;r++){var a=i[r];t.groupByOptions.addOption(a.name,a.id),t.moreFieldsOptions.addOption(a.name,a.id),t.orderByOptions.addOption(a.name,a.id)}if(t.moreFieldsOptions.addOption(TimesheetUtils.FIELDS.PROJECT_CATEGORY_FIELD.name,TimesheetUtils.FIELDS.PROJECT_CATEGORY_FIELD.id),t.moreFieldsOptions.addOption(TimesheetUtils.FIELDS.PARENT_ISSUE_FIELD.name,TimesheetUtils.FIELDS.PARENT_ISSUE_FIELD.id),t.moreFieldsOptions.addOption(TimesheetUtils.FIELDS.TIME_TRACKING_PROGRESS_FIELD.name,TimesheetUtils.FIELDS.TIME_TRACKING_PROGRESS_FIELD.id),t.moreFieldsOptions.addOption(TimesheetUtils.FIELDS.TIME_TRACKING_ESTIMATE_FIELD.name,TimesheetUtils.FIELDS.TIME_TRACKING_ESTIMATE_FIELD.id),t.moreFieldsOptions.addOption(TimesheetUtils.FIELDS.TIME_TRACKING_VARIANCE_FIELD.name,TimesheetUtils.FIELDS.TIME_TRACKING_VARIANCE_FIELD.id),t.moreFieldsOptions.addOption(TimesheetUtils.FIELDS.TIME_TRACKING_ORIGINAL_ESTIMATE_REMAINING_FIELD.name,TimesheetUtils.FIELDS.TIME_TRACKING_ORIGINAL_ESTIMATE_REMAINING_FIELD.id),t.moreFieldsOptions.sort(),t.orderByOptions.addOption(TimesheetUtils.FIELDS.TIME_TRACKING_PROGRESS_FIELD.name,TimesheetUtils.FIELDS.TIME_TRACKING_PROGRESS_FIELD.id),t.orderByOptions.addOption(TimesheetUtils.FIELDS.TIME_TRACKING_ESTIMATE_FIELD.name,TimesheetUtils.FIELDS.TIME_TRACKING_ESTIMATE_FIELD.id),t.orderByOptions.addOption(TimesheetUtils.FIELDS.TIME_TRACKING_VARIANCE_FIELD.name,TimesheetUtils.FIELDS.TIME_TRACKING_VARIANCE_FIELD.id),t.orderByOptions.addOption(TimesheetUtils.FIELDS.TIME_TRACKING_ORIGINAL_ESTIMATE_REMAINING_FIELD.name,TimesheetUtils.FIELDS.TIME_TRACKING_ORIGINAL_ESTIMATE_REMAINING_FIELD.id),["TimeTracking","IssuePassedTimeByStatus","IssuePassedTimeByResolution","TimeBalance"].indexOf(t.pivotTableType)<0&&(t.groupByOptions.addOption(TimesheetUtils.FIELDS.WORKED_USER_FIELD.name,TimesheetUtils.FIELDS.WORKED_USER_FIELD.id),t.groupByOptions.addOption(TimesheetUtils.FIELDS.WORKED_USER_GROUP_FIELD.name,TimesheetUtils.FIELDS.WORKED_USER_GROUP_FIELD.id),t.groupByOptions.addOption(TimesheetUtils.FIELDS.WORKED_DATE_FIELD.name,TimesheetUtils.FIELDS.WORKED_DATE_FIELD.id),t.groupByOptions.addOption(TimesheetUtils.FIELDS.WORK_CREATED_FIELD.name,TimesheetUtils.FIELDS.WORK_CREATED_FIELD.id),t.groupByOptions.addOption(TimesheetUtils.FIELDS.COMMENT_FIRSTWORD_FIELD.name,TimesheetUtils.FIELDS.COMMENT_FIRSTWORD_FIELD.id),t.groupByOptions.addOption(TimesheetUtils.FIELDS.WORK_LABEL_FIELD.name,TimesheetUtils.FIELDS.WORK_LABEL_FIELD.id)),t.groupByOptions.addOption(TimesheetUtils.FIELDS.ISSUE_FIELD.name,TimesheetUtils.FIELDS.ISSUE_FIELD.id),t.groupByOptions.addOption(TimesheetUtils.FIELDS.PARENT_ISSUE_FIELD.name,TimesheetUtils.FIELDS.PARENT_ISSUE_FIELD.id),t.groupByOptions.addOption(TimesheetUtils.FIELDS.PROJECT_CATEGORY_FIELD.name,TimesheetUtils.FIELDS.PROJECT_CATEGORY_FIELD.id),["Timespent","CostReport","IssueWorkedTimeByUser","IssueWorkedTimeByStatus"].indexOf(t.pivotTableType)>=0&&t.groupByOptions.addOption(TimesheetUtils.FIELDS.WORKED_WEEK_FIELD.name,TimesheetUtils.FIELDS.WORKED_WEEK_FIELD.id),t.groupByOptions.sort(),t.groupByOptions.addOption(n["No grouping"],"",!0),t.categorizeByOptions=angular.copy(t.groupByOptions),t.categorizeByOptions.selected=o.categorizeByField||"",t.orderByOptions.sort(),e.push(TimesheetUtils.FIELDS.WORKED_USER_FIELD,TimesheetUtils.FIELDS.WORKED_USER_GROUP_FIELD,TimesheetUtils.FIELDS.WORKED_DATE_FIELD,TimesheetUtils.FIELDS.WORK_CREATED_FIELD,TimesheetUtils.FIELDS.COMMENT_FIRSTWORD_FIELD,TimesheetUtils.FIELDS.PARENT_ISSUE_FIELD,TimesheetUtils.FIELDS.WORK_LABEL_FIELD,TimesheetUtils.FIELDS.PROJECT_CATEGORY_FIELD,TimesheetUtils.FIELDS.TIME_TRACKING_PROGRESS_FIELD,TimesheetUtils.FIELDS.TIME_TRACKING_ESTIMATE_FIELD,TimesheetUtils.FIELDS.TIME_TRACKING_VARIANCE_FIELD,TimesheetUtils.FIELDS.TIME_TRACKING_ORIGINAL_ESTIMATE_REMAINING_FIELD,TimesheetUtils.FIELDS.WORKED_WEEK_FIELD),t.allFields=e,!t.hasOwnProperty("epicNameField")){t.epicNameField=null;for(var r=0;r<e.length;r++){var s=e[r];if(s.custom&&null!=s.schema&&"com.pyxis.greenhopper.jira:gh-epic-label"===s.schema.custom){t.epicNameField=s;break}}}});var de=a.all([c.getFilters(),m.getProjects()]).then(function(e){var i=e[0],n=e[1];t.filterByOptions=new TimesheetSelectOptions(TimesheetGeneralOption,o.filterOrProjectId,null,{filter:"Filter",project:"Project",jql:"Predefined"}),t.childrenFilterOptions=new TimesheetSelectOptions(TimesheetGeneralOption,""+(o.childrenFilterId||""),null),t.childrenFilterOptions.addOption("No filtering","",!0);for(var r=0;r<i.length;r++)t.filterByOptions.addOption(i[r].name,"filter_"+i[r].id),t.childrenFilterOptions.addOption(i[r].name,i[r].id);for(var r=0;r<n.length;r++)t.filterByOptions.addOption(n[r].name+" ("+n[r].key+")","project_"+n[r].key);for(var a=["Active sprints issues","My open issues","Reported by me","Viewed recently","All issues","Open issues","Created recently","Resolved recently","Updated recently","Done issues"],r=0;r<a.length;r++)(r||t.epicNameField)&&(t.filterByOptions.addOption(a[r],"jql_"+r),t.childrenFilterOptions.addOption(a[r],"jql_"+r))});a.all([se,de,oe]).then(function(){var e=t.getSelectedOptionLabels();t.gadgetSummary=new GadgetSummary(e,t.paramUserInfo,t.pivotTableType,n).getSummaryItems(),t.selectedOptionLabels=e}),t.pivotTableTypeOptions=new TimesheetSelectOptions(TimesheetGeneralOption,t.pivotTableType);for(var ce=Object.keys(PivotTableType),me=0;me<ce.length;me++)"CostReport"!==ce[me]&&t.pivotTableTypeOptions.addOption(n[ce[me]],ce[me]);t.reportingDayOptions=new TimesheetSelectOptions(TimesheetGeneralOption,null!=o.reportingDay?parseInt(o.reportingDay):null),null!=o.reportingDay&&t.reportingDayOptions.addOption("",null),t.reportingDayOptions.addOption(n.Today,-1);var pe=function(e){return e?a.all(e.split(",").map(c.getUserInfo.bind(c))):a.resolve()};t.everyWeekOptions=new TimesheetSelectOptions(TimesheetGeneralOption,o.everyWeekOn||t.reportingDay||-1),t.everyWeekOptions.addOption(n.Daily,-1);for(var he=moment(),me=0;me<7;me++){var fe=(moment.localeData().firstDayOfWeek()+me)%7;he.day(fe),t.reportingDayOptions.addOption(moment.localeData().weekdays(he),fe),t.everyWeekOptions.addOption(n.Every+" "+moment.localeData().weekdays(he),fe)}var T=/^(\d\d?):(\d\d?)(am|pm)$/.exec(o.everyWeekAt);T?(t.everyWeekOptions.hour=parseInt(T[1]),t.everyWeekOptions.minute=parseInt(T[2]),t.everyWeekOptions.period=T[3]):(t.everyWeekOptions.hour=6,t.everyWeekOptions.minute=0,t.everyWeekOptions.period="am"),t.everyWeekOptions.ifIncomplete=o.ifIncomplete,pe(o.sendToCCUsers).then(function(e){t.everyWeekOptions.sendToCCUsers=e}),t.everyWeekOptions.addCsv=o.addCsv,t.sumOptions=new TimesheetSelectOptions(TimesheetGeneralOption,o.sum),t.sumOptions.addOption("",""),t.sumOptions.addOption(n.Day,"day"),t.sumOptions.addOption(n.Week,"week"),t.sumOptions.addOption(n.Month,"month"),t.viewByOptions=new TimesheetSelectOptions(TimesheetGeneralOption,o.view),t.viewByOptions.addOption("",""),t.viewByOptions.addOption(n.Day,"day"),t.viewByOptions.addOption(n.Week,"week"),t.viewByOptions.addOption(n.Month,"month");var ge=c.getJiraConfiguration();ge.then(function(e){if(e&&!e.timeTrackingConfiguration&&AP.flag.create({title:"Time Tracking is currently OFF",body:"Please enable Time Tracking in Administration - Issues - Time Tracking",type:"error"}),ae.jiraConfig=t.jiraConfig=e,F.resolve(e),t.jiraConfig.maxFractionDigits=A.maxFractionDigits.val,t.jiraConfig.timeFormat=A.durationType.val||(A.prettyDuration.val?"pretty":"h"),t.createWorklog){var i={issueKey:t.issueKey,initialWorkLabels:c.workLabels,standaloneDialog:!0};t.addWorklogDialog(i)}});var ye=moment(t.startDate.value).month()!==moment(t.endDate.value).month()||TimesheetUtils.sameDay(t.startDate.value,TimesheetUtils.getFirstDayOfTheMonth(t.startDate.value))&&TimesheetUtils.sameDay(t.endDate.value,TimesheetUtils.getLastDayOfTheMonth(t.endDate.value));t.weekSumChange=function(){o.sum="week"===t.sum?ye?"month":"day":"month"===t.sum?"day":t.isDayView?"day":"week",t.loading||(o.loaded=t.loaded),C(o)},function(){var e=function(e,i){t.sumTitle=i,t.sumClass=e};"month"===t.sum||t.isDayView?e("day","Show daily worked hours"):"week"===t.sum?ye?e("month","Sum worked hours by month"):e("day","Show daily worked hours"):e("week","Sum worked hours by week")}(),t.example=function(e){angular.copy(e,o),C(o)},t.issueTimeViewChanged=function(e){try{"view_-1"===e?window.localStorage.removeItem("issueTimeView"):window.localStorage.setItem("issueTimeView",e)}catch(e){console.log("issueTimeView cache error",e)}t.issueTimeOptions.selected=e,c.resetState(),m.resetState(),"view_-1"===e?O({}):(t.viewOptions.selected=e,t.viewChanged())},t.viewChanged=function(){delete o.timeTrackingColumns,delete o.timeBalanceColumns,delete o.timeInStatusCategories,delete o.name;var e=t.viewOptions.selected,i=e.split("_");"view"===i[0]?(angular.copy({viewId:i[1]},o),w.updateCurrentView(o.viewId),angular.extend(o,t.currentView),t.currentViewName=t.currentView.name,t.showDeleteButton=!0):o.viewId?(angular.copy({pivotTableType:i[1]},o),angular.copy({},t.currentView),t.showDeleteButton=!1):(o.pivotTableType=i[1],delete o.everyWeekOn,delete o.everyWeekAt,delete o.ifIncomplete,delete o.sendToCCUsers,delete o.addCsv),C(o)},t.saveView=function(){angular.copy(o,t.currentView),delete t.currentView._,delete t.currentView.hideMenu;var e;if(t.showSaveButton=!1,t.currentView.viewId){e=w.updateView(t.currentView,p);var i=t.viewOptions.findOption(t.viewOptions.selected);i&&i.label!==t.currentView.name&&(i.label=t.currentView.name,t.$broadcast("viewUpdated",t.viewOptions.selected))}else e=w.addView(t.currentView,p).then(function(e){o.viewId=e.viewId,C(o,"noinit"),l.search(o)});return e},t.deleteView=function(){w.removeView(t.currentView,p).then(function(){delete o.viewId,delete o.name,delete o.jobId,delete o.everyWeekOn,delete o.everyWeekAt,delete o.ifIncomplete,delete o.sendToCCUsers,delete o.addCsv,C(o,"noinit"),l.search(o)}),t.currentView.jobId&&k.removeJob(t.currentView.jobId,p)},t.viewNameChanged=function(){o.name=t.currentView.name,t.loading||(o.loaded=t.loaded),C(o)},t.commentChanged=function(e){e.id?L(e,"noReDraw"):B(e)},t.subscribePopup={everyWeekOptions:t.everyWeekOptions,init:function(){this.currentView=angular.copy(t.currentView),this.currentUser=t.user===p.accountId,this.pivotTableType=t.pivotTableType,this.currentUser||delete this.currentView.ifIncomplete,this.loading=!1},subscribe:function(e){this.loading=!0,o.ifIncomplete=t.everyWeekOptions.ifIncomplete,t.everyWeekOptions.sendToCCUsers?o.sendToCCUsers=t.everyWeekOptions.sendToCCUsers.map(function(e){return e.accountId}).join(","):delete o.sendToCCUsers,o.addCsv=t.everyWeekOptions.addCsv,o.everyWeekOn=t.everyWeekOptions.selected,o.everyWeekAt=t.everyWeekOptions.hour+":"+t.everyWeekOptions.minute+t.everyWeekOptions.period,o.name||(o.name=n[t.pivotTableType]+" "+t.everyWeekOptions.findOption(o.everyWeekOn).label),o.filterOrProjectId||!t.projectKey||o._allProjects||(o.filterOrProjectId="project_"+t.projectKey);var i=moment(o.everyWeekAt,"h:ma");-1!==o.everyWeekOn&&i.day(o.everyWeekOn),(i=i.toDate())<new Date&&i.setDate(i.getDate()+(-1===o.everyWeekOn?1:7));var r={jobId:o.jobId,schedule:"weekly",on:o.everyWeekOn,at:o.everyWeekAt,ifIncomplete:o.ifIncomplete,sendToCCUsers:o.sendToCCUsers,addCsv:o.addCsv,nextRun:i.getTime()};k.saveJob(r,p).then(function(i){o.jobId=i.jobId,C(o,"noinit"),t.saveView().then(e)})},unsubscribe:function(e){this.loading=!0,k.removeJob(o.jobId,p).then(function(){delete o.jobId,delete o.everyWeekOn,delete o.everyWeekAt,delete o.ifIncomplete,delete o.sendToCCUsers,delete o.addCsv,t.saveView().then(e)})},send:function(e){if(!this.loading){var t=this;this.loading=!0,c.sendNow(o).then(function(){t.loading=!1,AP.flag.create({title:"Send Now",body:"Report is being generated and will be emailed as soon as possible",type:"success",close:"auto"}),e()},function(e){t.loading=!1,AP.flag.create({title:"Send Now",body:e.data||e||"Something went wrong",type:"error",close:"auto"})})}},ccChange:function(e){e?pe(e).then(function(e){t.everyWeekOptions.sendToCCUsers=e}):delete t.everyWeekOptions.sendToCCUsers}},t.shareViewPopup={init:function(){this.loading=!1},shareView:function(e,i){this.loading=!0;var r=angular.copy(t.currentView);delete r.jobId,delete r.everyWeekOn,delete r.everyWeekAt,delete r.ifIncomplete,delete r.sendToCCUsers,delete r.addCsv,e.accountId===p.accountId&&(r.name+=" "+n.Copy),w.addView(r,e).then(function(){e.accountId===p.accountId?(o._=Date.now(),l.search(o)):i()})},shareToUserChange:function(e){c.getUserInfo(e).then(function(e){t.shareViewPopup.shareToUser=e})}};var ve=e.$onErrorPopup,_e=function(){var e=angular.copy(ae);delete e.queue,delete e.queueToAdd,delete e.matches,ve&&(ve.data("options",e),ve.data("routeParams",o)),i.customData={options:e,routeParams:o}};t.userHoverPopup={init:function(e){this.user=e}}}var E=t.dashboardId?"-"+t.dashboardId+"-"+t.dashboardItemId:"",I=(e.isTimesheet?"jiratimesheet":"timereports")+"-location-search"+E,M=10,L={timeTrackingColumns:null,timeBalanceColumns:null,timeInStatusCategories:null,offset:null,numOfWeeks:null,hideWeekends:null,filterOrProjectId:null,childrenFilterId:null,user:null,allUsers:null,group:null,excludeGroup:null,startDate:null,endDate:null,showWeekends:null,reportingDay:null,groupByField:null,categorizeByField:null,moreFields:null,sumSubTasks:null,includeEmpty:null,view:null,sum:null,showDetails:null},P=function(e){if(t.currentView&&t.currentView.viewId){delete t.showSaveButton;for(var i in L)if(!angular.equals(t.currentView[i],e[i])){t.showSaveButton=!0;break}t.showSaveButton||t.currentView.name===t.currentViewName||(t.showSaveButton=!0)}else t.showSaveButton=t.currentView&&t.currentView.name},C=function(e,t){if(T.setEnabled(!1),t||O(e),P(e),delete e._,delete e.loaded,angular.isFunction(AP.cookie.save)){var i=angular.copy(e);i.jql&&(i.jql=encodeURIComponent(i.jql)),AP.cookie.save(I,JSON.stringify(i))}if(angular.isFunction(AP.history.pushState)){var n=angular.copy(e);AP.history.pushState($.param(TimesheetUtils.normalizeObject(n,!0),!0))}e._=Date.now()},x=a.defer();Object.keys(y).length||t.issueKey||t.issueTimeBalance||!angular.isFunction(AP.cookie.read)?Object.keys(s).length?x.resolve(s):x.resolve(y):AP.cookie.read(I,function(e){T.cookie(e);var t;try{t=TimesheetUtils.getJson(e||"")}catch(e){console.log("Cookie error",e),t=y}angular.isDefined(f)||g?(delete t.filterOrProjectId,delete t.jql):t.jql&&(t.jql=decodeURIComponent(t.jql)),x.resolve(t)}),x.promise.then(function(e){var i;if(t.isGadget&&t.dashboardId&&t.dashboardItemId)i=c.getGadgetConfiguration(t.dashboardId,t.dashboardItemId).then(function(t){var i=angular.extend({timeTrackingColumns:null,timeBalanceColumns:null,timeInStatusCategories:null,title:null,numOfWeeks:null,hideWeekends:null,reportingDay:null,filterOrProjectId:null,childrenFilterId:null,user:null,allUsers:null,group:null,excludeGroup:null,groupByField:null,categorizeByField:null,moreFields:null,sumSubTasks:null,includeEmpty:null},t);return["monthView","offset","sum","showDetails"].forEach(function(e){i[e]||delete i[e]}),i.showWeekends=!i.hideWeekends,angular.extend(e,i)});else{if(t.currentView=w.data.currentView,t.issueKey&&!t.issueTimeBalance)try{var r=window.localStorage.getItem("issueTimeView");e.viewId=r?parseInt(r.substr(5)):null}catch(e){console.log("timeentry cache error",e)}i=w.getViews(parseInt(e.viewId),p).then(function(){if(t.issueKey&&!t.issueTimeBalance){t.issueTimeOptions=new TimesheetSelectOptions(TimesheetGeneralOption,"view_-1"),t.issueTimeOptions.addOption(n.TimeEntry,"view_-1");for(var i=0;i<w.data.allViews.length;i++){var r=w.data.allViews[i];t.issueTimeOptions.addOption(r.name,"view_"+r.viewId),r.viewId===e.viewId&&(t.issueTimeOptions.selected="view_"+r.viewId)}}var a=angular.isDefined(w.data.currentView.viewId);t.showDeleteButton=a;var o=w.data.allViews.length>0?{view:n["Saved Report"],pivotTableType:n["Default Report"]}:null;t.viewOptions=new TimesheetSelectOptions(TimesheetGeneralOption,null,null,o),t.viewOptions.selected=a?"view_"+w.data.currentView.viewId:"pivotTableType_"+(e.pivotTableType||"Timesheet");for(var i=0;i<w.data.allViews.length;i++){var r=w.data.allViews[i];t.viewOptions.addOption(r.name,"view_"+r.viewId)}for(var s=Object.keys(PivotTableType),i=0;i<s.length;i++){var l=s[i];"CostReport"!==l&&t.viewOptions.addOption(n[l],"pivotTableType_"+l)}if(a){var u=angular.copy(t.currentView);if(delete e._,t.showSaveButton=u.viewId!==e.viewId,t.currentViewName=t.currentView.name,Object.keys(e)>1){var d=angular.extend({_allProjects:null,everyWeekOn:null,everyWeekAt:null,ifIncomplete:null,sendToCCUsers:null,addCsv:null,jobId:null},L,e);return TimesheetUtils.normalizeObject(angular.extend(u,d))}return u}return delete e.viewId,e})}i.then(O)}),i.onGadgetConfigSave=i.onGadgetConfigSave||i.$on("gadgetConfigSave",function(){i.showGadgetConfiguration=!1,t.refresh()}),i.onGadgetConfigCancel=i.onGadgetConfigCancel||i.$on("gadgetConfigCancel",function(){i.showGadgetConfiguration=!1}),t.loading=0,AP.events.offAll("ISSUE_QUICK_ADD_CLICKED");var F=a.defer();AP.events.on("ISSUE_QUICK_ADD_CLICKED",function(e){F.promise.then(function(e){t.addWorklogDialog()})})}]),function(){function e(e){function t(t,i,n){function r(i){i&&e(function(){a.focus()},t.$eval(n.focusDelay)||0)}var a=i[0];n.focusIf?t.$watch(n.focusIf,r):r(!0)}return{restrict:"A",link:t}}angular.module("focus-if",[]).directive("focusIf",e),e.$inject=["$timeout"]}(),app.controller("UserPreferencesController",["$scope","$route","$routeParams","$location","$modalInstance","$q","$sce","$timeout","$window","configurationService","$http","loggedInUser","translations","changed",function(e,t,i,n,r,a,o,s,l,u,d,c,m,p){function h(e){f(e+"SaveSuccess")}function f(t){p.changed=!0,e[t]=!0,s(function(){e[t]=!1},2e3)}!function(){e.isTimesheet=window.isTimesheet,e.cancel=function(){r.dismiss()},e.getDefault=function(e,t){if(e&&angular.isArray(t)){var i=TimesheetUtils.findByProperty("id",e,t);if(i)return i.name||i.label||""}return e||""},e.saveWeekendType=function(){var t=angular.copy(e.weekendType);"default"===t.val&&(t.val=null),u.saveUserPreferences(t,c).then(function(t){t.val||(t.val="default"),e.weekendType=t,h("weekendType")})},e.saveWorkingTimeInStatus=function(){!e.workingTimeInStatus.val||e.workingTimeInStatus.val.from||e.workingTimeInStatus.val.to||(e.workingTimeInStatus.val=null),u.saveUserPreferences(e.workingTimeInStatus,c).then(function(t){e.workingTimeInStatus=t,h("workingTimeInStatus")})},e.saveDurationType=function(){"default"===e.durationType.val&&(e.durationType.val=null),u.saveUserPreferences(e.durationType,c).then(function(t){e.durationType=t,e.durationType.val||(e.durationType.val="default"),h("durationType")})},e.saveDurationTypeForExport=function(){"default"===e.durationTypeForExport.val&&(e.durationTypeForExport.val=null),u.saveUserPreferences(e.durationTypeForExport,c).then(function(t){e.durationTypeForExport=t,e.durationTypeForExport.val||(e.durationTypeForExport.val="default"),h("durationTypeForExport")})},e.saveMaxFractionDigits=function(){u.saveUserPreferences(e.maxFractionDigits,c).then(function(t){e.maxFractionDigits=t,h("maxFractionDigits")})},e.saveTimeInStatusCategories=function(){e.timeInStatusCategories.val=e.timeInStatusCategories.val?e.timeInStatusCategories.val.split(","):void 0,u.saveUserPreferences(e.timeInStatusCategories,c).then(function(t){e.timeInStatusCategories=t,h("timeInStatusCategories")})},e.saveTimeTrackingColumns=function(){e.timeTrackingColumns.val=e.timeTrackingColumns.val?e.timeTrackingColumns.val.split(","):void 0,u.saveUserPreferences(e.timeTrackingColumns,c).then(function(t){e.timeTrackingColumns=t,h("timeTrackingColumns")})},e.saveTimeBalanceColumns=function(){e.timeBalanceColumns.val=e.timeBalanceColumns.val?e.timeBalanceColumns.val.split(","):void 0,u.saveUserPreferences(e.timeBalanceColumns,c).then(function(t){e.timeBalanceColumns=t,h("timeBalanceColumns")})},e.saveShowDetailsCount=function(){u.saveUserPreferences(e.showDetailsCount,c).then(function(t){e.showDetailsCount=t,h("showDetailsCount")})},e.saveShowCategoryRow=function(){u.saveUserPreferences(e.showCategoryRow,c).then(function(t){e.showCategoryRow=t,h("showCategoryRow")})},e.saveShowTotalInFront=function(){u.saveUserPreferences(e.showTotalInFront,c).then(function(t){e.showTotalInFront=t,h("showTotalInFront")})},e.saveOnErrorIgnore=function(){
u.saveUserPreferences(e.onErrorIgnore,c).then(function(t){e.onErrorIgnore=t,h("onErrorIgnore")})},e.saveDateFields=function(){e.dateFields.val=e.dateFields.val?e.dateFields.val.split(","):void 0,u.saveUserPreferences(e.dateFields,c).then(function(t){e.dateFields=t,h("dateFields")})},e.saveExportColumns=function(){e.exportColumns.val=e.exportColumns.val?e.exportColumns.val.split(","):void 0,u.saveUserPreferences(e.exportColumns,c).then(function(t){e.exportColumns=t,h("exportColumns")})},e.saveReportingDay=function(){u.saveUserPreferences(e.reportingDay,c).then(function(t){e.reportingDay=t,h("reportingDay")})},e.saveStartedTimeInStatus=function(){u.saveUserPreferences(e.startedTimeInStatus,c).then(function(t){e.startedTimeInStatus=t,h("startedTimeInStatus")})},e.saveInProgressIssuesJql=function(){u.saveUserPreferences(e.inProgressIssuesJql,c).then(function(t){e.inProgressIssuesJql=t,h("inProgressIssuesJql")})},e.saveTempoToken=function(){u.saveUserPreferences(e.tempoToken,c).then(function(t){e.tempoToken=t,h("tempoToken")})},e.sendMobileLink=function(){d.post("/api/1/mobile/get_link").then(function(){AP.flag.create({title:"Mobile link",body:"Message has been queued",type:"success",close:"auto"})},function(e){AP.flag.create({title:"Mobile link",body:e.data||e||"Something went wrong",type:"error",close:"auto"})})},e.emailAddress=c.emailAddress;var t=u.getConfiguration(),i=u.getUserPreferences(c),n=u.getAllStatusCategories();a.all([t,i,n]).then(function(t){var i=t[0],n=t[1],r=t[2],a=" ["+m.Default+"]";i.workingTimeInStatus.val&&i.workingTimeInStatus.val.from&&i.workingTimeInStatus.val.to&&(i.workingTimeInStatus.defaultFrom=""+i.workingTimeInStatus.val.from+a,i.workingTimeInStatus.defaultTo=""+i.workingTimeInStatus.val.to+a),i.maxFractionDigits.val&&(i.maxFractionDigits.default=""+i.maxFractionDigits.val+a),i.inProgressIssuesJql.val&&(i.inProgressIssuesJql.default=""+i.inProgressIssuesJql.val+a),e.defaults=i,e.weekendType=n.weekendType,e.workingTimeInStatus=n.workingTimeInStatus,e.durationType=n.durationType,e.durationTypeForExport=n.durationTypeForExport,e.maxFractionDigits=n.maxFractionDigits,e.timeInStatusCategories=n.timeInStatusCategories||i.timeInStatusCategories,e.timeTrackingColumns=n.timeTrackingColumns||i.timeTrackingColumns,e.timeBalanceColumns=n.timeBalanceColumns||i.timeBalanceColumns,e.exportColumns=n.exportColumns||i.exportColumns,e.dateFields=n.dateFields||i.dateFields,e.reportingDay=n.reportingDay,e.startedTimeInStatus=n.startedTimeInStatus,e.inProgressIssuesJql=n.inProgressIssuesJql,e.showDetailsCount=n.showDetailsCount,e.showCategoryRow=n.showCategoryRow,e.showTotalInFront=n.showTotalInFront,e.onErrorIgnore=n.onErrorIgnore,e.tempoToken=n.tempoToken,e.onErrorIgnore||(e.onErrorIgnore=i.onErrorIgnore),e.timeInStatusCategoriesData=new TimesheetSelectOptions(TimesheetGeneralOption,e.timeInStatusCategories.val);for(var o in r){var s=r[o];e.timeInStatusCategoriesData.addOption(s.name,s.id)}e.timeTrackingColumnsData=new TimesheetSelectOptions(TimesheetGeneralOption,e.timeTrackingColumns.val);var d=u.getAllTimeTrackingColumns();for(var o in d)e.timeTrackingColumnsData.addOption(m[d[o]],d[o]);e.timeBalanceColumnsData=new TimesheetSelectOptions(TimesheetGeneralOption,e.timeBalanceColumns.val);var c=u.getAllTimeBalanceColumns();for(var o in c)e.timeBalanceColumnsData.addOption(m[c[o]],c[o]);e.exportColumnsData=new TimesheetSelectOptions(TimesheetGeneralOption,e.exportColumns.val);var p=u.getAllExportColumns();for(var o in p)e.exportColumnsData.addOption(m[p[o]],p[o]);e.dateFieldsData=new TimesheetSelectOptions(TimesheetGeneralOption,e.dateFields.val);var h=u.getAllDateFields();for(var o in h)e.dateFieldsData.addOption(m[h[o]],h[o]);e.showDetailsCountTypes=[],e.showDetailsCountTypes.push({id:void 0,label:(i.showDetailsCount.val?m.Yes:m.No)+a}),e.showDetailsCountTypes.push({id:!0,label:m.Yes}),e.showDetailsCountTypes.push({id:!1,label:m.No}),e.showCategoryRowTypes=[],e.showCategoryRowTypes.push({id:void 0,label:(i.showCategoryRow.val?m.Yes:m.No)+a}),e.showCategoryRowTypes.push({id:!0,label:m.Yes}),e.showCategoryRowTypes.push({id:!1,label:m.No}),e.showTotalInFrontTypes=[],e.showTotalInFrontTypes.push({id:void 0,label:(i.showTotalInFront.val?m.Yes:m.No)+a}),e.showTotalInFrontTypes.push({id:!0,label:m.Yes}),e.showTotalInFrontTypes.push({id:!1,label:m.No}),e.reportingDayOptions=new TimesheetSelectOptions(TimesheetGeneralOption,e.reportingDay.val),e.reportingDayOptions.addOption("",void 0),e.reportingDayOptions.addOption(m.Today,-1);for(var f=moment(),o=0;o<7;o++){var g=(moment.localeData().firstDayOfWeek()+o)%7;f.day(g),e.reportingDayOptions.addOption(moment.localeData().weekdays(f),g)}i.reportingDay.val&&e.reportingDayOptions.addOption(""+e.getDefault(i.reportingDay.val,e.reportingDayOptions.options)+a,"default",!0),e.startedTimeInStatusTypes=[],e.startedTimeInStatusTypes.push({id:void 0,label:(i.startedTimeInStatus.val?m.Yes:m.No)+a}),e.startedTimeInStatusTypes.push({id:!0,label:m.Yes}),e.startedTimeInStatusTypes.push({id:!1,label:m.No}),e.allWeekendTypes=[],e.allWeekendTypes.push({id:"60",label:"Sat-Sun"}),e.allWeekendTypes.push({id:"56",label:"Fri-Sat"}),e.allWeekendTypes.push({id:"45",label:"Thu-Fri"}),e.allWeekendTypes.push({id:"0",label:"Sun"}),e.allWeekendTypes.push({id:"5",label:"Fri"}),e.allWeekendTypes.push({id:"560",label:"Fri-Sun"}),i.weekendType.val&&e.allWeekendTypes.unshift({id:"default",label:""+e.getDefault(i.weekendType.val,e.allWeekendTypes)+a}),e.allDurationTypes=[],e.allDurationTypes.push({id:"m",label:"Minutes"}),e.allDurationTypes.push({id:"h",label:"Hours"}),e.allDurationTypes.push({id:"d",label:"Days"}),e.allDurationTypes.push({id:"pretty",label:"Pretty Duration"}),i.durationType.val&&e.allDurationTypes.unshift({id:"default",label:""+e.getDefault(i.durationType.val,e.allDurationTypes)+a}),e.allDurationTypesForExport=[],e.allDurationTypesForExport.push({id:"m",label:"Minutes"}),e.allDurationTypesForExport.push({id:"h",label:"Hours"}),e.allDurationTypesForExport.push({id:"d",label:"Days"}),i.durationTypeForExport.val&&e.allDurationTypesForExport.unshift({id:"default",label:""+e.getDefault(i.durationTypeForExport.val,e.allDurationTypesForExport)+a}),e.problemReporter=null!=l.mailerUrl})}()}]),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.JSZip=e()}}(function(){var e;return function e(t,i,n){function r(o,s){if(!i[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var d=i[o]={exports:{}};t[o][0].call(d.exports,function(e){var i=t[o][1][e];return r(i||e)},d,d.exports,e,t,i,n)}return i[o].exports}for(var a="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,i){var n=e("./utils"),r=e("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(e){for(var t,i,r,o,s,l,u,d=[],c=0,m=e.length,p=m,h="string"!==n.getTypeOf(e);c<e.length;)p=m-c,h?(t=e[c++],i=c<m?e[c++]:0,r=c<m?e[c++]:0):(t=e.charCodeAt(c++),i=c<m?e.charCodeAt(c++):0,r=c<m?e.charCodeAt(c++):0),o=t>>2,s=(3&t)<<4|i>>4,l=p>1?(15&i)<<2|r>>6:64,u=p>2?63&r:64,d.push(a.charAt(o)+a.charAt(s)+a.charAt(l)+a.charAt(u));return d.join("")},i.decode=function(e){var t,i,n,o,s,l,u,d=0,c=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");var m=3*e.length/4;e.charAt(e.length-1)===a.charAt(64)&&m--,e.charAt(e.length-2)===a.charAt(64)&&m--;var p;for(p=r.uint8array?new Uint8Array(m):new Array(m);d<e.length;)o=a.indexOf(e.charAt(d++)),s=a.indexOf(e.charAt(d++)),l=a.indexOf(e.charAt(d++)),u=a.indexOf(e.charAt(d++)),t=o<<2|s>>4,i=(15&s)<<4|l>>2,n=(3&l)<<6|u,p[c++]=t,64!==l&&(p[c++]=i),64!==u&&(p[c++]=n);return p}},{"./support":27,"./utils":29}],2:[function(e,t,i){function n(e,t,i,n,r){this.compressedSize=e,this.uncompressedSize=t,this.crc32=i,this.compression=n,this.compressedContent=r}var r=e("./external"),a=e("./stream/DataWorker"),o=e("./stream/DataLengthProbe"),s=e("./stream/Crc32Probe"),o=e("./stream/DataLengthProbe");n.prototype={getContentWorker:function(){var e=new a(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new a(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},n.createWorkerFrom=function(e,t,i){return e.pipe(new s).pipe(new o("uncompressedSize")).pipe(t.compressWorker(i)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},t.exports=n},{"./external":6,"./stream/Crc32Probe":22,"./stream/DataLengthProbe":23,"./stream/DataWorker":24}],3:[function(e,t,i){var n=e("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(e){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},i.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":25}],4:[function(e,t,i){function n(e,t,i,n){var r=o,a=n+i;e^=-1;for(var s=n;s<a;s++)e=e>>>8^r[255&(e^t[s])];return-1^e}function r(e,t,i,n){var r=o,a=n+i;e^=-1;for(var s=n;s<a;s++)e=e>>>8^r[255&(e^t.charCodeAt(s))];return-1^e}var a=e("./utils"),o=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==a.getTypeOf(e)?n(0|t,e,e.length,0):r(0|t,e,e.length,0):0}},{"./utils":29}],5:[function(e,t,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(e,t,i){var n=e("es6-promise").Promise;t.exports={Promise:n}},{"es6-promise":37}],7:[function(e,t,i){function n(e,t){s.call(this,"FlateWorker/"+e),this._pako=new a[e]({raw:!0,level:t.level||-1}),this.meta={};var i=this;this._pako.onData=function(e){i.push({data:e,meta:i.meta})}}var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,a=e("pako"),o=e("./utils"),s=e("./stream/GenericWorker"),l=r?"uint8array":"array";i.magic="\b\0",o.inherits(n,s),n.prototype.processChunk=function(e){this.meta=e.meta,this._pako.push(o.transformTo(l,e.data),!1)},n.prototype.flush=function(){s.prototype.flush.call(this),this._pako.push([],!0)},n.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},i.compressWorker=function(e){return new n("Deflate",e)},i.uncompressWorker=function(){return new n("Inflate",{})}},{"./stream/GenericWorker":25,"./utils":29,pako:38}],8:[function(e,t,i){function n(e,t,i,n){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=i,this.encodeFileName=n,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}var r=e("../utils"),a=e("../stream/GenericWorker"),o=e("../utf8"),s=e("../crc32"),l=e("../signature"),u=function(e,t){var i,n="";for(i=0;i<t;i++)n+=String.fromCharCode(255&e),e>>>=8;return n},d=function(e,t){var i=e;return e||(i=t?16893:33204),(65535&i)<<16},c=function(e,t){return 63&(e||0)},m=function(e,t,i,n,a,m){var p,h,f=e.file,g=e.compression,y=m!==o.utf8encode,v=r.transformTo("string",m(f.name)),_=r.transformTo("string",o.utf8encode(f.name)),w=f.comment,T=r.transformTo("string",m(w)),b=r.transformTo("string",o.utf8encode(w)),k=_.length!==f.name.length,S=b.length!==w.length,A="",D="",O="",E=f.dir,I=f.date,M={crc32:0,compressedSize:0,uncompressedSize:0};t&&!i||(M.crc32=e.crc32,M.compressedSize=e.compressedSize,M.uncompressedSize=e.uncompressedSize);var L=0;t&&(L|=8),y||!k&&!S||(L|=2048);var P=0,C=0;E&&(P|=16),"UNIX"===a?(C=798,P|=d(f.unixPermissions,E)):(C=20,P|=c(f.dosPermissions)),p=I.getUTCHours(),p<<=6,p|=I.getUTCMinutes(),p<<=5,p|=I.getUTCSeconds()/2,h=I.getUTCFullYear()-1980,h<<=4,h|=I.getUTCMonth()+1,h<<=5,h|=I.getUTCDate(),k&&(D=u(1,1)+u(s(v),4)+_,A+="up"+u(D.length,2)+D),S&&(O=u(1,1)+u(s(T),4)+b,A+="uc"+u(O.length,2)+O);var x="";return x+="\n\0",x+=u(L,2),x+=g.magic,x+=u(p,2),x+=u(h,2),x+=u(M.crc32,4),x+=u(M.compressedSize,4),x+=u(M.uncompressedSize,4),x+=u(v.length,2),x+=u(A.length,2),{fileRecord:l.LOCAL_FILE_HEADER+x+v+A,dirRecord:l.CENTRAL_FILE_HEADER+u(C,2)+x+u(T.length,2)+"\0\0\0\0"+u(P,4)+u(n,4)+v+A+T}},p=function(e,t,i,n,a){var o=r.transformTo("string",a(n));return l.CENTRAL_DIRECTORY_END+"\0\0\0\0"+u(e,2)+u(e,2)+u(t,4)+u(i,4)+u(o.length,2)+o},h=function(e){return l.DATA_DESCRIPTOR+u(e.crc32,4)+u(e.compressedSize,4)+u(e.uncompressedSize,4)};r.inherits(n,a),n.prototype.push=function(e){var t=e.meta.percent||0,i=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,a.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:i?(t+100*(i-n-1))/i:100}}))},n.prototype.openedSource=function(e){if(this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name,this.streamFiles&&!e.file.dir){var t=m(e,this.streamFiles,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:t.fileRecord,meta:{percent:0}})}else this.accumulate=!0},n.prototype.closedSource=function(e){this.accumulate=!1;var t=m(e,this.streamFiles,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(t.dirRecord),this.streamFiles&&!e.file.dir)this.push({data:h(e),meta:{percent:100}});else for(this.push({data:t.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},n.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var i=this.bytesWritten-e,n=p(this.dirRecords.length,i,e,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},n.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},n.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(e){t.error(e)}),this},n.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},n.prototype.error=function(e){var t=this._sources;if(!a.prototype.error.call(this,e))return!1;for(var i=0;i<t.length;i++)try{t[i].error(e)}catch(e){}return!0},n.prototype.lock=function(){a.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=n},{"../crc32":4,"../signature":20,"../stream/GenericWorker":25,"../utf8":28,"../utils":29}],9:[function(e,t,i){var n=e("../compressions"),r=e("./ZipFileWorker"),a=function(e,t){var i=e||t,r=n[i];if(!r)throw new Error(i+" is not a valid compression method !");return r};i.generateWorker=function(e,t,i){var n=new r(t.streamFiles,i,t.platform,t.encodeFileName),o=0;try{e.forEach(function(e,i){o++;var r=a(i.options.compression,t.compression),s=i.options.compressionOptions||t.compressionOptions||{},l=i.dir,u=i.date;i._compressWorker(r,s).withStreamInfo("file",{name:e,dir:l,date:u,comment:i.comment||"",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(n)}),n.entriesCount=o}catch(e){n.error(e)}return n}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,i){function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new n;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}n.prototype=e("./object"),n.prototype.loadAsync=e("./load"),n.support=e("./support"),n.defaults=e("./defaults"),n.loadAsync=function(e,t){return(new n).loadAsync(e,t)},n.external=e("./external"),t.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":13,"./support":27}],11:[function(e,t,i){function n(e){return new a.Promise(function(t,i){var n=e.decompressed.getContentWorker().pipe(new l);n.on("error",function(e){i(e)}).on("end",function(){n.streamInfo.crc32!==e.decompressed.crc32?i(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}var r=e("./utils"),a=e("./external"),o=e("./utf8"),r=e("./utils"),s=e("./zipEntries"),l=e("./stream/Crc32Probe"),u=e("./nodejsUtils");t.exports=function(e,t){var i=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),u.isNode&&u.isStream(e)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(e){var i=new s(t);return i.load(e),i}).then(function(e){var i=[a.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var o=0;o<r.length;o++)i.push(n(r[o]));return a.Promise.all(i)}).then(function(e){for(var n=e.shift(),r=n.files,a=0;a<r.length;a++){var o=r[a];i.file(o.fileNameStr,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:t.createFolders})}return n.zipComment.length&&(i.comment=n.zipComment),i})}},{"./external":6,"./nodejsUtils":12,"./stream/Crc32Probe":22,"./utf8":28,"./utils":29,"./zipEntries":30}],12:[function(e,t,i){(function(e){t.exports={isNode:void 0!==e,newBuffer:function(t,i){return new e(t,i)},isBuffer:function(t){return e.isBuffer(t)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}}).call(this,"undefined"!=typeof Buffer?Buffer:void 0)},{}],13:[function(e,t,i){function n(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var r=e("./utf8"),a=e("./utils"),o=e("./stream/GenericWorker"),s=e("./stream/StreamHelper"),l=e("./defaults"),u=e("./compressedObject"),d=e("./zipObject"),c=e("./generate"),m=e("./nodejsUtils"),p=e("./nodejs/NodejsStreamInputAdapter"),h=function(e,t,i){var n,r=a.getTypeOf(t);i=a.extend(i||{},l),i.date=i.date||new Date,null!==i.compression&&(i.compression=i.compression.toUpperCase()),"string"==typeof i.unixPermissions&&(i.unixPermissions=parseInt(i.unixPermissions,8)),i.unixPermissions&&16384&i.unixPermissions&&(i.dir=!0),i.dosPermissions&&16&i.dosPermissions&&(i.dir=!0),i.dir&&(e=g(e)),i.createFolders&&(n=f(e))&&y.call(this,n,!0);var s="string"===r&&!1===i.binary&&!1===i.base64;i.binary=!s,(t instanceof u&&0===t.uncompressedSize||i.dir||!t||0===t.length)&&(i.base64=!1,i.binary=!0,t="",i.compression="STORE",r="string");var c=null;c=t instanceof u||t instanceof o?t:m.isNode&&m.isStream(t)?new p(e,t):a.prepareContent(e,t,i.binary,i.optimizedBinaryString,i.base64);var h=new d(e,c,i);this.files[e]=h},f=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},g=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},y=function(e,t){return t=void 0!==t?t:l.createFolders,e=g(e),this.files[e]||h.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]},v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,i,n;for(t in this.files)this.files.hasOwnProperty(t)&&(n=this.files[t],(i=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(i,n))},filter:function(e){var t=[];return this.forEach(function(i,n){e(i,n)&&t.push(n)}),t},file:function(e,t,i){if(1===arguments.length){if(n(e)){var r=e;return this.filter(function(e,t){return!t.dir&&r.test(e)})}var a=this.files[this.root+e];return a&&!a.dir?a:null}return e=this.root+e,h.call(this,e,t,i),this},folder:function(e){if(!e)return this;if(n(e))return this.filter(function(t,i){return i.dir&&e.test(t)});var t=this.root+e,i=y.call(this,t),r=this.clone();return r.root=i.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var i=this.filter(function(t,i){return i.name.slice(0,e.length)===e}),n=0;n<i.length;n++)delete this.files[i[n].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,i={};try{if(i=a.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode}),i.type=i.type.toLowerCase(),i.compression=i.compression.toUpperCase(),"binarystring"===i.type&&(i.type="string"),!i.type)throw new Error("No output type specified.");a.checkSupport(i.type),"darwin"!==e.platform&&"freebsd"!==e.platform&&"linux"!==e.platform&&"sunos"!==e.platform||(e.platform="UNIX"),"win32"===e.platform&&(e.platform="DOS");var n=i.comment||this.comment||"";t=c.generateWorker(this,i,n)}catch(e){t=new o("error"),t.error(e)}return new s(t,i.type||"string",i.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return e=e||{},e.type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=v},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":35,"./nodejsUtils":12,"./stream/GenericWorker":25,"./stream/StreamHelper":26,"./utf8":28,"./utils":29,"./zipObject":32}],14:[function(e,t,i){function n(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}var r=e("./DataReader");e("../utils").inherits(n,r),n.prototype.byteAt=function(e){return this.data[this.zero+e]},n.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),i=e.charCodeAt(1),n=e.charCodeAt(2),r=e.charCodeAt(3),a=this.length-4;a>=0;--a)if(this.data[a]===t&&this.data[a+1]===i&&this.data[a+2]===n&&this.data[a+3]===r)return a-this.zero;return-1},n.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),i=e.charCodeAt(1),n=e.charCodeAt(2),r=e.charCodeAt(3),a=this.readData(4);return t===a[0]&&i===a[1]&&n===a[2]&&r===a[3]},n.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=n},{"../utils":29,"./DataReader":15}],15:[function(e,t,i){function n(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}var r=e("../utils");n.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,i=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)i=(i<<8)+this.byteAt(t);return this.index+=e,i},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=n},{"../utils":29}],16:[function(e,t,i){function n(e){r.call(this,e)}var r=e("./Uint8ArrayReader");e("../utils").inherits(n,r),n.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=n},{"../utils":29,"./Uint8ArrayReader":18}],17:[function(e,t,i){function n(e){r.call(this,e)}var r=e("./DataReader");e("../utils").inherits(n,r),n.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},n.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},n.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},n.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=n},{"../utils":29,"./DataReader":15}],18:[function(e,t,i){function n(e){r.call(this,e)}var r=e("./ArrayReader");e("../utils").inherits(n,r),n.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=n},{"../utils":29,"./ArrayReader":14}],19:[function(e,t,i){var n=e("../utils"),r=e("../support"),a=e("./ArrayReader"),o=e("./StringReader"),s=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=n.getTypeOf(e);return n.checkSupport(t),"string"!==t||r.uint8array?"nodebuffer"===t?new s(e):r.uint8array?new l(n.transformTo("uint8array",e)):new a(n.transformTo("array",e)):new o(e)}},{"../support":27,"../utils":29,"./ArrayReader":14,"./NodeBufferReader":16,"./StringReader":17,"./Uint8ArrayReader":18}],20:[function(e,t,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\b"},{}],21:[function(e,t,i){function n(e){r.call(this,"ConvertWorker to "+e),this.destType=e}var r=e("./GenericWorker"),a=e("../utils");a.inherits(n,r),n.prototype.processChunk=function(e){this.push({data:a.transformTo(this.destType,e.data),meta:e.meta})},t.exports=n},{"../utils":29,"./GenericWorker":25}],22:[function(e,t,i){function n(){r.call(this,"Crc32Probe")}var r=e("./GenericWorker"),a=e("../crc32");e("../utils").inherits(n,r),n.prototype.processChunk=function(e){this.streamInfo.crc32=a(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=n},{"../crc32":4,"../utils":29,"./GenericWorker":25}],23:[function(e,t,i){function n(e){a.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}var r=e("../utils"),a=e("./GenericWorker");r.inherits(n,a),n.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}a.prototype.processChunk.call(this,e)},t.exports=n},{"../utils":29,"./GenericWorker":25}],24:[function(e,t,i){function n(e){a.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}var r=e("../utils"),a=e("./GenericWorker");r.inherits(n,a),n.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},n.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},n.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},n.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=n},{"../utils":29,"./GenericWorker":25}],25:[function(e,t,i){function n(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var i=0;i<this._listeners[e].length;i++)this._listeners[e][i].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=n},{}],26:[function(e,t,i){(function(i){function n(e,t,i){switch(e){case"blob":return s.newBlob(s.transformTo("arraybuffer",t),i);case"base64":return d.encode(t);default:return s.transformTo(e,t)}}function r(e,t){var n,r=0,a=null,o=0;for(n=0;n<t.length;n++)o+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(a=new Uint8Array(o),n=0;n<t.length;n++)a.set(t[n],r),r+=t[n].length;return a;case"nodebuffer":return i.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}function a(e,t){return new m.Promise(function(i,a){var o=[],s=e._internalType,l=e._outputType,u=e._mimeType;e.on("data",function(e,i){o.push(e),t&&t(i)}).on("error",function(e){o=[],a(e)}).on("end",function(){try{var e=n(l,r(s,o),u);i(e)}catch(e){a(e)}o=[]}).resume()})}function o(e,t,i){var n=t;switch(t){case"blob":case"arraybuffer":n="uint8array";break;case"base64":n="string"}try{this._internalType=n,this._outputType=t,this._mimeType=i,s.checkSupport(n),this._worker=e.pipe(new l(n)),e.lock()}catch(e){this._worker=new u("error"),this._worker.error(e)}}var s=e("../utils"),l=e("./ConvertWorker"),u=e("./GenericWorker"),d=e("../base64"),c=e("../nodejs/NodejsStreamOutputAdapter"),m=e("../external");o.prototype={accumulate:function(e){return a(this,e)},on:function(e,t){var i=this;return"data"===e?this._worker.on(e,function(e){t.call(i,e.data,e.meta)}):this._worker.on(e,function(){s.delay(t,arguments,i)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(s.checkSupport("nodestream"),
"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=o}).call(this,"undefined"!=typeof Buffer?Buffer:void 0)},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":35,"../utils":29,"./ConvertWorker":21,"./GenericWorker":25}],27:[function(e,t,i){(function(t){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,i.nodebuffer=void 0!==t,i.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)i.blob=!1;else{var n=new ArrayBuffer(0);try{i.blob=0===new Blob([n],{type:"application/zip"}).size}catch(e){try{var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,a=new r;a.append(n),i.blob=0===a.getBlob("application/zip").size}catch(e){i.blob=!1}}}i.nodestream=!!e("./nodejs/NodejsStreamOutputAdapter").prototype}).call(this,"undefined"!=typeof Buffer?Buffer:void 0)},{"./nodejs/NodejsStreamOutputAdapter":35}],28:[function(e,t,i){function n(){l.call(this,"utf-8 decode"),this.leftOver=null}function r(){l.call(this,"utf-8 encode")}for(var a=e("./utils"),o=e("./support"),s=e("./nodejsUtils"),l=e("./stream/GenericWorker"),u=new Array(256),d=0;d<256;d++)u[d]=d>=252?6:d>=248?5:d>=240?4:d>=224?3:d>=192?2:1;u[254]=u[254]=1;var c=function(e){var t,i,n,r,a,s=e.length,l=0;for(r=0;r<s;r++)i=e.charCodeAt(r),55296==(64512&i)&&r+1<s&&56320==(64512&(n=e.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(n-56320),r++),l+=i<128?1:i<2048?2:i<65536?3:4;for(t=o.uint8array?new Uint8Array(l):new Array(l),a=0,r=0;a<l;r++)i=e.charCodeAt(r),55296==(64512&i)&&r+1<s&&56320==(64512&(n=e.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(n-56320),r++),i<128?t[a++]=i:i<2048?(t[a++]=192|i>>>6,t[a++]=128|63&i):i<65536?(t[a++]=224|i>>>12,t[a++]=128|i>>>6&63,t[a++]=128|63&i):(t[a++]=240|i>>>18,t[a++]=128|i>>>12&63,t[a++]=128|i>>>6&63,t[a++]=128|63&i);return t},m=function(e,t){var i;for(t=t||e.length,t>e.length&&(t=e.length),i=t-1;i>=0&&128==(192&e[i]);)i--;return i<0?t:0===i?t:i+u[e[i]]>t?i:t},p=function(e){var t,i,n,r,o=e.length,s=new Array(2*o);for(i=0,t=0;t<o;)if((n=e[t++])<128)s[i++]=n;else if((r=u[n])>4)s[i++]=65533,t+=r-1;else{for(n&=2===r?31:3===r?15:7;r>1&&t<o;)n=n<<6|63&e[t++],r--;r>1?s[i++]=65533:n<65536?s[i++]=n:(n-=65536,s[i++]=55296|n>>10&1023,s[i++]=56320|1023&n)}return s.length!==i&&(s.subarray?s=s.subarray(0,i):s.length=i),a.applyFromCharCode(s)};i.utf8encode=function(e){return o.nodebuffer?s.newBuffer(e,"utf-8"):c(e)},i.utf8decode=function(e){return o.nodebuffer?a.transformTo("nodebuffer",e).toString("utf-8"):(e=a.transformTo(o.uint8array?"uint8array":"array",e),p(e))},a.inherits(n,l),n.prototype.processChunk=function(e){var t=a.transformTo(o.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var n=t;t=new Uint8Array(n.length+this.leftOver.length),t.set(this.leftOver,0),t.set(n,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var r=m(t),s=t;r!==t.length&&(o.uint8array?(s=t.subarray(0,r),this.leftOver=t.subarray(r,t.length)):(s=t.slice(0,r),this.leftOver=t.slice(r,t.length))),this.push({data:i.utf8decode(s),meta:e.meta})},n.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=n,a.inherits(r,l),r.prototype.processChunk=function(e){this.push({data:i.utf8encode(e.data),meta:e.meta})},i.Utf8EncodeWorker=r},{"./nodejsUtils":12,"./stream/GenericWorker":25,"./support":27,"./utils":29}],29:[function(e,t,i){function n(e){var t=null;return t=l.uint8array?new Uint8Array(e.length):new Array(e.length),a(e,t)}function r(e){return e}function a(e,t){for(var i=0;i<e.length;++i)t[i]=255&e.charCodeAt(i);return t}function o(e){var t=65536,n=i.getTypeOf(e),r=!0;if("uint8array"===n?r=p.applyCanBeUsed.uint8array:"nodebuffer"===n&&(r=p.applyCanBeUsed.nodebuffer),r)for(;t>1;)try{return p.stringifyByChunk(e,n,t)}catch(e){t=Math.floor(t/2)}return p.stringifyByChar(e)}function s(e,t){for(var i=0;i<e.length;i++)t[i]=e[i];return t}var l=e("./support"),u=e("./base64"),d=e("./nodejsUtils"),c=e("asap"),m=e("./external");i.newBlob=function(e,t){i.checkSupport("blob");try{return new Blob([e],{type:t})}catch(i){try{var n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,r=new n;return r.append(e),r.getBlob(t)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(e,t,i){var n=[],r=0,a=e.length;if(a<=i)return String.fromCharCode.apply(null,e);for(;r<a;)"array"===t||"nodebuffer"===t?n.push(String.fromCharCode.apply(null,e.slice(r,Math.min(r+i,a)))):n.push(String.fromCharCode.apply(null,e.subarray(r,Math.min(r+i,a)))),r+=i;return n.join("")},stringifyByChar:function(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);return t},applyCanBeUsed:{uint8array:function(){try{return l.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return l.nodebuffer&&1===String.fromCharCode.apply(null,d.newBuffer(1)).length}catch(e){return!1}}()}};i.applyFromCharCode=o;var h={};h.string={string:r,array:function(e){return a(e,new Array(e.length))},arraybuffer:function(e){return h.string.uint8array(e).buffer},uint8array:function(e){return a(e,new Uint8Array(e.length))},nodebuffer:function(e){return a(e,d.newBuffer(e.length))}},h.array={string:o,array:r,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return d.newBuffer(e)}},h.arraybuffer={string:function(e){return o(new Uint8Array(e))},array:function(e){return s(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:r,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return d.newBuffer(new Uint8Array(e))}},h.uint8array={string:o,array:function(e){return s(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:r,nodebuffer:function(e){return d.newBuffer(e)}},h.nodebuffer={string:o,array:function(e){return s(e,new Array(e.length))},arraybuffer:function(e){return h.nodebuffer.uint8array(e).buffer},uint8array:function(e){return s(e,new Uint8Array(e.length))},nodebuffer:r},i.transformTo=function(e,t){if(t||(t=""),!e)return t;i.checkSupport(e);var n=i.getTypeOf(t);return h[n][e](t)},i.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":l.nodebuffer&&d.isBuffer(e)?"nodebuffer":l.uint8array&&e instanceof Uint8Array?"uint8array":l.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(e){if(!l[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(e){var t,i,n="";for(i=0;i<(e||"").length;i++)t=e.charCodeAt(i),n+="\\x"+(t<16?"0":"")+t.toString(16).toUpperCase();return n},i.delay=function(e,t,i){c(function(){e.apply(i||null,t||[])})},i.inherits=function(e,t){var i=function(){};i.prototype=t.prototype,e.prototype=new i},i.extend=function(){var e,t,i={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===i[t]&&(i[t]=arguments[e][t]);return i},i.prepareContent=function(e,t,r,a,o){var s=null;return s=l.blob&&t instanceof Blob&&"undefined"!=typeof FileReader?new m.Promise(function(e,i){var n=new FileReader;n.onload=function(t){e(t.target.result)},n.onerror=function(e){i(e.target.error)},n.readAsArrayBuffer(t)}):m.Promise.resolve(t),s.then(function(t){var s=i.getTypeOf(t);return s?("arraybuffer"===s?t=i.transformTo("uint8array",t):"string"===s&&(o?t=u.decode(t):r&&!0!==a&&(t=n(t))),t):m.Promise.reject(new Error("The data of '"+e+"' is in an unsupported format !"))})}},{"./base64":1,"./external":6,"./nodejsUtils":12,"./support":27,asap:33}],30:[function(e,t,i){function n(e){this.files=[],this.loadOptions=e}var r=e("./reader/readerFor"),a=e("./utils"),o=e("./signature"),s=e("./zipEntry"),l=(e("./utf8"),e("./support"));n.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug : unexpected signature ("+a.pretty(t)+", expected "+a.pretty(e)+")")}},isSignature:function(e,t){var i=this.reader.index;this.reader.setIndex(e);var n=this.reader.readString(4),r=n===t;return this.reader.setIndex(i),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=l.uint8array?"uint8array":"array",i=a.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(i)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,i,n=this.zip64EndOfCentralSize-44;0<n;)e=this.reader.readInt(2),t=this.reader.readInt(4),i=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)e=new s({zip64:this.zip64},this.loadOptions),e.readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0){throw!this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip : can't find end of central directory")}this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var n=t-i;if(n>0)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=n},{"./reader/readerFor":19,"./signature":20,"./support":27,"./utf8":28,"./utils":29,"./zipEntry":31}],31:[function(e,t,i){function n(e,t){this.options=e,this.loadOptions=t}var r=e("./reader/readerFor"),a=e("./utils"),o=e("./compressedObject"),s=e("./crc32"),l=e("./utf8"),u=e("./compressions"),d=e("./support"),c=function(e){for(var t in u)if(u.hasOwnProperty(t)&&u[t].magic===e)return u[t];return null};n.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,i;if(e.skip(22),this.fileNameLength=e.readInt(2),i=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(i),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=c(this.compressionMethod)))throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===e&&(this.dosPermissions=63&this.externalFileAttributes),3===e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=r(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,i,n,r=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index<r;)t=e.readInt(2),i=e.readInt(2),n=e.readData(i),this.extraFields[t]={id:t,length:i,value:n}},handleUTF8:function(){var e=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=l.utf8decode(this.fileName),this.fileCommentStr=l.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var i=a.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(i)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var r=a.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(r)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)?null:s(this.fileName)!==t.readInt(4)?null:l.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)?null:s(this.fileComment)!==t.readInt(4)?null:l.utf8decode(t.readData(e.length-5))}return null}},t.exports=n},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":19,"./support":27,"./utf8":28,"./utils":29}],32:[function(e,t,i){var n=e("./stream/StreamHelper"),r=e("./stream/DataWorker"),a=e("./utf8"),o=e("./compressedObject"),s=e("./stream/GenericWorker"),l=function(e,t,i){this.name=e,this.dir=i.dir,this.date=i.date,this.comment=i.comment,this.unixPermissions=i.unixPermissions,this.dosPermissions=i.dosPermissions,this._data=t,this._dataBinary=i.binary,this.options={compression:i.compression,compressionOptions:i.compressionOptions}};l.prototype={internalStream:function(e){var t=e.toLowerCase(),i="string"===t||"text"===t;"binarystring"!==t&&"text"!==t||(t="string");var r=this._decompressWorker(),o=!this._dataBinary;return o&&!i&&(r=r.pipe(new a.Utf8EncodeWorker)),!o&&i&&(r=r.pipe(new a.Utf8DecodeWorker)),new n(r,t,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof o&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var i=this._decompressWorker();return this._dataBinary||(i=i.pipe(new a.Utf8EncodeWorker)),o.createWorkerFrom(i,e,t)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof s?this._data:new r(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},c=0;c<u.length;c++)l.prototype[u[c]]=d;t.exports=l},{"./compressedObject":2,"./stream/DataWorker":24,"./stream/GenericWorker":25,"./stream/StreamHelper":26,"./utf8":28}],33:[function(e,t,i){function n(){if(l.length)throw l.shift()}function r(e){var t;t=s.length?s.pop():new a,t.task=e,o(t)}function a(){this.task=null}var o=e("./raw"),s=[],l=[],u=o.makeRequestCallFromTimer(n);t.exports=r,a.prototype.call=function(){try{this.task.call()}catch(e){r.onerror?r.onerror(e):(l.push(e),u())}finally{this.task=null,s[s.length]=this}}},{"./raw":34}],34:[function(e,t,i){(function(e){function i(e){o.length||(a(),s=!0),o[o.length]=e}function n(){for(;l<o.length;){var e=l;if(l+=1,o[e].call(),l>u){for(var t=0,i=o.length-l;t<i;t++)o[t]=o[t+l];o.length-=l,l=0}}o.length=0,l=0,s=!1}function r(e){return function(){function t(){clearTimeout(i),clearInterval(n),e()}var i=setTimeout(t,0),n=setInterval(t,50)}}t.exports=i;var a,o=[],s=!1,l=0,u=1024,d=e.MutationObserver||e.WebKitMutationObserver;a="function"==typeof d?function(e){var t=1,i=new d(e),n=document.createTextNode("");return i.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}(n):r(n),i.requestFlush=a,i.makeRequestCallFromTimer=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],35:[function(e,t,i){},{}],36:[function(e,t,i){function n(){d=!1,s.length?u=s.concat(u):c=-1,u.length&&r()}function r(){if(!d){var e=setTimeout(n);d=!0;for(var t=u.length;t;){for(s=u,u=[];++c<t;)s&&s[c].run();c=-1,t=u.length}s=null,d=!1,clearTimeout(e)}}function a(e,t){this.fun=e,this.array=t}function o(){}var s,l=t.exports={},u=[],d=!1,c=-1;l.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];u.push(new a(e,t)),1!==u.length||d||setTimeout(r,0)},a.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=o,l.addListener=o,l.once=o,l.off=o,l.removeListener=o,l.removeAllListeners=o,l.emit=o,l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],37:[function(t,i,n){(function(n,r){(function(){function a(e){return"function"==typeof e||"object"==typeof e&&null!==e}function o(e){return"function"==typeof e}function s(e){return"object"==typeof e&&null!==e}function l(e){j=e}function u(e){$=e}function d(){return function(){W(m)}}function c(){return function(){setTimeout(m,1)}}function m(){for(var e=0;e<H;e+=2){(0,Q[e])(Q[e+1]),Q[e]=void 0,Q[e+1]=void 0}H=0}function p(){}function h(){return new TypeError("You cannot resolve a promise with itself")}function f(){return new TypeError("A promises callback cannot return that same promise.")}function g(e){try{return e.then}catch(e){return ie.error=e,ie}}function y(e,t,i,n){try{e.call(t,i,n)}catch(e){return e}}function v(e,t,i){$(function(e){var n=!1,r=y(i,t,function(i){n||(n=!0,t!==i?T(e,i):k(e,i))},function(t){n||(n=!0,S(e,t))},"Settle: "+(e._label||" unknown promise"));!n&&r&&(n=!0,S(e,r))},e)}function _(e,t){t._state===ee?k(e,t._result):t._state===te?S(e,t._result):A(t,void 0,function(t){T(e,t)},function(t){S(e,t)})}function w(e,t){if(t.constructor===e.constructor)_(e,t);else{var i=g(t);i===ie?S(e,ie.error):void 0===i?k(e,t):o(i)?v(e,t,i):k(e,t)}}function T(e,t){e===t?S(e,h()):a(t)?w(e,t):k(e,t)}function b(e){e._onerror&&e._onerror(e._result),D(e)}function k(e,t){e._state===X&&(e._result=t,e._state=ee,0!==e._subscribers.length&&$(D,e))}function S(e,t){e._state===X&&(e._state=te,e._result=t,$(b,e))}function A(e,t,i,n){var r=e._subscribers,a=r.length;e._onerror=null,r[a]=t,r[a+ee]=i,r[a+te]=n,0===a&&e._state&&$(D,e)}function D(e){var t=e._subscribers,i=e._state;if(0!==t.length){for(var n,r,a=e._result,o=0;o<t.length;o+=3)n=t[o],r=t[o+i],n?I(i,n,r,a):r(a);e._subscribers.length=0}}function O(){this.error=null}function E(e,t){try{return e(t)}catch(e){return ne.error=e,ne}}function I(e,t,i,n){var r,a,s,l,u=o(i);if(u){if(r=E(i,n),r===ne?(l=!0,a=r.error,r=null):s=!0,t===r)return void S(t,f())}else r=n,s=!0;t._state!==X||(u&&s?T(t,r):l?S(t,a):e===ee?k(t,r):e===te&&S(t,r))}function M(e,t){try{t(function(t){T(e,t)},function(t){S(e,t)})}catch(t){S(e,t)}}function L(e,t){var i=this;i._instanceConstructor=e,i.promise=new e(p),i._validateInput(t)?(i._input=t,i.length=t.length,i._remaining=t.length,i._init(),0===i.length?k(i.promise,i._result):(i.length=i.length||0,i._enumerate(),0===i._remaining&&k(i.promise,i._result))):S(i.promise,i._validationError())}function P(e){return new re(this,e).promise}function C(e){function t(e){T(r,e)}function i(e){S(r,e)}var n=this,r=new n(p);if(!z(e))return S(r,new TypeError("You must pass an array to race.")),r;for(var a=e.length,o=0;r._state===X&&o<a;o++)A(n.resolve(e[o]),void 0,t,i);return r}function x(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var i=new t(p);return T(i,e),i}function F(e){var t=this,i=new t(p);return S(i,e),i}function U(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function R(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function B(e){this._id=ue++,this._state=void 0,this._result=void 0,this._subscribers=[],p!==e&&(o(e)||U(),this instanceof B||R(),M(this,e))}function Y(){var e;if(void 0!==r)e=r;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;t&&"[object Promise]"===Object.prototype.toString.call(t.resolve())&&!t.cast||(e.Promise=de)}var N;N=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var W,j,V,z=N,H=0,$=function(e,t){Q[H]=e,Q[H+1]=t,2===(H+=2)&&(j?j(m):V())},G="undefined"!=typeof window?window:void 0,K=G||{},J=K.MutationObserver||K.WebKitMutationObserver,q=void 0!==n&&"[object process]"==={}.toString.call(n),Z="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Q=new Array(1e3);V=q?function(){return function(){n.nextTick(m)}}():J?function(){var e=0,t=new J(m),i=document.createTextNode("");return t.observe(i,{characterData:!0}),function(){i.data=e=++e%2}}():Z?function(){var e=new MessageChannel;return e.port1.onmessage=m,function(){e.port2.postMessage(0)}}():void 0===G&&"function"==typeof t?function(){try{var e=t,i=e("vertx");return W=i.runOnLoop||i.runOnContext,d()}catch(e){return c()}}():c();var X=void 0,ee=1,te=2,ie=new O,ne=new O;L.prototype._validateInput=function(e){return z(e)},L.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},L.prototype._init=function(){this._result=new Array(this.length)};var re=L;L.prototype._enumerate=function(){for(var e=this,t=e.length,i=e.promise,n=e._input,r=0;i._state===X&&r<t;r++)e._eachEntry(n[r],r)},L.prototype._eachEntry=function(e,t){var i=this,n=i._instanceConstructor;s(e)?e.constructor===n&&e._state!==X?(e._onerror=null,i._settledAt(e._state,t,e._result)):i._willSettleAt(n.resolve(e),t):(i._remaining--,i._result[t]=e)},L.prototype._settledAt=function(e,t,i){var n=this,r=n.promise;r._state===X&&(n._remaining--,e===te?S(r,i):n._result[t]=i),0===n._remaining&&k(r,n._result)},L.prototype._willSettleAt=function(e,t){var i=this;A(e,void 0,function(e){i._settledAt(ee,t,e)},function(e){i._settledAt(te,t,e)})};var ae=P,oe=C,se=x,le=F,ue=0,de=B;B.all=ae,B.race=oe,B.resolve=se,B.reject=le,B._setScheduler=l,B._setAsap=u,B._asap=$,B.prototype={constructor:B,then:function(e,t){var i=this,n=i._state;if(n===ee&&!e||n===te&&!t)return this;var r=new this.constructor(p),a=i._result;if(n){var o=arguments[n-1];$(function(){I(n,r,o,a)})}else A(i,r,e,t);return r},catch:function(e){return this.then(null,e)}};var ce=Y,me={Promise:de,polyfill:ce};"function"==typeof e&&e.amd?e(function(){return me}):void 0!==i&&i.exports?i.exports=me:void 0!==this&&(this.ES6Promise=me),ce()}).call(this)}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:36}],38:[function(e,t,i){var n=e("./lib/utils/common").assign,r=e("./lib/deflate"),a=e("./lib/inflate"),o=e("./lib/zlib/constants"),s={};n(s,r,a,o),t.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,i){function n(e){if(!(this instanceof n))return new n(e);this.options=l.assign({level:h,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var i=s.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(i!==p)throw new Error(d[i]);if(t.header&&s.deflateSetHeader(this.strm,t.header),t.dictionary){var r;if(r="string"==typeof t.dictionary?u.string2buf(t.dictionary):"[object ArrayBuffer]"===m.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(i=s.deflateSetDictionary(this.strm,r))!==p)throw new Error(d[i]);this._dict_set=!0}}function r(e,t){var i=new n(t);if(i.push(e,!0),i.err)throw i.msg;return i.result}function a(e,t){return t=t||{},t.raw=!0,r(e,t)}function o(e,t){return t=t||{},t.gzip=!0,r(e,t)}var s=e("./zlib/deflate"),l=e("./utils/common"),u=e("./utils/strings"),d=e("./zlib/messages"),c=e("./zlib/zstream"),m=Object.prototype.toString,p=0,h=-1,f=0,g=8;n.prototype.push=function(e,t){var i,n,r=this.strm,a=this.options.chunkSize;if(this.ended)return!1;n=t===~~t?t:!0===t?4:0,"string"==typeof e?r.input=u.string2buf(e):"[object ArrayBuffer]"===m.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new l.Buf8(a),r.next_out=0,r.avail_out=a),1!==(i=s.deflate(r,n))&&i!==p)return this.onEnd(i),this.ended=!0,!1;0!==r.avail_out&&(0!==r.avail_in||4!==n&&2!==n)||("string"===this.options.to?this.onData(u.buf2binstring(l.shrinkBuf(r.output,r.next_out))):this.onData(l.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||0===r.avail_out)&&1!==i);return 4===n?(i=s.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===p):2!==n||(this.onEnd(p),r.avail_out=0,!0)},n.prototype.onData=function(e){this.chunks.push(e)},n.prototype.onEnd=function(e){e===p&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},i.Deflate=n,i.deflate=r,i.deflateRaw=a,i.gzip=o},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,i){function n(e){if(!(this instanceof n))return new n(e);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var i=o.inflateInit2(this.strm,t.windowBits);if(i!==u.Z_OK)throw new Error(d[i]);this.header=new m,o.inflateGetHeader(this.strm,this.header)}function r(e,t){var i=new n(t);if(i.push(e,!0),i.err)throw i.msg;return i.result}function a(e,t){return t=t||{},t.raw=!0,r(e,t)}var o=e("./zlib/inflate"),s=e("./utils/common"),l=e("./utils/strings"),u=e("./zlib/constants"),d=e("./zlib/messages"),c=e("./zlib/zstream"),m=e("./zlib/gzheader"),p=Object.prototype.toString;n.prototype.push=function(e,t){var i,n,r,a,d,c,m=this.strm,h=this.options.chunkSize,f=this.options.dictionary,g=!1;if(this.ended)return!1;n=t===~~t?t:!0===t?u.Z_FINISH:u.Z_NO_FLUSH,"string"==typeof e?m.input=l.binstring2buf(e):"[object ArrayBuffer]"===p.call(e)?m.input=new Uint8Array(e):m.input=e,m.next_in=0,m.avail_in=m.input.length;do{if(0===m.avail_out&&(m.output=new s.Buf8(h),m.next_out=0,m.avail_out=h),i=o.inflate(m,u.Z_NO_FLUSH),i===u.Z_NEED_DICT&&f&&(c="string"==typeof f?l.string2buf(f):"[object ArrayBuffer]"===p.call(f)?new Uint8Array(f):f,i=o.inflateSetDictionary(this.strm,c)),i===u.Z_BUF_ERROR&&!0===g&&(i=u.Z_OK,g=!1),i!==u.Z_STREAM_END&&i!==u.Z_OK)return this.onEnd(i),this.ended=!0,!1;m.next_out&&(0!==m.avail_out&&i!==u.Z_STREAM_END&&(0!==m.avail_in||n!==u.Z_FINISH&&n!==u.Z_SYNC_FLUSH)||("string"===this.options.to?(r=l.utf8border(m.output,m.next_out),a=m.next_out-r,d=l.buf2string(m.output,r),m.next_out=a,m.avail_out=h-a,a&&s.arraySet(m.output,m.output,r,a,0),this.onData(d)):this.onData(s.shrinkBuf(m.output,m.next_out)))),0===m.avail_in&&0===m.avail_out&&(g=!0)}while((m.avail_in>0||0===m.avail_out)&&i!==u.Z_STREAM_END);return i===u.Z_STREAM_END&&(n=u.Z_FINISH),n===u.Z_FINISH?(i=o.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===u.Z_OK):n!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),m.avail_out=0,!0)},n.prototype.onData=function(e){this.chunks.push(e)},n.prototype.onEnd=function(e){e===u.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},i.Inflate=n,i.inflate=r,i.inflateRaw=a,i.ungzip=r},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,i){var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;i.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var i=t.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])}}return e},i.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)}
;var r={arraySet:function(e,t,i,n,r){if(t.subarray&&e.subarray)return void e.set(t.subarray(i,i+n),r);for(var a=0;a<n;a++)e[r+a]=t[i+a]},flattenChunks:function(e){var t,i,n,r,a,o;for(n=0,t=0,i=e.length;t<i;t++)n+=e[t].length;for(o=new Uint8Array(n),r=0,t=0,i=e.length;t<i;t++)a=e[t],o.set(a,r),r+=a.length;return o}},a={arraySet:function(e,t,i,n,r){for(var a=0;a<n;a++)e[r+a]=t[i+a]},flattenChunks:function(e){return[].concat.apply([],e)}};i.setTyped=function(e){e?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,r)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(n)},{}],42:[function(e,t,i){function n(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&a))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var i="",n=0;n<t;n++)i+=String.fromCharCode(e[n]);return i}var r=e("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var s=new r.Buf8(256),l=0;l<256;l++)s[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;s[254]=s[254]=1,i.string2buf=function(e){var t,i,n,a,o,s=e.length,l=0;for(a=0;a<s;a++)i=e.charCodeAt(a),55296==(64512&i)&&a+1<s&&56320==(64512&(n=e.charCodeAt(a+1)))&&(i=65536+(i-55296<<10)+(n-56320),a++),l+=i<128?1:i<2048?2:i<65536?3:4;for(t=new r.Buf8(l),o=0,a=0;o<l;a++)i=e.charCodeAt(a),55296==(64512&i)&&a+1<s&&56320==(64512&(n=e.charCodeAt(a+1)))&&(i=65536+(i-55296<<10)+(n-56320),a++),i<128?t[o++]=i:i<2048?(t[o++]=192|i>>>6,t[o++]=128|63&i):i<65536?(t[o++]=224|i>>>12,t[o++]=128|i>>>6&63,t[o++]=128|63&i):(t[o++]=240|i>>>18,t[o++]=128|i>>>12&63,t[o++]=128|i>>>6&63,t[o++]=128|63&i);return t},i.buf2binstring=function(e){return n(e,e.length)},i.binstring2buf=function(e){for(var t=new r.Buf8(e.length),i=0,n=t.length;i<n;i++)t[i]=e.charCodeAt(i);return t},i.buf2string=function(e,t){var i,r,a,o,l=t||e.length,u=new Array(2*l);for(r=0,i=0;i<l;)if((a=e[i++])<128)u[r++]=a;else if((o=s[a])>4)u[r++]=65533,i+=o-1;else{for(a&=2===o?31:3===o?15:7;o>1&&i<l;)a=a<<6|63&e[i++],o--;o>1?u[r++]=65533:a<65536?u[r++]=a:(a-=65536,u[r++]=55296|a>>10&1023,u[r++]=56320|1023&a)}return n(u,r)},i.utf8border=function(e,t){var i;for(t=t||e.length,t>e.length&&(t=e.length),i=t-1;i>=0&&128==(192&e[i]);)i--;return i<0?t:0===i?t:i+s[e[i]]>t?i:t}},{"./common":41}],43:[function(e,t,i){function n(e,t,i,n){for(var r=65535&e|0,a=e>>>16&65535|0,o=0;0!==i;){o=i>2e3?2e3:i,i-=o;do{r=r+t[n++]|0,a=a+r|0}while(--o);r%=65521,a%=65521}return r|a<<16|0}t.exports=n},{}],44:[function(e,t,i){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,i){function n(e,t,i,n){var a=r,o=n+i;e^=-1;for(var s=n;s<o;s++)e=e>>>8^a[255&(e^t[s])];return-1^e}var r=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();t.exports=n},{}],46:[function(e,t,i){function n(e,t){return e.msg=x[t],t}function r(e){return(e<<1)-(e>4?9:0)}function a(e){for(var t=e.length;--t>=0;)e[t]=0}function o(e){var t=e.state,i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(M.arraySet(e.output,t.pending_buf,t.pending_out,i,e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))}function s(e,t){L._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,o(e.strm)}function l(e,t){e.pending_buf[e.pending++]=t}function u(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function d(e,t,i,n){var r=e.avail_in;return r>n&&(r=n),0===r?0:(e.avail_in-=r,M.arraySet(t,e.input,e.next_in,r,i),1===e.state.wrap?e.adler=P(e.adler,t,r,i):2===e.state.wrap&&(e.adler=C(e.adler,t,r,i)),e.next_in+=r,e.total_in+=r,r)}function c(e,t){var i,n,r=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-ue?e.strstart-(e.w_size-ue):0,u=e.window,d=e.w_mask,c=e.prev,m=e.strstart+le,p=u[a+o-1],h=u[a+o];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(i=t,u[i+o]===h&&u[i+o-1]===p&&u[i]===u[a]&&u[++i]===u[a+1]){a+=2,i++;do{}while(u[++a]===u[++i]&&u[++a]===u[++i]&&u[++a]===u[++i]&&u[++a]===u[++i]&&u[++a]===u[++i]&&u[++a]===u[++i]&&u[++a]===u[++i]&&u[++a]===u[++i]&&a<m);if(n=le-(m-a),a=m-le,n>o){if(e.match_start=t,o=n,n>=s)break;p=u[a+o-1],h=u[a+o]}}}while((t=c[t&d])>l&&0!=--r);return o<=e.lookahead?o:e.lookahead}function m(e){var t,i,n,r,a,o=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=o+(o-ue)){M.arraySet(e.window,e.window,o,o,0),e.match_start-=o,e.strstart-=o,e.block_start-=o,i=e.hash_size,t=i;do{n=e.head[--t],e.head[t]=n>=o?n-o:0}while(--i);i=o,t=i;do{n=e.prev[--t],e.prev[t]=n>=o?n-o:0}while(--i);r+=o}if(0===e.strm.avail_in)break;if(i=d(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=i,e.lookahead+e.insert>=se)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+se-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<se)););}while(e.lookahead<ue&&0!==e.strm.avail_in)}function p(e,t){var i=65535;for(i>e.pending_buf_size-5&&(i=e.pending_buf_size-5);;){if(e.lookahead<=1){if(m(e),0===e.lookahead&&t===F)return ve;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+i;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,s(e,!1),0===e.strm.avail_out))return ve;if(e.strstart-e.block_start>=e.w_size-ue&&(s(e,!1),0===e.strm.avail_out))return ve}return e.insert=0,t===B?(s(e,!0),0===e.strm.avail_out?we:Te):(e.strstart>e.block_start&&(s(e,!1),e.strm.avail_out),ve)}function h(e,t){for(var i,n;;){if(e.lookahead<ue){if(m(e),e.lookahead<ue&&t===F)return ve;if(0===e.lookahead)break}if(i=0,e.lookahead>=se&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+se-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-ue&&(e.match_length=c(e,i)),e.match_length>=se)if(n=L._tr_tally(e,e.strstart-e.match_start,e.match_length-se),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=se){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+se-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=L._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(s(e,!1),0===e.strm.avail_out))return ve}return e.insert=e.strstart<se-1?e.strstart:se-1,t===B?(s(e,!0),0===e.strm.avail_out?we:Te):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?ve:_e}function f(e,t){for(var i,n,r;;){if(e.lookahead<ue){if(m(e),e.lookahead<ue&&t===F)return ve;if(0===e.lookahead)break}if(i=0,e.lookahead>=se&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+se-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=se-1,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-ue&&(e.match_length=c(e,i),e.match_length<=5&&(e.strategy===$||e.match_length===se&&e.strstart-e.match_start>4096)&&(e.match_length=se-1)),e.prev_length>=se&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-se,n=L._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-se),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+se-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=se-1,e.strstart++,n&&(s(e,!1),0===e.strm.avail_out))return ve}else if(e.match_available){if(n=L._tr_tally(e,0,e.window[e.strstart-1]),n&&s(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return ve}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=L._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<se-1?e.strstart:se-1,t===B?(s(e,!0),0===e.strm.avail_out?we:Te):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?ve:_e}function g(e,t){for(var i,n,r,a,o=e.window;;){if(e.lookahead<=le){if(m(e),e.lookahead<=le&&t===F)return ve;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=se&&e.strstart>0&&(r=e.strstart-1,(n=o[r])===o[++r]&&n===o[++r]&&n===o[++r])){a=e.strstart+le;do{}while(n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&r<a);e.match_length=le-(a-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=se?(i=L._tr_tally(e,1,e.match_length-se),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=L._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(s(e,!1),0===e.strm.avail_out))return ve}return e.insert=0,t===B?(s(e,!0),0===e.strm.avail_out?we:Te):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?ve:_e}function y(e,t){for(var i;;){if(0===e.lookahead&&(m(e),0===e.lookahead)){if(t===F)return ve;break}if(e.match_length=0,i=L._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(s(e,!1),0===e.strm.avail_out))return ve}return e.insert=0,t===B?(s(e,!0),0===e.strm.avail_out?we:Te):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?ve:_e}function v(e,t,i,n,r){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=n,this.func=r}function _(e){e.window_size=2*e.w_size,a(e.head),e.max_lazy_match=I[e.level].max_lazy,e.good_match=I[e.level].good_length,e.nice_match=I[e.level].nice_length,e.max_chain_length=I[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=se-1,e.match_available=0,e.ins_h=0}function w(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Q,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new M.Buf16(2*ae),this.dyn_dtree=new M.Buf16(2*(2*ne+1)),this.bl_tree=new M.Buf16(2*(2*re+1)),a(this.dyn_ltree),a(this.dyn_dtree),a(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new M.Buf16(oe+1),this.heap=new M.Buf16(2*ie+1),a(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new M.Buf16(2*ie+1),a(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function T(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=Z,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?ce:ge,e.adler=2===t.wrap?0:1,t.last_flush=F,L._tr_init(t),N):n(e,j)}function b(e){var t=T(e);return t===N&&_(e.state),t}function k(e,t){return e&&e.state?2!==e.state.wrap?j:(e.state.gzhead=t,N):j}function S(e,t,i,r,a,o){if(!e)return j;var s=1;if(t===H&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),a<1||a>X||i!==Q||r<8||r>15||t<0||t>9||o<0||o>J)return n(e,j);8===r&&(r=9);var l=new w;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+se-1)/se),l.window=new M.Buf8(2*l.w_size),l.head=new M.Buf16(l.hash_size),l.prev=new M.Buf16(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new M.Buf8(l.pending_buf_size),l.d_buf=l.lit_bufsize>>1,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=o,l.method=i,b(e)}function A(e,t){return S(e,t,Q,ee,te,q)}function D(e,t){var i,s,d,c;if(!e||!e.state||t>Y||t<0)return e?n(e,j):j;if(s=e.state,!e.output||!e.input&&0!==e.avail_in||s.status===ye&&t!==B)return n(e,0===e.avail_out?z:j);if(s.strm=e,i=s.last_flush,s.last_flush=t,s.status===ce)if(2===s.wrap)e.adler=0,l(s,31),l(s,139),l(s,8),s.gzhead?(l(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),l(s,255&s.gzhead.time),l(s,s.gzhead.time>>8&255),l(s,s.gzhead.time>>16&255),l(s,s.gzhead.time>>24&255),l(s,9===s.level?2:s.strategy>=G||s.level<2?4:0),l(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(l(s,255&s.gzhead.extra.length),l(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(e.adler=C(e.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=me):(l(s,0),l(s,0),l(s,0),l(s,0),l(s,0),l(s,9===s.level?2:s.strategy>=G||s.level<2?4:0),l(s,be),s.status=ge);else{var m=Q+(s.w_bits-8<<4)<<8,p=-1;p=s.strategy>=G||s.level<2?0:s.level<6?1:6===s.level?2:3,m|=p<<6,0!==s.strstart&&(m|=de),m+=31-m%31,s.status=ge,u(s,m),0!==s.strstart&&(u(s,e.adler>>>16),u(s,65535&e.adler)),e.adler=1}if(s.status===me)if(s.gzhead.extra){for(d=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>d&&(e.adler=C(e.adler,s.pending_buf,s.pending-d,d)),o(e),d=s.pending,s.pending!==s.pending_buf_size));)l(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>d&&(e.adler=C(e.adler,s.pending_buf,s.pending-d,d)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=pe)}else s.status=pe;if(s.status===pe)if(s.gzhead.name){d=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>d&&(e.adler=C(e.adler,s.pending_buf,s.pending-d,d)),o(e),d=s.pending,s.pending===s.pending_buf_size)){c=1;break}c=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,l(s,c)}while(0!==c);s.gzhead.hcrc&&s.pending>d&&(e.adler=C(e.adler,s.pending_buf,s.pending-d,d)),0===c&&(s.gzindex=0,s.status=he)}else s.status=he;if(s.status===he)if(s.gzhead.comment){d=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>d&&(e.adler=C(e.adler,s.pending_buf,s.pending-d,d)),o(e),d=s.pending,s.pending===s.pending_buf_size)){c=1;break}c=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,l(s,c)}while(0!==c);s.gzhead.hcrc&&s.pending>d&&(e.adler=C(e.adler,s.pending_buf,s.pending-d,d)),0===c&&(s.status=fe)}else s.status=fe;if(s.status===fe&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&o(e),s.pending+2<=s.pending_buf_size&&(l(s,255&e.adler),l(s,e.adler>>8&255),e.adler=0,s.status=ge)):s.status=ge),0!==s.pending){if(o(e),0===e.avail_out)return s.last_flush=-1,N}else if(0===e.avail_in&&r(t)<=r(i)&&t!==B)return n(e,z);if(s.status===ye&&0!==e.avail_in)return n(e,z);if(0!==e.avail_in||0!==s.lookahead||t!==F&&s.status!==ye){var h=s.strategy===G?y(s,t):s.strategy===K?g(s,t):I[s.level].func(s,t);if(h!==we&&h!==Te||(s.status=ye),h===ve||h===we)return 0===e.avail_out&&(s.last_flush=-1),N;if(h===_e&&(t===U?L._tr_align(s):t!==Y&&(L._tr_stored_block(s,0,0,!1),t===R&&(a(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),o(e),0===e.avail_out))return s.last_flush=-1,N}return t!==B?N:s.wrap<=0?W:(2===s.wrap?(l(s,255&e.adler),l(s,e.adler>>8&255),l(s,e.adler>>16&255),l(s,e.adler>>24&255),l(s,255&e.total_in),l(s,e.total_in>>8&255),l(s,e.total_in>>16&255),l(s,e.total_in>>24&255)):(u(s,e.adler>>>16),u(s,65535&e.adler)),o(e),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?N:W)}function O(e){var t;return e&&e.state?(t=e.state.status)!==ce&&t!==me&&t!==pe&&t!==he&&t!==fe&&t!==ge&&t!==ye?n(e,j):(e.state=null,t===ge?n(e,V):N):j}function E(e,t){var i,n,r,o,s,l,u,d,c=t.length;if(!e||!e.state)return j;if(i=e.state,2===(o=i.wrap)||1===o&&i.status!==ce||i.lookahead)return j;for(1===o&&(e.adler=P(e.adler,t,c,0)),i.wrap=0,c>=i.w_size&&(0===o&&(a(i.head),i.strstart=0,i.block_start=0,i.insert=0),d=new M.Buf8(i.w_size),M.arraySet(d,t,c-i.w_size,i.w_size,0),t=d,c=i.w_size),s=e.avail_in,l=e.next_in,u=e.input,e.avail_in=c,e.next_in=0,e.input=t,m(i);i.lookahead>=se;){n=i.strstart,r=i.lookahead-(se-1);do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[n+se-1])&i.hash_mask,i.prev[n&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=n,n++}while(--r);i.strstart=n,i.lookahead=se-1,m(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=se-1,i.match_available=0,e.next_in=l,e.input=u,e.avail_in=s,i.wrap=o,N}var I,M=e("../utils/common"),L=e("./trees"),P=e("./adler32"),C=e("./crc32"),x=e("./messages"),F=0,U=1,R=3,B=4,Y=5,N=0,W=1,j=-2,V=-3,z=-5,H=-1,$=1,G=2,K=3,J=4,q=0,Z=2,Q=8,X=9,ee=15,te=8,ie=286,ne=30,re=19,ae=2*ie+1,oe=15,se=3,le=258,ue=le+se+1,de=32,ce=42,me=69,pe=73,he=91,fe=103,ge=113,ye=666,ve=1,_e=2,we=3,Te=4,be=3;I=[new v(0,0,0,0,p),new v(4,4,8,4,h),new v(4,5,16,8,h),new v(4,6,32,32,h),new v(4,4,16,16,f),new v(8,16,32,32,f),new v(8,16,128,128,f),new v(8,32,128,256,f),new v(32,128,258,1024,f),new v(32,258,258,4096,f)],i.deflateInit=A,i.deflateInit2=S,i.deflateReset=b,i.deflateResetKeep=T,i.deflateSetHeader=k,i.deflate=D,i.deflateEnd=O,i.deflateSetDictionary=E,i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,i){function n(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=n},{}],48:[function(e,t,i){t.exports=function(e,t){var i,n,r,a,o,s,l,u,d,c,m,p,h,f,g,y,v,_,w,T,b,k,S,A,D;i=e.state,n=e.next_in,A=e.input,r=n+(e.avail_in-5),a=e.next_out,D=e.output,o=a-(t-e.avail_out),s=a+(e.avail_out-257),l=i.dmax,u=i.wsize,d=i.whave,c=i.wnext,m=i.window,p=i.hold,h=i.bits,f=i.lencode,g=i.distcode,y=(1<<i.lenbits)-1,v=(1<<i.distbits)-1;e:do{h<15&&(p+=A[n++]<<h,h+=8,p+=A[n++]<<h,h+=8),_=f[p&y];t:for(;;){if(w=_>>>24,p>>>=w,h-=w,0===(w=_>>>16&255))D[a++]=65535&_;else{if(!(16&w)){if(0==(64&w)){_=f[(65535&_)+(p&(1<<w)-1)];continue t}if(32&w){i.mode=12;break e}e.msg="invalid literal/length code",i.mode=30;break e}T=65535&_,w&=15,w&&(h<w&&(p+=A[n++]<<h,h+=8),T+=p&(1<<w)-1,p>>>=w,h-=w),h<15&&(p+=A[n++]<<h,h+=8,p+=A[n++]<<h,h+=8),_=g[p&v];i:for(;;){if(w=_>>>24,p>>>=w,h-=w,!(16&(w=_>>>16&255))){if(0==(64&w)){_=g[(65535&_)+(p&(1<<w)-1)];continue i}e.msg="invalid distance code",i.mode=30;break e}if(b=65535&_,w&=15,h<w&&(p+=A[n++]<<h,(h+=8)<w&&(p+=A[n++]<<h,h+=8)),(b+=p&(1<<w)-1)>l){e.msg="invalid distance too far back",i.mode=30;break e}if(p>>>=w,h-=w,w=a-o,b>w){if((w=b-w)>d&&i.sane){e.msg="invalid distance too far back",i.mode=30;break e}if(k=0,S=m,0===c){if(k+=u-w,w<T){T-=w;do{D[a++]=m[k++]}while(--w);k=a-b,S=D}}else if(c<w){if(k+=u+c-w,(w-=c)<T){T-=w;do{D[a++]=m[k++]}while(--w);if(k=0,c<T){w=c,T-=w;do{D[a++]=m[k++]}while(--w);k=a-b,S=D}}}else if(k+=c-w,w<T){T-=w;do{D[a++]=m[k++]}while(--w);k=a-b,S=D}for(;T>2;)D[a++]=S[k++],D[a++]=S[k++],D[a++]=S[k++],T-=3;T&&(D[a++]=S[k++],T>1&&(D[a++]=S[k++]))}else{k=a-b;do{D[a++]=D[k++],D[a++]=D[k++],D[a++]=D[k++],T-=3}while(T>2);T&&(D[a++]=D[k++],T>1&&(D[a++]=D[k++]))}break}}break}}while(n<r&&a<s);T=h>>3,n-=T,h-=T<<3,p&=(1<<h)-1,e.next_in=n,e.next_out=a,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=a<s?s-a+257:257-(a-s),i.hold=p,i.bits=h}},{}],49:[function(e,t,i){function n(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function r(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new v.Buf16(320),this.work=new v.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function a(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=R,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new v.Buf32(fe),t.distcode=t.distdyn=new v.Buf32(ge),t.sane=1,t.back=-1,I):P}function o(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,a(e)):P}function s(e,t){var i,n;return e&&e.state?(n=e.state,t<0?(i=0,t=-t):(i=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?P:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=i,n.wbits=t,o(e))):P}function l(e,t){var i,n;return e?(n=new r,e.state=n,n.window=null,i=s(e,t),i!==I&&(e.state=null),i):P}function u(e){return l(e,ye)}function d(e){if(ve){var t;for(g=new v.Buf32(512),y=new v.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(b(S,e.lens,0,288,g,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;b(A,e.lens,0,32,y,0,e.work,{bits:5}),ve=!1}e.lencode=g,e.lenbits=9,e.distcode=y,e.distbits=5}function c(e,t,i,n){var r,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new v.Buf8(a.wsize)),n>=a.wsize?(v.arraySet(a.window,t,i-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(r=a.wsize-a.wnext,r>n&&(r=n),v.arraySet(a.window,t,i-n,r,a.wnext),n-=r,n?(v.arraySet(a.window,t,i-n,n,0),a.wnext=n,a.whave=a.wsize):(a.wnext+=r,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=r))),0}function m(e,t){var i,r,a,o,s,l,u,m,p,h,f,g,y,fe,ge,ye,ve,_e,we,Te,be,ke,Se,Ae,De=0,Oe=new v.Buf8(4),Ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return P;i=e.state,i.mode===K&&(i.mode=J),s=e.next_out,a=e.output,u=e.avail_out,o=e.next_in,r=e.input,l=e.avail_in,m=i.hold,p=i.bits,h=l,f=u,ke=I;e:for(;;)switch(i.mode){case R:if(0===i.wrap){i.mode=J;break}for(;p<16;){if(0===l)break e;l--,m+=r[o++]<<p,p+=8}if(2&i.wrap&&35615===m){i.check=0,Oe[0]=255&m,Oe[1]=m>>>8&255,i.check=w(i.check,Oe,2,0),m=0,p=0,i.mode=B;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&m)<<8)+(m>>8))%31){e.msg="incorrect header check",i.mode=me;break}if((15&m)!==U){e.msg="unknown compression method",i.mode=me;break}if(m>>>=4,p-=4,be=8+(15&m),0===i.wbits)i.wbits=be;else if(be>i.wbits){e.msg="invalid window size",i.mode=me;break}i.dmax=1<<be,e.adler=i.check=1,i.mode=512&m?$:K,m=0,p=0;break;case B:for(;p<16;){if(0===l)break e;l--,m+=r[o++]<<p,p+=8}if(i.flags=m,(255&i.flags)!==U){e.msg="unknown compression method",i.mode=me;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=me;break}i.head&&(i.head.text=m>>8&1),512&i.flags&&(Oe[0]=255&m,Oe[1]=m>>>8&255,i.check=w(i.check,Oe,2,0)),m=0,p=0,i.mode=Y;case Y:for(;p<32;){if(0===l)break e;l--,m+=r[o++]<<p,p+=8}i.head&&(i.head.time=m),512&i.flags&&(Oe[0]=255&m,Oe[1]=m>>>8&255,Oe[2]=m>>>16&255,Oe[3]=m>>>24&255,i.check=w(i.check,Oe,4,0)),m=0,p=0,i.mode=N;case N:for(;p<16;){if(0===l)break e;l--,m+=r[o++]<<p,p+=8}i.head&&(i.head.xflags=255&m,i.head.os=m>>8),512&i.flags&&(Oe[0]=255&m,Oe[1]=m>>>8&255,i.check=w(i.check,Oe,2,0)),m=0,p=0,i.mode=W;case W:if(1024&i.flags){for(;p<16;){if(0===l)break e;l--,m+=r[o++]<<p,p+=8}i.length=m,i.head&&(i.head.extra_len=m),512&i.flags&&(Oe[0]=255&m,Oe[1]=m>>>8&255,i.check=w(i.check,Oe,2,0)),m=0,p=0}else i.head&&(i.head.extra=null);i.mode=j;case j:if(1024&i.flags&&(g=i.length,g>l&&(g=l),g&&(i.head&&(be=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),v.arraySet(i.head.extra,r,o,g,be)),512&i.flags&&(i.check=w(i.check,r,g,o)),l-=g,o+=g,i.length-=g),i.length))break e;i.length=0,i.mode=V;case V:if(2048&i.flags){if(0===l)break e;g=0;do{be=r[o+g++],i.head&&be&&i.length<65536&&(i.head.name+=String.fromCharCode(be))}while(be&&g<l);if(512&i.flags&&(i.check=w(i.check,r,g,o)),l-=g,o+=g,be)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=z;case z:if(4096&i.flags){if(0===l)break e;g=0;do{be=r[o+g++],i.head&&be&&i.length<65536&&(i.head.comment+=String.fromCharCode(be))}while(be&&g<l);if(512&i.flags&&(i.check=w(i.check,r,g,o)),l-=g,o+=g,be)break e}else i.head&&(i.head.comment=null);i.mode=H;case H:if(512&i.flags){for(;p<16;){if(0===l)break e;l--,m+=r[o++]<<p,p+=8}if(m!==(65535&i.check)){e.msg="header crc mismatch",i.mode=me;break}m=0,p=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=K;break;case $:for(;p<32;){if(0===l)break e;l--,m+=r[o++]<<p,p+=8}e.adler=i.check=n(m),m=0,p=0,i.mode=G;case G:if(0===i.havedict)return e.next_out=s,e.avail_out=u,e.next_in=o,e.avail_in=l,i.hold=m,i.bits=p,L;e.adler=i.check=1,i.mode=K;case K:if(t===O||t===E)break e;case J:if(i.last){m>>>=7&p,p-=7&p,i.mode=ue;break}for(;p<3;){if(0===l)break e;l--,m+=r[o++]<<p,p+=8}switch(i.last=1&m,m>>>=1,p-=1,3&m){case 0:i.mode=q;break;case 1:if(d(i),i.mode=ie,t===E){m>>>=2,p-=2;break e}break;case 2:i.mode=X;break;case 3:e.msg="invalid block type",i.mode=me}m>>>=2,p-=2;break;case q:for(m>>>=7&p,p-=7&p;p<32;){if(0===l)break e;l--,m+=r[o++]<<p,p+=8}if((65535&m)!=(m>>>16^65535)){e.msg="invalid stored block lengths",i.mode=me;break}if(i.length=65535&m,m=0,p=0,i.mode=Z,t===E)break e;case Z:i.mode=Q;case Q:if(g=i.length){if(g>l&&(g=l),g>u&&(g=u),0===g)break e;v.arraySet(a,r,o,g,s),l-=g,o+=g,u-=g,s+=g,i.length-=g;break}i.mode=K;break;case X:for(;p<14;){if(0===l)break e;l--,m+=r[o++]<<p,p+=8}if(i.nlen=257+(31&m),m>>>=5,p-=5,i.ndist=1+(31&m),m>>>=5,p-=5,i.ncode=4+(15&m),m>>>=4,p-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=me;break}i.have=0,i.mode=ee;case ee:for(;i.have<i.ncode;){for(;p<3;){if(0===l)break e;l--,m+=r[o++]<<p,p+=8}i.lens[Ee[i.have++]]=7&m,m>>>=3,p-=3}for(;i.have<19;)i.lens[Ee[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,Se={bits:i.lenbits},ke=b(k,i.lens,0,19,i.lencode,0,i.work,Se),i.lenbits=Se.bits,ke){e.msg="invalid code lengths set",i.mode=me;break}i.have=0,i.mode=te;case te:for(;i.have<i.nlen+i.ndist;){for(;De=i.lencode[m&(1<<i.lenbits)-1],ge=De>>>24,ye=De>>>16&255,ve=65535&De,!(ge<=p);){if(0===l)break e;l--,m+=r[o++]<<p,p+=8}if(ve<16)m>>>=ge,p-=ge,i.lens[i.have++]=ve;else{if(16===ve){for(Ae=ge+2;p<Ae;){if(0===l)break e;l--,m+=r[o++]<<p,p+=8}if(m>>>=ge,p-=ge,0===i.have){e.msg="invalid bit length repeat",i.mode=me;break}be=i.lens[i.have-1],g=3+(3&m),m>>>=2,p-=2}else if(17===ve){for(Ae=ge+3;p<Ae;){if(0===l)break e;l--,m+=r[o++]<<p,p+=8}m>>>=ge,p-=ge,be=0,g=3+(7&m),m>>>=3,p-=3}else{for(Ae=ge+7;p<Ae;){if(0===l)break e;l--,m+=r[o++]<<p,p+=8}m>>>=ge,p-=ge,be=0,g=11+(127&m),m>>>=7,p-=7}if(i.have+g>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=me;break}for(;g--;)i.lens[i.have++]=be}}if(i.mode===me)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=me;break}if(i.lenbits=9,Se={bits:i.lenbits},ke=b(S,i.lens,0,i.nlen,i.lencode,0,i.work,Se),i.lenbits=Se.bits,ke){e.msg="invalid literal/lengths set",i.mode=me;break}if(i.distbits=6,i.distcode=i.distdyn,Se={bits:i.distbits},ke=b(A,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,Se),i.distbits=Se.bits,ke){e.msg="invalid distances set",i.mode=me;break}if(i.mode=ie,t===E)break e;case ie:i.mode=ne;case ne:if(l>=6&&u>=258){e.next_out=s,e.avail_out=u,e.next_in=o,e.avail_in=l,i.hold=m,i.bits=p,T(e,f),s=e.next_out,a=e.output,u=e.avail_out,o=e.next_in,r=e.input,l=e.avail_in,m=i.hold,p=i.bits,i.mode===K&&(i.back=-1);break}for(i.back=0;De=i.lencode[m&(1<<i.lenbits)-1],ge=De>>>24,ye=De>>>16&255,ve=65535&De,!(ge<=p);){if(0===l)break e;l--,m+=r[o++]<<p,p+=8}if(ye&&0==(240&ye)){for(_e=ge,we=ye,Te=ve;De=i.lencode[Te+((m&(1<<_e+we)-1)>>_e)],ge=De>>>24,ye=De>>>16&255,ve=65535&De,!(_e+ge<=p);){if(0===l)break e;l--,m+=r[o++]<<p,p+=8}m>>>=_e,p-=_e,i.back+=_e}if(m>>>=ge,p-=ge,i.back+=ge,i.length=ve,0===ye){i.mode=le;break}if(32&ye){i.back=-1,i.mode=K;break}if(64&ye){e.msg="invalid literal/length code",i.mode=me;break}i.extra=15&ye,i.mode=re;case re:if(i.extra){for(Ae=i.extra;p<Ae;){if(0===l)break e;l--,m+=r[o++]<<p,p+=8}i.length+=m&(1<<i.extra)-1,m>>>=i.extra,p-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=ae;case ae:for(;De=i.distcode[m&(1<<i.distbits)-1],ge=De>>>24,ye=De>>>16&255,ve=65535&De,!(ge<=p);){if(0===l)break e;l--,m+=r[o++]<<p,p+=8}if(0==(240&ye)){for(_e=ge,we=ye,Te=ve;De=i.distcode[Te+((m&(1<<_e+we)-1)>>_e)],ge=De>>>24,ye=De>>>16&255,ve=65535&De,!(_e+ge<=p);){if(0===l)break e;l--,m+=r[o++]<<p,p+=8}m>>>=_e,p-=_e,i.back+=_e}if(m>>>=ge,p-=ge,i.back+=ge,64&ye){e.msg="invalid distance code",i.mode=me;break}i.offset=ve,i.extra=15&ye,i.mode=oe;case oe:if(i.extra){for(Ae=i.extra;p<Ae;){if(0===l)break e;l--,m+=r[o++]<<p,p+=8}i.offset+=m&(1<<i.extra)-1,m>>>=i.extra,p-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=me;break}i.mode=se;case se:if(0===u)break e;if(g=f-u,i.offset>g){if((g=i.offset-g)>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=me;break}g>i.wnext?(g-=i.wnext,y=i.wsize-g):y=i.wnext-g,g>i.length&&(g=i.length),fe=i.window}else fe=a,y=s-i.offset,g=i.length;g>u&&(g=u),u-=g,i.length-=g;do{a[s++]=fe[y++]}while(--g);0===i.length&&(i.mode=ne);break;case le:if(0===u)break e;a[s++]=i.length,u--,i.mode=ne;break;case ue:if(i.wrap){for(;p<32;){if(0===l)break e;l--,m|=r[o++]<<p,p+=8}if(f-=u,e.total_out+=f,i.total+=f,f&&(e.adler=i.check=i.flags?w(i.check,a,f,s-f):_(i.check,a,f,s-f)),f=u,(i.flags?m:n(m))!==i.check){e.msg="incorrect data check",i.mode=me;break}m=0,p=0}i.mode=de;case de:if(i.wrap&&i.flags){for(;p<32;){if(0===l)break e;l--,m+=r[o++]<<p,p+=8}if(m!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=me;break}m=0,p=0}i.mode=ce;case ce:ke=M;break e;case me:ke=C;break e;case pe:return x;case he:default:return P}return e.next_out=s,e.avail_out=u,e.next_in=o,e.avail_in=l,i.hold=m,i.bits=p,(i.wsize||f!==e.avail_out&&i.mode<me&&(i.mode<ue||t!==D))&&c(e,e.output,e.next_out,f-e.avail_out)?(i.mode=pe,x):(h-=e.avail_in,f-=e.avail_out,e.total_in+=h,e.total_out+=f,i.total+=f,i.wrap&&f&&(e.adler=i.check=i.flags?w(i.check,a,f,e.next_out-f):_(i.check,a,f,e.next_out-f)),e.data_type=i.bits+(i.last?64:0)+(i.mode===K?128:0)+(i.mode===ie||i.mode===Z?256:0),(0===h&&0===f||t===D)&&ke===I&&(ke=F),ke)}function p(e){if(!e||!e.state)return P;var t=e.state;return t.window&&(t.window=null),e.state=null,I}function h(e,t){var i;return e&&e.state?(i=e.state,0==(2&i.wrap)?P:(i.head=t,t.done=!1,I)):P}function f(e,t){var i,n,r=t.length;return e&&e.state?(i=e.state,0!==i.wrap&&i.mode!==G?P:i.mode===G&&(n=1,(n=_(n,t,r,0))!==i.check)?C:c(e,t,r,r)?(i.mode=pe,x):(i.havedict=1,I)):P}var g,y,v=e("../utils/common"),_=e("./adler32"),w=e("./crc32"),T=e("./inffast"),b=e("./inftrees"),k=0,S=1,A=2,D=4,O=5,E=6,I=0,M=1,L=2,P=-2,C=-3,x=-4,F=-5,U=8,R=1,B=2,Y=3,N=4,W=5,j=6,V=7,z=8,H=9,$=10,G=11,K=12,J=13,q=14,Z=15,Q=16,X=17,ee=18,te=19,ie=20,ne=21,re=22,ae=23,oe=24,se=25,le=26,ue=27,de=28,ce=29,me=30,pe=31,he=32,fe=852,ge=592,ye=15,ve=!0;i.inflateReset=o,i.inflateReset2=s,i.inflateResetKeep=a,i.inflateInit=u,i.inflateInit2=l,i.inflate=m,i.inflateEnd=p,i.inflateGetHeader=h,i.inflateSetDictionary=f,i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,i){var n=e("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,i,l,u,d,c,m){
var p,h,f,g,y,v,_,w,T,b=m.bits,k=0,S=0,A=0,D=0,O=0,E=0,I=0,M=0,L=0,P=0,C=null,x=0,F=new n.Buf16(16),U=new n.Buf16(16),R=null,B=0;for(k=0;k<=15;k++)F[k]=0;for(S=0;S<l;S++)F[t[i+S]]++;for(O=b,D=15;D>=1&&0===F[D];D--);if(O>D&&(O=D),0===D)return u[d++]=20971520,u[d++]=20971520,m.bits=1,0;for(A=1;A<D&&0===F[A];A++);for(O<A&&(O=A),M=1,k=1;k<=15;k++)if(M<<=1,(M-=F[k])<0)return-1;if(M>0&&(0===e||1!==D))return-1;for(U[1]=0,k=1;k<15;k++)U[k+1]=U[k]+F[k];for(S=0;S<l;S++)0!==t[i+S]&&(c[U[t[i+S]]++]=S);if(0===e?(C=R=c,v=19):1===e?(C=r,x-=257,R=a,B-=257,v=256):(C=o,R=s,v=-1),P=0,S=0,k=A,y=d,E=O,I=0,f=-1,L=1<<O,g=L-1,1===e&&L>852||2===e&&L>592)return 1;for(var Y=0;;){Y++,_=k-I,c[S]<v?(w=0,T=c[S]):c[S]>v?(w=R[B+c[S]],T=C[x+c[S]]):(w=96,T=0),p=1<<k-I,h=1<<E,A=h;do{h-=p,u[y+(P>>I)+h]=_<<24|w<<16|T|0}while(0!==h);for(p=1<<k-1;P&p;)p>>=1;if(0!==p?(P&=p-1,P+=p):P=0,S++,0==--F[k]){if(k===D)break;k=t[i+c[S]]}if(k>O&&(P&g)!==f){for(0===I&&(I=O),y+=A,E=k-I,M=1<<E;E+I<D&&!((M-=F[E+I])<=0);)E++,M<<=1;if(L+=1<<E,1===e&&L>852||2===e&&L>592)return 1;f=P&g,u[f]=O<<24|E<<16|y-d|0}}return 0!==P&&(u[y+P]=k-I<<24|64<<16|0),m.bits=O,0}},{"../utils/common":41}],51:[function(e,t,i){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,i){function n(e){for(var t=e.length;--t>=0;)e[t]=0}function r(e,t,i,n,r){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=n,this.max_length=r,this.has_stree=e&&e.length}function a(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function o(e){return e<256?ae[e]:ae[256+(e>>>7)]}function s(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function l(e,t,i){e.bi_valid>G-i?(e.bi_buf|=t<<e.bi_valid&65535,s(e,e.bi_buf),e.bi_buf=t>>G-e.bi_valid,e.bi_valid+=i-G):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)}function u(e,t,i){l(e,i[2*t],i[2*t+1])}function d(e,t){var i=0;do{i|=1&e,e>>>=1,i<<=1}while(--t>0);return i>>>1}function c(e){16===e.bi_valid?(s(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function m(e,t){var i,n,r,a,o,s,l=t.dyn_tree,u=t.max_code,d=t.stat_desc.static_tree,c=t.stat_desc.has_stree,m=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,h=t.stat_desc.max_length,f=0;for(a=0;a<=$;a++)e.bl_count[a]=0;for(l[2*e.heap[e.heap_max]+1]=0,i=e.heap_max+1;i<H;i++)n=e.heap[i],a=l[2*l[2*n+1]+1]+1,a>h&&(a=h,f++),l[2*n+1]=a,n>u||(e.bl_count[a]++,o=0,n>=p&&(o=m[n-p]),s=l[2*n],e.opt_len+=s*(a+o),c&&(e.static_len+=s*(d[2*n+1]+o)));if(0!==f){do{for(a=h-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[h]--,f-=2}while(f>0);for(a=h;0!==a;a--)for(n=e.bl_count[a];0!==n;)(r=e.heap[--i])>u||(l[2*r+1]!==a&&(e.opt_len+=(a-l[2*r+1])*l[2*r],l[2*r+1]=a),n--)}}function p(e,t,i){var n,r,a=new Array($+1),o=0;for(n=1;n<=$;n++)a[n]=o=o+i[n-1]<<1;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=d(a[s]++,s))}}function h(){var e,t,i,n,a,o=new Array($+1);for(i=0,n=0;n<N-1;n++)for(se[n]=i,e=0;e<1<<X[n];e++)oe[i++]=n;for(oe[i-1]=n,a=0,n=0;n<16;n++)for(le[n]=a,e=0;e<1<<ee[n];e++)ae[a++]=n;for(a>>=7;n<V;n++)for(le[n]=a<<7,e=0;e<1<<ee[n]-7;e++)ae[256+a++]=n;for(t=0;t<=$;t++)o[t]=0;for(e=0;e<=143;)ne[2*e+1]=8,e++,o[8]++;for(;e<=255;)ne[2*e+1]=9,e++,o[9]++;for(;e<=279;)ne[2*e+1]=7,e++,o[7]++;for(;e<=287;)ne[2*e+1]=8,e++,o[8]++;for(p(ne,j+1,o),e=0;e<V;e++)re[2*e+1]=5,re[2*e]=d(e,5);ue=new r(ne,X,W+1,j,$),de=new r(re,ee,0,V,$),ce=new r(new Array(0),te,0,z,K)}function f(e){var t;for(t=0;t<j;t++)e.dyn_ltree[2*t]=0;for(t=0;t<V;t++)e.dyn_dtree[2*t]=0;for(t=0;t<z;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*J]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function g(e){e.bi_valid>8?s(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function y(e,t,i,n){g(e),n&&(s(e,i),s(e,~i)),P.arraySet(e.pending_buf,e.window,t,i,e.pending),e.pending+=i}function v(e,t,i,n){var r=2*t,a=2*i;return e[r]<e[a]||e[r]===e[a]&&n[t]<=n[i]}function _(e,t,i){for(var n=e.heap[i],r=i<<1;r<=e.heap_len&&(r<e.heap_len&&v(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!v(t,n,e.heap[r],e.depth));)e.heap[i]=e.heap[r],i=r,r<<=1;e.heap[i]=n}function w(e,t,i){var n,r,a,s,d=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*d]<<8|e.pending_buf[e.d_buf+2*d+1],r=e.pending_buf[e.l_buf+d],d++,0===n?u(e,r,t):(a=oe[r],u(e,a+W+1,t),s=X[a],0!==s&&(r-=se[a],l(e,r,s)),n--,a=o(n),u(e,a,i),0!==(s=ee[a])&&(n-=le[a],l(e,n,s)))}while(d<e.last_lit);u(e,J,t)}function T(e,t){var i,n,r,a=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=H,i=0;i<l;i++)0!==a[2*i]?(e.heap[++e.heap_len]=u=i,e.depth[i]=0):a[2*i+1]=0;for(;e.heap_len<2;)r=e.heap[++e.heap_len]=u<2?++u:0,a[2*r]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=o[2*r+1]);for(t.max_code=u,i=e.heap_len>>1;i>=1;i--)_(e,a,i);r=l;do{i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],_(e,a,1),n=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=n,a[2*r]=a[2*i]+a[2*n],e.depth[r]=(e.depth[i]>=e.depth[n]?e.depth[i]:e.depth[n])+1,a[2*i+1]=a[2*n+1]=r,e.heap[1]=r++,_(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],m(e,t),p(a,u,e.bl_count)}function b(e,t,i){var n,r,a=-1,o=t[1],s=0,l=7,u=4;for(0===o&&(l=138,u=3),t[2*(i+1)+1]=65535,n=0;n<=i;n++)r=o,o=t[2*(n+1)+1],++s<l&&r===o||(s<u?e.bl_tree[2*r]+=s:0!==r?(r!==a&&e.bl_tree[2*r]++,e.bl_tree[2*q]++):s<=10?e.bl_tree[2*Z]++:e.bl_tree[2*Q]++,s=0,a=r,0===o?(l=138,u=3):r===o?(l=6,u=3):(l=7,u=4))}function k(e,t,i){var n,r,a=-1,o=t[1],s=0,d=7,c=4;for(0===o&&(d=138,c=3),n=0;n<=i;n++)if(r=o,o=t[2*(n+1)+1],!(++s<d&&r===o)){if(s<c)do{u(e,r,e.bl_tree)}while(0!=--s);else 0!==r?(r!==a&&(u(e,r,e.bl_tree),s--),u(e,q,e.bl_tree),l(e,s-3,2)):s<=10?(u(e,Z,e.bl_tree),l(e,s-3,3)):(u(e,Q,e.bl_tree),l(e,s-11,7));s=0,a=r,0===o?(d=138,c=3):r===o?(d=6,c=3):(d=7,c=4)}}function S(e){var t;for(b(e,e.dyn_ltree,e.l_desc.max_code),b(e,e.dyn_dtree,e.d_desc.max_code),T(e,e.bl_desc),t=z-1;t>=3&&0===e.bl_tree[2*ie[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function A(e,t,i,n){var r;for(l(e,t-257,5),l(e,i-1,5),l(e,n-4,4),r=0;r<n;r++)l(e,e.bl_tree[2*ie[r]+1],3);k(e,e.dyn_ltree,t-1),k(e,e.dyn_dtree,i-1)}function D(e){var t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return x;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return F;for(t=32;t<W;t++)if(0!==e.dyn_ltree[2*t])return F;return x}function O(e){me||(h(),me=!0),e.l_desc=new a(e.dyn_ltree,ue),e.d_desc=new a(e.dyn_dtree,de),e.bl_desc=new a(e.bl_tree,ce),e.bi_buf=0,e.bi_valid=0,f(e)}function E(e,t,i,n){l(e,(R<<1)+(n?1:0),3),y(e,t,i,!0)}function I(e){l(e,B<<1,3),u(e,J,ne),c(e)}function M(e,t,i,n){var r,a,o=0;e.level>0?(e.strm.data_type===U&&(e.strm.data_type=D(e)),T(e,e.l_desc),T(e,e.d_desc),o=S(e),r=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=r&&(r=a)):r=a=i+5,i+4<=r&&-1!==t?E(e,t,i,n):e.strategy===C||a===r?(l(e,(B<<1)+(n?1:0),3),w(e,ne,re)):(l(e,(Y<<1)+(n?1:0),3),A(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),w(e,e.dyn_ltree,e.dyn_dtree)),f(e),n&&g(e)}function L(e,t,i){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&i,e.last_lit++,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(oe[i]+W+1)]++,e.dyn_dtree[2*o(t)]++),e.last_lit===e.lit_bufsize-1}var P=e("../utils/common"),C=4,x=0,F=1,U=2,R=0,B=1,Y=2,N=29,W=256,j=W+1+N,V=30,z=19,H=2*j+1,$=15,G=16,K=7,J=256,q=16,Z=17,Q=18,X=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ee=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],te=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ne=new Array(2*(j+2));n(ne);var re=new Array(2*V);n(re);var ae=new Array(512);n(ae);var oe=new Array(256);n(oe);var se=new Array(N);n(se);var le=new Array(V);n(le);var ue,de,ce,me=!1;i._tr_init=O,i._tr_stored_block=E,i._tr_flush_block=M,i._tr_tally=L,i._tr_align=I},{"../utils/common":41}],53:[function(e,t,i){function n(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=n},{}]},{},[10])(10)}),app.controller("WelcomeController",["$scope","$window","translations",function(e,t,i){!function(){e.contentTemplate=function(){return e.templates.welcome}}(),e.isTimesheet=t.isTimesheet,e.appNameTranslated=i[e.appName]}]);var saveAs=saveAs||function(e){if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document,i=function(){return e.URL||e.webkitURL||e},n=t.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in n,a=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},o=/constructor/i.test(e.HTMLElement)||e.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),l=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},u=function(e){var t=function(){"string"==typeof e?i().revokeObjectURL(e):e.remove()};setTimeout(t,4e4)},d=function(e,t,i){t=[].concat(t);for(var n=t.length;n--;){var r=e["on"+t[n]];if("function"==typeof r)try{r.call(e,i||e)}catch(e){l(e)}}},c=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},m=function(t,l,m){m||(t=c(t));var p,h=this,f=t.type,g="application/octet-stream"===f,y=function(){d(h,"writestart progress write writeend".split(" "))};if(h.readyState=h.INIT,r)return p=i().createObjectURL(t),void setTimeout(function(){n.href=p,n.download=l,a(n),y(),u(p),h.readyState=h.DONE});!function(){if((s||g&&o)&&e.FileReader){var n=new FileReader;return n.onloadend=function(){var t=s?n.result:n.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,h.readyState=h.DONE,y()},n.readAsDataURL(t),void(h.readyState=h.INIT)}if(p||(p=i().createObjectURL(t)),g)e.location.href=p;else{e.open(p,"_blank")||(e.location.href=p)}h.readyState=h.DONE,y(),u(p)}()},p=m.prototype,h=function(e,t,i){return new m(e,t||e.name||"download",i)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,i){return t=t||e.name||"download",i||(e=c(e)),navigator.msSaveOrOpenBlob(e,t)}:(p.abort=function(){},p.readyState=p.INIT=0,p.WRITING=1,p.DONE=2,p.error=p.onwritestart=p.onprogress=p.onwrite=p.onabort=p.onerror=p.onwriteend=null,h)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!==define.amd&&define("FileSaver.js",function(){return saveAs}),app.controller("WorklogDialogController",["$scope","$q","pivottableService","configurationService","$modalInstance","issueKey","worklog","pivotTableType","loggedInUser","jiraConfig",function(e,t,i,n,r,a,o,s,l,u){e.cancel=function(){r.dismiss()},e.closeDialog=function(i){e.loading=!0,i.deferred=t.defer(),r.close(i),i.deferred.promise.then(function(t){e.standaloneDialog&&(AP.events.emitPublic("LoggedTime",t),AP.dialog.close())}).catch(function(){delete e.loading})},e.toggleShowMore=function(){e.showMore=!e.showMore},e.issuePickerOptions={selected:"",issues:[]},e.isTimesheet=window.isTimesheet,e.loggedInUser=l,e.worklog=o,e.standaloneDialog=o.standaloneDialog,e.dialogType=o.initialWorkLabels?o.id?"update":"add":"delete",e.pivotTableType=s,e.jiraConfig=u,e.issueKey=a,e.showMore=e.standaloneDialog||!e.issueKey,e.calculateWorklogDate=function(t){var i=moment();return null!=e.worklogDatetime.date?(i=moment(e.worklogDatetime.date).startOf("day"),null!=e.worklogDatetime.time&&(e.worklogDatetime.time.timePartsToMoment(),i.add(e.worklogDatetime.time.momentTime))):null!=e.worklog.started&&(i=moment(e.worklog.started)),t?i.startOf("day").toDate():i.toDate()};var d=function(e,t,i){var n=moment(TimesheetUtils.convertDate(t,i));e.date=n.toDate(),e.time.momentTime=n,e.time.momentToTimeParts()},c=function(){e.estimatePlaceholder=DrawHelper.getFormattedTime(Math.max(0,(e.timeestimate||0)-TimesheetUtils.getTimeSpentMs(o.timeSpent||0,u)/1e3+(e.worklogTimeSpentSeconds||0))+("delete"===e.dialogType?e.worklogTimeSpentSeconds:0),u,null,"jiraStyle")};if(e.save=function(){if(TimesheetUtils.getFirstLogWorkStarted(e.calculateWorklogDate(),o.timeSpent,u,e.configOptions)<e.allowToLogFromDate)return void TimesheetUtils.showPeriodLocked(e.allowToLogFromDate);e.worklog.date=e.calculateWorklogDate(),e.worklog.started=TimesheetUtils.formatDate(e.worklog.date),e.worklog.timeSpentSeconds=TimesheetUtils.getTimeSpentMs(o.timeSpent,u)/1e3,o.estimateType=o.estimateValue?"new":"auto",e.closeDialog(e.worklog)},e.delete=function(){o.estimateType=o.estimateValue?"new":"auto",e.closeDialog(e.worklog)},angular.extend(o,{estimateType:"auto",estimateValue:""}),n.getUserConfiguration(l).then(function(t){if(t.disableLogWork.val&&e.cancel(),e.workLabelsList=t.workLabels.val,o.initialWorkLabels){var n=Object.keys(o.initialWorkLabels);e.workLabelsList=e.workLabelsList?TimesheetUtils.uniqueArray(e.workLabelsList.concat(n)):n}e.workDescriptionRequired=t.workDescriptionRequired.val,e.visibilityGroup=t.worklogVisibilityGroup.val,e.visibilityRole=t.worklogVisibilityRole.val,e.allowToLogFromDate=t.allowToLogFromDate.val,e.workingTimeInStatus=t.workingTimeInStatus.val,e.configOptions={weekendType:t.weekendType.val,restrictWorkPerDay:t.restrictWorkPerDay.val},i.clearWorklogCache(t)}),e.worklogDatetime={date:"",time:{momentTime:null,timeParts:[],momentToTimeParts:function(){if(null!=this.momentTime){var e=/^(.*?)(\d+):(\d+)(.*?)$/,t=e.exec(this.momentTime.format("LT"));t||(t=e.exec(this.momentTime.locale("en").format("LT")));var i=[],n=""===t[1]&&""===t[4];""!==t[1]&&i.push({value:t[1],step:12}),i.push({value:t[2],step:1,min:n?0:1,max:n?23:12,suffix:":"}),i.push({value:t[3],step:5,min:0,max:59}),""!==t[4]&&i.push({value:t[4],step:12}),this.timeParts=i}},timePartsToMoment:function(){if(null!=this.timeParts){for(var e="",t=0;t<this.timeParts.length;t++)e+=this.timeParts[t].value,null!=this.timeParts[t].suffix&&(e+=this.timeParts[t].suffix);this.momentTime=moment(e,"LT").isValid()?moment(e,"LT"):moment(e,"LT","en")}}}},e.groups=l.groups,e.$watch("worklog.issueKey",function(t){if(t){if(!e.worklog.user&&"delete"!==e.dialogType){var r=t.split("-")[0];i.isProjectAdmin(r).then(function(t){t?n.getCurrentMemberProjectRoles(r).then(function(t){e.roles=t}):e.roles=null})}i.findIssueByKey(t,{_fields:"timespent,timeestimate,timeoriginalestimate"}).then(function(t){e.timeestimate=t.fields.timeestimate,e.originalEstimate=DrawHelper.getFormattedTime(t.fields.timeoriginalestimate,u),e.timeestimatePretty=DrawHelper.getFormattedTime(e.timeestimate,u,null,"jiraStyle"),e.timespentPretty=DrawHelper.getFormattedTime(t.fields.timespent,u),c()})}}),e.changeDate=function(){e.worklogDatetime.dateChanged=!0},e.$watch("worklog.timeSpent",function(){if(c(),!e.worklog.id&&TimesheetUtils.sameDay(moment(o.started).toDate(),new Date)&&!e.worklogDatetime.time.changed&&!e.worklogDatetime.dateChanged){var t=Math.min(TimesheetUtils.getCurrentTimeMs()/1e3,60*(e.workingTimeInStatus.from||9)*60),i=TimesheetUtils.getTimeSpentMs(o.timeSpent||0,u)/1e3;d(e.worklogDatetime,moment(o.started).startOf("day").add(Math.max(t,TimesheetUtils.getCurrentTimeMs()/1e3-i),"seconds").toJSON(),null)}}),e.$watch("worklog.estimateValue",c),null!=o.id)i.getWorklog(o.issueKey,o.id).then(function(t){t.visibilityGroup=t.visibility&&"group"===t.visibility.type?t.visibility.value:"",t.visibilityRole=t.visibility&&"role"===t.visibility.type?t.visibility.value:"",angular.extend(e.worklog,t);var i=t.author?t.author.timeZone:null;d(e.worklogDatetime,t.started,i),e.worklogTimeSpentSeconds=t.timeSpentSeconds||0,e.calculateWorklogDate()<e.allowToLogFromDate&&(TimesheetUtils.showPeriodLocked(e.allowToLogFromDate),e.cancel())});else{e.$watch("visibilityGroup",function(t){if(e.worklog.visibilityGroup=null,t)for(var i=t.split(","),n=0;n<e.groups.items.length;n++){var r=e.groups.items[n].name;if(i.indexOf(r)>=0){e.worklog.visibilityGroup=r;break}}});var m;e.$watch("visibilityRole",function(t){if(t){var i=t.split(",");m&&m(),m=e.$watch("roles",function(t){if(e.worklog.visibilityRole=null,t)for(var n in t)if(i.indexOf(n)>=0){e.worklog.visibilityRole=n;break}})}}),d(e.worklogDatetime,o.started,null),e.worklogDatetime.time.changed=null!=o.timeSpentSeconds}e.standaloneDialog&&(AP.events.on("dialog.submit",e.save),AP.dialog.disableCloseOnSubmit())}]),app.filter("prettyHours",[function(){return function(e,t,i){var n=e&&angular.isObject(e)?e.sum:parseInt(e)||0;return n?DrawHelper.getFormattedTime(n,t||{},i):""}}]),app.filter("time",["$sce",function(e){return function(t){var i=t&&angular.isObject(t)&&t.hasOwnProperty("value")?t.value:t;return i?e.trustAsHtml(moment(i).format("LT")):""}}]),app.filter("timeago",[function(){return function(e){var t=moment(e);return t.isValid()?t.fromNow():e}}]),app.filter("originalEstimateRemainingLozenge",["$sce",function(e){return function(t,i){var n,r="aui-lozenge";if(t.issue)t.issue.fields.resolution||(r+=" aui-lozenge-subtle"),n=t.issue.fields.timeoriginalestimate;else{n=0;for(var a=0;a<t.entries.length;a++){var o=t.entries[a].rowKey.issue||t.entries[a].rowKey._issue;o.fields.resolution||(r+=" aui-lozenge-subtle"),n+=o.fields.timeoriginalestimate}}var s=angular.isObject(t.value)?t.value.value:t.value;if(s<0){r+=Math.round(100*-s/n)>50?" aui-lozenge-error":" aui-lozenge-current"}else r+=" aui-lozenge-success";var l=DrawHelper.getFormattedTime(s,i),u=s?'<div class="'+r+'">'+l+"</div>":"&nbsp;";return e.trustAsHtml(u)}}]),app.filter("timeTracking",["$sce",function(e){return function(t){var i=t.value||t;if(i.timespent+i.estimate===0)return e.trustAsHtml("&nbsp;");var n=Math.round(100*i.timespent/(i.estimate+i.timespent)),r=100-n,a='<table cellpadding="0" cellspacing="0" border="0"><tr><td style="padding: 0; margin: 0"><table border="0" style="font-size: 5px; width: 100px" cellpadding="0" cellspacing="0"><tr>'+(n>0?'<td style="width:'+n+'%; background-color: #51a825;">&nbsp;</td>':"")+(r>0?'<td style="width:'+r+'%; background-color: #ec8e00;">&nbsp;</td>':"")+'</tr></table></td><td style="margin: 0; padding: 0 0 0 5px">'+n+"%</td></tr></table>";return e.trustAsHtml(a)}}]),app.filter("max",[function(){return function(e,t){var i=e&&angular.isObject(e)?e.sum:parseInt(e)||0;return Math.max(t,i)}}]),app.filter("htmlSafe",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]),app.filter("currency",["$sce",function(e){return function(t,i){return e.trustAsHtml((DrawHelper.escapeHtml(i)||"")+parseFloat(parseFloat(t&&angular.isObject(t)?t.sum:t||0).toFixed(2)).toLocaleString())}}]),angular.module("angular-i18n",["ng"]).provider("$i18n",[function(){return{_fileURL:"/i18n/|LANG|.json",_fileURLLanguageToken:/\|LANG\|/,_fileURLPartToken:/\|PART\|/,_allowPartialFileLoading:!1,_useBaseHrefTag:!1,_baseHref:"",_defaultLanguage:"en-US",_language:null,_fallback:null,_debug:!1,_onTranslationFailed:null,get allowPartialFileLoading(){return this._allowPartialFileLoading},set allowPartialFileLoading(e){return this._allowPartialFileLoading=e,this},get baseHref(){return this._baseHref},get debug(){return this._debug},set debug(e){return this._debug=e,this},get defaultLanguage(){return this._defaultLanguage},set defaultLanguage(e){return this._defaultLanguage=e,this},get fallback(){return this._fallback},set fallback(e){return this._fallback=e,this},get fileURL(){return this._fileURL},set fileURL(e){return this._fileURL=e,this},get fileURLLanguageToken(){return this._fileURLLanguageToken},set fileURLLanguageToken(e){return this._fileURLLanguageToken=e,this},get fileURLPartToken(){return this._fileURLPartToken},set fileURLPartToken(e){return this._fileURLPartToken=e,this},get language(){return this._language},set language(e){return this._language=e,this},get onTranslationFailed(){return this._onTranslationFailed},set onTranslationFailed(e){if(!(null===e||e&&"[object Function]"=={}.toString.call(e)))throw new TypeError("the argument func of displayUntranslated(func) must be a function");return this._onTranslationFailed=e,this},get useBaseHrefTag(){return this._useBaseHrefTag},set useBaseHrefTag(e){if(this._useBaseHrefTag=e,this._useBaseHrefTag){var t=document.getElementsByTagName("base");t.length>0&&(this._baseHref=t[0].href)}else this._baseHref="";return this},$get:["$http","$rootScope","$window","$q","$log",function(e,t,i,n,r){var a=this;return{_dictionary:{},_promises:{},get debug(){return a.debug},set debug(e){return a.debug=e,this},get language(){return a.language||i.navigator.userLanguage||i.navigator.language||a.defaultLanguage},set language(e){return a.language=e,this},get onTranslationFailed(){return a.onTranslationFailed},set onTranslationFailed(e){return a.onTranslationFailed=e,this},_checkSectionParameter:function(e){if(e=angular.isDefined(e)&&null!==e?e:"all",!angular.isString(e))throw new Error("section parameter must be of type string");if(!a.allowPartialFileLoading&&"all"!==e)throw new Error("Partial loading has been disabled by the provider.");return e},_getLanguageAndTranslate:function(e,t,i){return this._translate(e,this.language,t,i)},_translate:function(e,t,i,n){var r;if(void 0===e||null===e)return"";if(i=this._checkSectionParameter(i),n=n||[],this._dictionary&&this._dictionary[t]){if(this.isTranslationLoading(t,i))return null;if(!this.hasDictionary(t,i))throw new Error("The section you are trying to access does not exist");if(!this.isTranslationLoaded(t,i))throw new Error("The section you are trying to access does not exist");if(!this.hasTranslation(t,i,e))throw new Error("The translation for '"+e+"' in the section '"+i+"' for '"+t+"' does not exist");r=this._dictionary[t].sections[i].translation?this._dictionary[t].sections[i].translation[e]:null}else a.fallback&&"object"==typeof a.fallback&&a.fallback[e]&&(r=a.fallback[e]);return r=null===r?vsprintf(e,n):vsprintf(r,n)},hasDictionary:function(e,t){return this.isTranslationLoaded(e,t)},hasTranslation:function(e,t,i){return this.isTranslationLoaded(e,t)&&null!==this._dictionary[e].sections[t].translation&&(angular.isDefined(i)?void 0!==this._dictionary[e].sections[t].translation[i]:null!==this._dictionary[e].sections[t].translation)},isTranslationLoading:function(e,t){return this._dictionary[e]&&this._dictionary[e].sections[t]&&!0===this._dictionary[e].sections[t].loading},isTranslationLoaded:function(e,t){return this._dictionary[e]&&this._dictionary[e].sections[t]&&!0===this._dictionary[e].sections[t].loaded},addTranslation:function(e,t,i){if(!a.allowPartialFileLoading&&"all"!==i)throw new Error("Partial loading has been disabled by the provider.");this._dictionary[e]||(this._dictionary[e]={sections:{}}),this._promises[e]||(this._promises[e]={sections:{}}),this._loadTranslationFileSucceed(t,e,i)},removeTranslation:function(e,t){if(t=angular.isDefined(t)&&null!==t?t:"all",a.allowPartialFileLoading){if(!this.isTranslationLoaded(e,t))return}else if("all"!==t)throw new Error("removeTranslation: You cannot pass a section when not allowing partial file loading with allowPartialFileLoading()");delete this._dictionary[e].sections[t]},switchTranslation:function(e,t){t=angular.isDefined(t)&&null!==t?t:"all",this.language=e,this.loadTranslation(e,t)},loadTranslation:function(t,i){var r,o,s=this;if(i=this._checkSectionParameter(i),!this._dictionary[t]||!this._dictionary[t].sections[i]||!0!==this._dictionary[t].sections[i].loading&&!0!==this._dictionary[t].sections[i].loaded){this._dictionary[t]||(this._dictionary[t]={sections:{}}),this._dictionary[t].sections[i]={loaded:!1,loading:!0,translation:null},this._promises[t]||(this._promises[t]={sections:{}}),this._promises[t].sections[i]||(this._promises[t].sections[i]={}),r=n.defer(),o=r.promise,o.success=function(e){return o.then(e),o},o.error=function(e){return o.then(null,e),o};var l=function(t,i,n){var o;if(angular.isArray(a._fileURL)?(n=angular.isDefined(n)?n:0,o=a._fileURL[n]):o=a._fileURL,o=o.replace(a._fileURLLanguageToken,t.replace("-","_")),a._allowPartialFileLoading){if(!a._fileURLPartToken.test(o))throw new Error("The file URL hasn't defined a token for partial loading");o=o.replace(a._fileURLPartToken,i)}return o=a.baseHref+o,e({method:"GET",url:o,cache:!1}).then(function(e){r.resolve(),s._loadTranslationFileSucceed(e.data,t,i)},function(){if(angular.isNumber(n)&&n++,"string"==typeof a._fileURL||n===a._fileURL.length){s._dictionary[t].sections[i].loaded=!0,s._dictionary[t].sections[i].loading=!1,s._dictionary[t].sections[i].translation=null,r.reject("Could not reach any of the provided URL's");var e=angular.isArray(a._fileURL)?a._fileURL.join(", "):a._fileURL;for(var o in s._promises[t].sections[i])s._promises[t].sections[i].hasOwnProperty(o)&&(s._promises[t].sections[i][o].deferrer.reject("Could not load translation files from "+e),delete s._promises[t].sections[i][o])}else l(t,i,n)})};return l(t,i),o}},_loadTranslationFileSucceed:function(e,i,n){var a,o=this;if(n=this._checkSectionParameter(n),o._dictionary[i].sections[n]={loading:!1,loaded:!0,translation:e},o._promises[i]&&o._promises[i]&&o._promises[i].sections[n])for(var s in o._promises[i].sections[n])if(o._promises[i].sections[n].hasOwnProperty(s)){try{a=o._translate.apply(o,o._promises[i].sections[n][s].arguments),o._promises[i].sections[n][s].deferrer.resolve(a)}catch(e){o._promises[i].sections[n][s].deferrer.reject(e.message),r.error(e)}delete o._promises[i].sections[n][s]}t.$broadcast("i18n.file.loaded",i,n,e)},translate:function(e,t,i){var a=this;t=this._checkSectionParameter(t);var o=a.language,s=null;Array.prototype.slice.call(arguments).splice(1,0,o);var l=function(e,t,i,r,o){o=void 0!==o&&o;var s=null,l=null;return a._promises[t]&&a._promises[t].sections[i]&&a._promises[t].sections[i][e]?a._promises[t].sections[i][e].deferrer:(s=n.defer(),l=s.promise,l.success=function(e){return l.then(e),l},l.error=function(e){return l.then(null,e),l},o||(a._promises[t].sections[i][e]={arguments:arguments,deferrer:s}),s)};if(""===e){var u=l(e,o,t,i,!0);return u.reject("No translation IDs were provided"),u.promise}if(this._dictionary[o]&&this._dictionary[o].sections[t]&&(this._dictionary[o].sections[t].loading||this._dictionary[o].sections[t].loaded)||this.loadTranslation(o,t),this._dictionary[o].sections[t].loading)return l(e,o,t,i).promise;if(this._dictionary[o]&&!this._dictionary[o].sections[t].loading&&this._dictionary[o].sections[t].loaded){if(s=l(e,o,t,i,!0),null===this._dictionary[o].sections[t].translation||"object"!=typeof this._dictionary[o].sections[t].translation)s.reject("The translation file doesn't exist");else{var d;try{d=a._translate(e,o,t,i),s.resolve(d)}catch(e){s.reject(e.message),r.error(e)}}return s.promise}}}}]}}]).filter("i18n",["$i18n","$sce","$compile","$log",function(e,t,i,n){var r=function(i,r){if(i&&!angular.isString(i))throw new Error("i18n filter error: The translation id must be a string");if(r=r||{},angular.isDefined(r)){if(angular.isDefined(r.section)&&!angular.isString(r.section))throw new Error("i18n filter error: The section id must be a string");if(angular.isDefined(r.placeholders)&&"[object Array]"!==Object.prototype.toString.call(r.placeholders))throw new Error("i18n filter error: The placeholders must be an array")}e.loadTranslation(e.language,r.section,r.placeholders);try{var a=e._getLanguageAndTranslate.call(e,i,r.section,r.placeholders)}catch(o){if(!e.debug||!e.onTranslationFailed)throw o;a=t.trustAsHtml(e.onTranslationFailed(e.language,i,r.section,r.placeholders)),n.error(o)}return a};return r.$stateful=!0,r}]).directive("i18n",["$i18n","$compile","$log",function(e,t,i){return{scope:{i18n:"=",i18nParameters:"=?"},priority:0,restrict:"A",link:function(n,r,a){n.i18nParameters=angular.extend({},n.i18nParameters),e.translate(n.i18n,n.i18nParameters.section,n.i18nParameters.placeholders).success(function(e){r.text(e)}).error(function(a){if(!e.debug||!e.onTranslationFailed)throw new Error(a);var o=e.onTranslationFailed(e.language,n.i18n,n.i18nParameters.section,n.i18nParameters.placeholders);r.html(o),t(o,n),i.error(a)})}}}]);var appBaseModule=angular.module("appBase",["ngRoute","angular-i18n","aui","talis.services.logging","configuration","directives"]);appBaseModule.config(["$httpProvider","$provide","$qProvider","$i18nProvider",function(e,t,i,n){t.factory("authHttpInterceptor",["$window","$q",function(t,i){var n,r="&"+t.location.search.substring(1),a=getUrlParam(r,"&v");return{request:function(r){if("3"===a&&(!n||Date.now()-n>84e4)){n=Date.now();var o=i.defer();return AP.context.getToken(function(i){t.atlToken=i,e.defaults.headers.common.Authorization="JWT "+i,r.headers.Authorization="JWT "+i,o.resolve(r)}),r.url.match(/^\/api/)||o.resolve(r),o.promise}return r},responseError:function(e){return 401===e.status&&AP.flag.create({title:"Authentication expired",body:"Reload page to restore communication with backend",type:"error"}),i.reject(e)}}}]),t.factory("urlRewriteHttpInterceptor",["$window",function(e){return{request:function(t){var i=t.url.match(/^\/?(.+?)\/(.+?)\.json/);return i&&"i18n"===i[1]&&(["ru_RU","fr_FR","de_DE","es_ES"].indexOf(i[2])<0?t.url=e.i18nDefault:t.url+=e.b),t}}}]),e.interceptors.push("authHttpInterceptor","urlRewriteHttpInterceptor"),n.language=window.loggedInUserLocale,window.deployedDate&&(i.errorOnUnhandledRejections(!1),n.debug=!0,n.onTranslationFailed=function(e,t){return t})}]),appBaseModule.run(["$rootScope","$window","$http","$injector","applicationLoggingService",function(e,t,i,n,r){r.flush(),e.deployedDate=t.deployedDate,e.initOnErrorPopup=function(e){var i=n.get("configurationService");n.get("loggedInUser").then(function(n){i.getUserConfiguration(n).then(function(a){r.trace("mailer url, ignore?",[t.mailerUrl,a.onErrorIgnore.val]),t.mailerUrl&&!a.onErrorIgnore.val&&(t.$onErrorPopup=e.dialog,e.scope.onErrorDialog=function(){$onErrorPopup.hide();var e={errorMessage:$onErrorPopup.data("errorMessage"),stackTrace:$onErrorPopup.data("stackTrace"),options:$onErrorPopup.data("options"),routeParams:$onErrorPopup.data("routeParams")};TimesheetUtils.screenshot(function(t,i){e.screenshot=t,e.error=i,AP.dialog.create({key:"bitbucket",width:"700px",height:"400px",chrome:!0,header:"Report Problem",submitText:"Submit",customData:e})})},e.scope.onErrorIgnore=function(){i.saveUserPreferences({key:"onErrorIgnore",val:!0},n).then(function(){t.$onErrorPopup.hide(),delete t.$onErrorPopup})})})})},e.contactSupport=function(){var t=angular.copy(e.customData)||{};TimesheetUtils.screenshot(function(e,i){t.screenshot=e,i&&(t.error=JSON.parse(JSON.stringify(i))),AP.dialog.create({key:"bitbucket",width:"720px",height:"400px",chrome:!0,header:"Contact Support",submitText:"Submit",customData:t})})}}]);var getParam=function(e,t,i){var n=t.defer();return window.AP.getLocation(function(t){var r=getUrlParam(t,e);n.resolve(angular.isFunction(i)?i(r):r)}),n.promise},getUrlParam=function(e,t){var i,n=e.split(t+"=")[1];return angular.isDefined(n)&&(i=n.split(/&|#!/)[0]||""),i};appBaseModule.factory("projectKey",["$q",function(e){return getParam("project.key",e)}]),appBaseModule.factory("externalFilter",["$q",function(e){return getParam("filter",e)}]),appBaseModule.factory("jql",["$q",function(e){return getParam("jql",e,function(e){return angular.isDefined(e)?decodeURIComponent(TimesheetUtils.replaceAll(e,"+"," ")):e})}]),appBaseModule.factory("timesheetParams",["$q","$routeParams",function(e,t){var i=e.defer();return window.AP.getLocation(function(e){var n=e.split("#!");i.resolve(2===n.length?TimesheetUtils.parseParams(n[1]):t)}),i.promise}]),appBaseModule.factory("loggedInUser",["$q","pivottableService","configurationService",function(e,t,i){return e.all([t.getMyself(),t.isAdministrator()]).then(function(e){var t=e[0];return moment.locale(t.locale),t.isAdministrator=e[1],t})}]),appBaseModule.service("apService",[function(){}]),function(e,t){
var i="model",n="name",r="type",a="vendor",o="version",s="mobile",l="tablet",u="smarttv",d={extend:function(e,t){var i={};for(var n in e)t[n]&&t[n].length%2==0?i[n]=t[n].concat(e[n]):i[n]=e[n];return i},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},c={rgx:function(e,t){for(var i,n,r,a,o,s,l=0;l<t.length&&!o;){var u=t[l],d=t[l+1];for(i=n=0;i<u.length&&!o;)if(o=u[i++].exec(e))for(r=0;r<d.length;r++)s=o[++n],a=d[r],"object"==typeof a&&a.length>0?2==a.length?"function"==typeof a[1]?this[a[0]]=a[1].call(this,s):this[a[0]]=a[1]:3==a.length?"function"!=typeof a[1]||a[1].exec&&a[1].test?this[a[0]]=s?s.replace(a[1],a[2]):void 0:this[a[0]]=s?a[1].call(this,s,a[2]):void 0:4==a.length&&(this[a[0]]=s?a[3].call(this,s.replace(a[1],a[2])):void 0):this[a]=s||void 0;l+=2}},str:function(e,t){for(var i in t)if("object"==typeof t[i]&&t[i].length>0){for(var n=0;n<t[i].length;n++)if(d.has(t[i][n],e))return"?"===i?void 0:i}else if(d.has(t[i],e))return"?"===i?void 0:i;return e}},m={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},p={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[n,o],[/(opios)[\/\s]+([\w\.]+)/i],[[n,"Opera Mini"],o],[/\s(opr)\/([\w\.]+)/i],[[n,"Opera"],o],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[n,o],[/(konqueror)\/([\w\.]+)/i],[[n,"Konqueror"],o],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[n,"IE"],o],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[n,"Edge"],o],[/(yabrowser)\/([\w\.]+)/i],[[n,"Yandex"],o],[/(Avast)\/([\w\.]+)/i],[[n,"Avast Secure Browser"],o],[/(AVG)\/([\w\.]+)/i],[[n,"AVG Secure Browser"],o],[/(puffin)\/([\w\.]+)/i],[[n,"Puffin"],o],[/(focus)\/([\w\.]+)/i],[[n,"Firefox Focus"],o],[/(opt)\/([\w\.]+)/i],[[n,"Opera Touch"],o],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[n,"UCBrowser"],o],[/(comodo_dragon)\/([\w\.]+)/i],[[n,/_/g," "],o],[/(windowswechat qbcore)\/([\w\.]+)/i],[[n,"WeChat(Win) Desktop"],o],[/(micromessenger)\/([\w\.]+)/i],[[n,"WeChat"],o],[/(brave)\/([\w\.]+)/i],[[n,"Brave"],o],[/(qqbrowserlite)\/([\w\.]+)/i],[n,o],[/(QQ)\/([\d\.]+)/i],[n,o],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[n,o],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],[n,o],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[n,o],[/(MetaSr)[\/\s]?([\w\.]+)/i],[n],[/(LBBROWSER)/i],[n],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[o,[n,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[o,[n,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[n,o],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[o,[n,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[n,/(.+)/,"$1 WebView"],o],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[n,/(.+(?:g|us))(.+)/,"$1 $2"],o],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[o,[n,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[n,"Sailfish Browser"],o],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[n,o],[/(dolfin)\/([\w\.]+)/i],[[n,"Dolphin"],o],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[n,"360 Browser"]],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[n,"Chrome"],o],[/(coast)\/([\w\.]+)/i],[[n,"Opera Coast"],o],[/fxios\/([\w\.-]+)/i],[o,[n,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[o,[n,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[o,n],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[n,"GSA"],o],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[n,[o,c.str,m.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[n,o],[/(navigator|netscape)\/([\w\.-]+)/i],[[n,"Netscape"],o],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[n,o]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",d.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",d.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",d.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[i,a,[r,l]],[/applecoremedia\/[\w\.]+ \((ipad)/],[i,[a,"Apple"],[r,l]],[/(apple\s{0,1}tv)/i],[[i,"Apple TV"],[a,"Apple"],[r,u]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[a,i,[r,l]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[i,[a,"Amazon"],[r,l]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[i,c.str,m.device.amazon.model],[a,"Amazon"],[r,s]],[/android.+aft([bms])\sbuild/i],[i,[a,"Amazon"],[r,u]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[i,a,[r,s]],[/\((ip[honed|\s\w*]+);/i],[i,[a,"Apple"],[r,s]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[a,i,[r,s]],[/\(bb10;\s(\w+)/i],[i,[a,"BlackBerry"],[r,s]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[i,[a,"Asus"],[r,l]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[a,"Sony"],[i,"Xperia Tablet"],[r,l]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[i,[a,"Sony"],[r,s]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[a,i,[r,"console"]],[/android.+;\s(shield)\sbuild/i],[i,[a,"Nvidia"],[r,"console"]],[/(playstation\s[34portablevi]+)/i],[i,[a,"Sony"],[r,"console"]],[/(sprint\s(\w+))/i],[[a,c.str,m.device.sprint.vendor],[i,c.str,m.device.sprint.model],[r,s]],[/(htc)[;_\s-]+([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[a,[i,/_/g," "],[r,s]],[/(nexus\s9)/i],[i,[a,"HTC"],[r,l]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p|vog-l29|ane-lx1|eml-l29)/i],[i,[a,"Huawei"],[r,s]],[/android.+(bah2?-a?[lw]\d{2})/i],[i,[a,"Huawei"],[r,l]],[/(microsoft);\s(lumia[\s\w]+)/i],[a,i,[r,s]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[i,[a,"Microsoft"],[r,"console"]],[/(kin\.[onetw]{3})/i],[[i,/\./g," "],[a,"Microsoft"],[r,s]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[i,[a,"Motorola"],[r,s]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[i,[a,"Motorola"],[r,l]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[a,d.trim],[i,d.trim],[r,u]],[/hbbtv.+maple;(\d+)/i],[[i,/^/,"SmartTV"],[a,"Samsung"],[r,u]],[/\(dtv[\);].+(aquos)/i],[i,[a,"Sharp"],[r,u]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[a,"Samsung"],i,[r,l]],[/smart-tv.+(samsung)/i],[a,[r,u],i],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[a,"Samsung"],i,[r,s]],[/sie-(\w*)/i],[i,[a,"Siemens"],[r,s]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[a,"Nokia"],i,[r,s]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[i,[a,"Acer"],[r,l]],[/android.+([vl]k\-?\d{3})\s+build/i],[i,[a,"LG"],[r,l]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[a,"LG"],i,[r,l]],[/(lg) netcast\.tv/i],[a,i,[r,u]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[i,[a,"LG"],[r,s]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[a,i,[r,l]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[i,[a,"Lenovo"],[r,l]],[/(lenovo)[_\s-]?([\w-]+)/i],[a,i,[r,s]],[/linux;.+((jolla));/i],[a,i,[r,s]],[/((pebble))app\/[\d\.]+\s/i],[a,i,[r,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[a,i,[r,s]],[/crkey/i],[[i,"Chromecast"],[a,"Google"],[r,u]],[/android.+;\s(glass)\s\d/i],[i,[a,"Google"],[r,"wearable"]],[/android.+;\s(pixel c)[\s)]/i],[i,[a,"Google"],[r,l]],[/android.+;\s(pixel( [23])?( xl)?)[\s)]/i],[i,[a,"Google"],[r,s]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:a\d|one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[i,/_/g," "],[a,"Xiaomi"],[r,s]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[i,/_/g," "],[a,"Xiaomi"],[r,l]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[i,[a,"Meizu"],[r,s]],[/(mz)-([\w-]{2,})/i],[[a,"Meizu"],i,[r,s]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],[i,[a,"OnePlus"],[r,s]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[i,[a,"RCA"],[r,l]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[i,[a,"Dell"],[r,l]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[i,[a,"Verizon"],[r,l]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[a,"Barnes & Noble"],i,[r,l]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[i,[a,"NuVision"],[r,l]],[/android.+;\s(k88)\sbuild/i],[i,[a,"ZTE"],[r,l]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[i,[a,"Swiss"],[r,s]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[i,[a,"Swiss"],[r,l]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[i,[a,"Zeki"],[r,l]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[a,"Dragon Touch"],i,[r,l]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[i,[a,"Insignia"],[r,l]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[i,[a,"NextBook"],[r,l]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[a,"Voice"],i,[r,s]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[a,"LvTel"],i,[r,s]],[/android.+;\s(PH-1)\s/i],[i,[a,"Essential"],[r,s]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[i,[a,"Envizen"],[r,l]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[a,i,[r,l]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[i,[a,"MachSpeed"],[r,l]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[a,i,[r,l]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[i,[a,"Rotor"],[r,l]],[/android.+(KS(.+))\s+build/i],[i,[a,"Amazon"],[r,l]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[a,i,[r,l]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[r,d.lowerize],a,i],[/[\s\/\(](smart-?tv)[;\)]/i],[[r,u]],[/(android[\w\.\s\-]{0,9});.+build/i],[i,[a,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[o,[n,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[o,[n,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[n,o],[/rv\:([\w\.]{1,9}).+(gecko)/i],[o,n]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[n,o],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[n,[o,c.str,m.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[n,"Windows"],[o,c.str,m.os.windows.version]],[/\((bb)(10);/i],[[n,"BlackBerry"],o],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[n,o],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[n,"Symbian"],o],[/\((series40);/i],[n],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[n,"Firefox OS"],o],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[n,o],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[n,"Chromium OS"],o],[/(sunos)\s?([\w\.\d]*)/i],[[n,"Solaris"],o],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[n,o],[/(haiku)\s(\w+)/i],[n,o],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[o,/_/g,"."],[n,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[n,"Mac OS"],[o,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[n,o]]},h=function(t,i){if("object"==typeof t&&(i=t,t=void 0),!(this instanceof h))return new h(t,i).getResult();var n=t||(e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:""),r=i?d.extend(p,i):p;return this.getBrowser=function(){var e={name:void 0,version:void 0};return c.rgx.call(e,n,r.browser),e.major=d.major(e.version),e},this.getCPU=function(){var e={architecture:void 0};return c.rgx.call(e,n,r.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return c.rgx.call(e,n,r.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return c.rgx.call(e,n,r.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return c.rgx.call(e,n,r.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,this},this};h.VERSION="0.7.21",h.BROWSER={NAME:n,MAJOR:"major",VERSION:o},h.CPU={ARCHITECTURE:"architecture"},h.DEVICE={MODEL:i,VENDOR:a,TYPE:r,CONSOLE:"console",MOBILE:s,SMARTTV:u,TABLET:l,WEARABLE:"wearable",EMBEDDED:"embedded"},h.ENGINE={NAME:n,VERSION:o},h.OS={NAME:n,VERSION:o},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=h),exports.UAParser=h):"function"==typeof define&&define.amd?define(function(){return h}):e&&(e.UAParser=h);var f=e&&(e.jQuery||e.Zepto);if(f&&!f.ua){var g=new h;f.ua=g.getResult(),f.ua.get=function(){return g.getUA()},f.ua.set=function(e){g.setUA(e);var t=g.getResult();for(var i in t)f.ua[i]=t[i]}}}("object"==typeof window?window:this),angular.module("aui",["aui.tpls","aui.dialog2"]),angular.module("aui.tpls",["template/modal/backdrop.html","template/modal/window.html"]),angular.module("aui.dialog2",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,i){e.push({key:t,value:i})},get:function(t){for(var i=0;i<e.length;i++)if(t===e[i].key)return e[i]},keys:function(){for(var t=[],i=0;i<e.length;i++)t.push(e[i].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var i=-1,n=0;n<e.length;n++)if(t===e[n].key){i=n;break}return e.splice(i,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("modalBackdrop",["$modalStack","$timeout",function(e,t){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(i){t(function(){i.animate=!0}),i.close=function(t){var i=e.getTop();i&&i.value.backdrop&&"static"!==i.value.backdrop&&(t.preventDefault(),t.stopPropagation(),e.dismiss(i.key,"backdrop click"))}}}}]).directive("modalWindow",["$timeout",function(e){return{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:"template/modal/window.html",link:function(t,i,n){t.windowClass=n.windowClass||"",t.windowSizeClass="aui-dialog2-"+(n.windowSize||"small"),e(function(){t.animate=!0})}}}]).factory("$modalStack",["$document","$compile","$rootScope","$$stackedMap","$q",function(e,t,i,n,r){function a(){for(var e=-1,t=c.keys(),i=0;i<t.length;i++)c.get(t[i]).value.backdrop&&(e=i);return e}function o(e){var t=c.get(e).value;c.remove(e),t.modalDomEl.remove(),-1===a()&&(l.remove(),l=void 0),t.modalScope.$destroy()}var s,l,u=i.$new(!0),d=e.find("body").eq(0),c=n.createNew(),m={};return i.$watch(a,function(e){u.index=e}),e.bind("keydown",function(e){var t;27===e.which&&(t=c.top())&&t.value.keyboard&&m.dismiss(t.key)}),m.open=function(e,i){c.add(e,{deferred:i.deferred,modalScope:i.scope,backdrop:i.backdrop,keyboard:i.keyboard});var n=angular.element("<div modal-window></div>");n.attr("window-class",i.windowClass),n.attr("window-size",i.windowSize),n.attr("index",c.length()-1),n.html(i.content);var r=t(n)(i.scope);c.top().value.modalDomEl=r,d.append(r),a()>=0&&!l&&(s=angular.element("<div modal-backdrop></div>"),l=t(s)(u),d.append(l))},m.close=function(e,t){var i=c.get(e);i&&(i.value.deferred.resolve(t),r.when(t.deferred?t.deferred.promise:null).then(function(){o(e)}).catch(function(){i.value.deferred=r.defer(),e.result=i.value.deferred.promise}))},m.dismiss=function(e,t){var i=c.get(e).value;i&&(i.deferred.reject(t),o(e))},m.getTop=function(){return c.top()},m}]).provider("$modal",function(){var e={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(t,i,n,r,a,o,s){function l(e){return e.template?n.when(e.template):r.get(e.templateUrl,{cache:a}).then(function(e){return e.data})}function u(e){var i=[];return angular.forEach(e,function(e){(angular.isFunction(e)||angular.isArray(e))&&i.push(n.when(t.invoke(e)))}),i}var d={};return d.open=function(t){var r=n.defer(),a=n.defer(),d={result:r.promise,opened:a.promise,close:function(e){s.close(d,e)},dismiss:function(e){s.dismiss(d,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var c=n.all([l(t)].concat(u(t.resolve)));return c.then(function(e){var n=(t.scope||i).$new();n.$close=d.close,n.$dismiss=d.dismiss;var a={},l=1;t.controller&&(a.$scope=n,a.$modalInstance=d,angular.forEach(t.resolve,function(t,i){a[i]=e[l++]}),o(t.controller,a)),s.open(d,{scope:n,deferred:r,content:e[0],backdrop:t.backdrop,keyboard:t.keyboard,windowClass:t.windowClass,windowSize:t.windowSize})},function(e){r.reject(e)}),c.then(function(){a.resolve(!0)},function(){a.reject(!1)}),d},d}]};return e}),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div style="visibility: visible; opacity: .5" class="aui-blanket" ng-style="{\'z-index\': 1040 + index*10}" ng-click="close($event)"></div>')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<section role="dialog" class="aui-layer aui-dialog2 {{windowSizeClass}} {{ windowClass }}" ng-style="{\'z-index\': 1050 + index*10}" ng-transclude>')}]),jQuery.base64=function(e){function t(e){e=e.replace(/\r\n/g,"\n");for(var t="",i=0;i<e.length;i++){var n=e.charCodeAt(i);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t}function i(e){var i,r,a,o,s,l,u,d="",c=0;for(e=t(e);c<e.length;)i=e.charCodeAt(c++),r=e.charCodeAt(c++),a=e.charCodeAt(c++),o=i>>2,s=(3&i)<<4|r>>4,l=(15&r)<<2|a>>6,u=63&a,isNaN(r)?l=u=64:isNaN(a)&&(u=64),d=d+n.charAt(o)+n.charAt(s)+n.charAt(l)+n.charAt(u);return d}var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{encode:function(e){return i(e)}}}(jQuery);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},configurationModule=angular.module("configuration",[]);if(configurationModule.service("configurationService",["$q","$http","dataService","applicationLoggingService",function(e,t,i,n){var r=window.RA||window.AP;this.data={allCompositionIssueLinks:null,allParentIssueFields:null},this.defaults=[{key:"auditorsGroups"},{key:"accountantsGroups"},{key:"restrictedGroups"},{key:"compositionIssueLink"},{key:"parentIssueField"},{key:"parentIssueType"},{key:"weekendType",val:"60"},{key:"preserveStartedTime"},{key:"timeInStatusCategories"},{key:"onErrorIgnore"},{key:"timeTrackingColumns"},{key:"timeBalanceColumns"},{key:"exportColumns"},{key:"prettyDuration"},{key:"durationType",val:"h"},{key:"durationTypeForExport",val:"h"},{key:"maxFractionDigits",val:2},{key:"disableLogWork"},{key:"restrictWorkPerDay"},{key:"worklogVisibilityGroup"},{key:"worklogVisibilityRole"},{key:"timeentryPanelGroups"},{key:"timeentryPanelProjects"},{key:"workDescriptionRequired"},{key:"workLabels",val:[]},{key:"workingTimeInStatus",val:{}},{key:"startedTimeInStatus"},{key:"inProgressIssuesJql"},{key:"dateFields"},{key:"reportingDay"},{key:"workUnderLimitColor"},{key:"workOverLimitColor"},{key:"showDetailsCount"},{key:"showCategoryRow"},{key:"logWorkRetrospectively"},{key:"currencySymbol"},{key:"showTotalInFront"},{key:"tempoToken"}],window.isTimesheet&&(this.defaults.push({key:"auditorsRoles"}),this.defaults.push({key:"logWorkForOthersGroups"}));try{var a="__storage_test__";window.localStorage.setItem(a,a),window.localStorage.removeItem(a),this.defaults.push({key:"cacheWorklog"})}catch(e){}this.getAuditLog=function(){return i.getProperty("audit_log",null,[])},this.saveAuditLog=function(e,t){i.getProperty("audit_log",null,[]).then(function(r){r.length>=30&&r.shift(),r.push({accountId:t.accountId,key:e.key,val:e.val,updated:(new Date).getTime()}),i.setProperty("audit_log",r).catch(n.error)})};var o=null;this.getConfiguration=function(){return null==o&&(o=i.getProperty("configuration").then(function(e){for(var t=this.convert(e),r={},a=0;a<this.defaults.length;a++){var o=this.defaults[a];r[o.key]=t.hasOwnProperty(o.key)?{key:o.key,val:t[o.key]}:o}return r.maxFractionDigits.val<0&&(r.maxFractionDigits.val=2,delete t.maxFractionDigits,n.error("Error maxFractionDigits fixed"),i.setProperty("configuration",t)),r.auditorsGroups.val&&!Array.isArray(r.auditorsGroups.val)&&(r.auditorsGroups.val=r.auditorsGroups.val.split(",")),!0===r.workingTimeInStatus.val&&(r.workingTimeInStatus.val={from:9,to:17}),r.exportColumns.val&&r.exportColumns.val.indexOf("username")>=0&&r.exportColumns.val.splice(r.exportColumns.val.indexOf("username"),1),r.allowToLogFromDate={key:"allowToLogFromDate"},r.allowToLogFromDate.val=function(e){switch(r.logWorkRetrospectively.val){case"d":return TimesheetUtils.truncateTime(new Date);case"w":var t=null!=r.reportingDay.val?r.reportingDay.val:moment.localeData().firstDayOfWeek();return TimesheetUtils.getLastMondayDate(t);case"m":return TimesheetUtils.getFirstDayOfTheMonth();default:return new Date(0)}}(),r}.bind(this))),o},this.saveConfiguration=function(e,t){return this.saveAuditLog(e,t),null!=e.val&&""!==e.val&&(!angular.isArray(e.val)||e.val.length>0)?this.updateConfiguration(e):this.deleteConfiguration(e)},this.convert=function(e){return angular.isArray(e)&&(e=e.reduce(function(e,t){return e[t.key]=t.val,e},{})),e},this.updateConfiguration=function(t){var n=e.defer();return i.getProperty("configuration",null,[]).then(function(e){e=this.convert(e),e[t.key]=t.val,i.setProperty("configuration",e).then(function(){n.resolve(t)})}.bind(this)),n.promise},this.deleteConfiguration=function(t){var n=e.defer();return i.getProperty("configuration",null,[]).then(function(e){e=this.convert(e),delete e[t.key],i.setProperty("configuration",e).then(function(){n.resolve({key:t.key})})}.bind(this)),n.promise};var s=null;this.getUserConfiguration=function(t){if(t)return null==s&&(s=e.all([this.getUserPreferences(t),this.getConfiguration()]).then(function(e){var t=e[0],i=angular.copy(e[1]);for(var n in t)null!=i[n]&&(angular.isString(t[n].val)&&t[n].val.indexOf("default")<0||!angular.isString(t[n].val)&&null!=t[n].val)&&(i[n].val=t[n].val);return i})),s};var l=null;this.getUserPreferences=function(e){if(e)return null==l&&(l=i.getProperty("preferences4",e).then(function(e){var t={weekendType:{key:"weekendType",val:"default"},workingTimeInStatus:{key:"workingTimeInStatus"},durationType:{key:"durationType",val:"default"},durationTypeForExport:{key:"durationTypeForExport",val:"default"},reportingDay:{key:"reportingDay"},startedTimeInStatus:{key:"startedTimeInStatus"},inProgressIssuesJql:{key:"inProgressIssuesJql"},maxFractionDigits:{key:"maxFractionDigits"},showDetailsCount:{key:"showDetailsCount"},showCategoryRow:{key:"showCategoryRow"},showTotalInFront:{key:"showTotalInFront"},tempoToken:{key:"tempoToken"}};for(var i in e)t[i]={key:i,val:e[i]};return t})),l},this.saveUserPreferences=function(e,t){return e.val||!1===e.val?(angular.isArray(e.val)?e.val.indexOf("default")>=0&&(e.val=["default"]):angular.isString(e.val)&&e.val.indexOf("default")>=0&&(e.val="default"),this.updateUserPreferences(e,t)):this.deleteUserPreferences(e,t)},this.updateUserPreferences=function(t,n){var r=e.defer();return i.getProperty("preferences4",n,{}).then(function(e){e=this.convert(e),e[t.key]=t.val,i.setProperty("preferences4"+n.accountId,e).then(function(){r.resolve(t)})}.bind(this)),r.promise},this.deleteUserPreferences=function(t,n){var r=e.defer();return i.getProperty("preferences4",n).then(function(e){delete e[t.key],i.setProperty("preferences4"+n.accountId,e).then(function(){r.resolve({key:t.key})})}),r.promise},this.getHourlyRates=function(){return i.getProperty("hourly_rates").then(function(e){return e?(Object.keys(e).forEach(function(t){"object"!==_typeof(e[t])&&(e[t]={"":e[t]})}),e):{}})},this.saveHourlyRate=function(e,t,i){return i?this.updateHourlyRate(e,t,i):this.deleteHourlyRate(e,t)},this.updateHourlyRate=function(t,n,r){var a=e.defer();return i.getProperty("hourly_rates",null,{}).then(function(e){e[t]=e[t]||{},e[t][n]=r,i.setProperty("hourly_rates",e).then(function(){a.resolve(_defineProperty({},t,_defineProperty({},n,r)))})}),a.promise},this.deleteHourlyRate=function(t,n){var r=e.defer();return i.getProperty("hourly_rates",null,{}).then(function(e){e[t][n]?(delete e[t][n],Object.keys(e[t]).length||delete e[t]):delete e[t],i.setProperty("hourly_rates",e).then(function(){r.resolve(t)})}),r.promise},this.getAllCompositionIssueLinks=function(){var t=this,i=e.defer();return null==t.data.allCompositionIssueLinks?r.request({url:"/rest/api/2/issueLinkType",dataType:"json",success:function(e){e=TimesheetUtils.getJson(e),t.data.allCompositionIssueLinks=[];for(var n=0;n<e.issueLinkTypes.length;n++)t.data.allCompositionIssueLinks.push(e.issueLinkTypes[n].name);i.resolve(t.data.allCompositionIssueLinks)},error:n.error}):i.resolve(t.data.allCompositionIssueLinks),i.promise},this.getAllParentIssueFields=function(){var t=this,i=e.defer();return null==t.data.allParentIssueFields?r.request({url:"/rest/api/2/field",dataType:"json",success:function(e){e=TimesheetUtils.getJson(e),t.data.allParentIssueFields=[];for(var n=0;n<e.length;n++)e[n].custom&&null!=e[n].schema&&"com.pyxis.greenhopper.jira:gh-epic-link"===e[n].schema.custom&&t.data.allParentIssueFields.push({id:e[n].id,name:e[n].name});i.resolve(t.data.allParentIssueFields)},error:n.error}):i.resolve(t.data.allParentIssueFields),i.promise},this.getAllIssueTypes=function(){var t=this,i=e.defer();return null==t.data.allIssueTypes?r.request({url:"/rest/api/2/issuetype",dataType:"json",success:function(e){e=TimesheetUtils.getJson(e),t.data.allIssueTypes=e,i.resolve(t.data.allIssueTypes)},error:n.error}):i.resolve(t.data.allIssueTypes),i.promise},this.getProjects=function(){var t=this,i=e.defer();if(null==t.data.allProjects){r.request({url:"/rest/api/2/project",dataType:"json",success:function(e){e=TimesheetUtils.getJson(e),t.data.allProjects=e,i.resolve(e)},error:n.error})}else i.resolve(t.data.allProjects);return i.promise},this.getRoles=function(t){var i=this;if(null==i.data.allRoles&&(i.data.allRoles={}),i.data.allRoles.hasOwnProperty(t))return i.data.allRoles[t];var n=e.defer();i.data.allRoles[t]=n.promise;var a="/rest/api/2/project/"+t+"/role";return r.request({url:a,dataType:"json",success:function(e){e=TimesheetUtils.getJson(e),n.resolve(e)},error:function(){n.reject()}}),n.promise},this.getCurrentMemberProjectRoles=function(t){var i=this;if(null==i.data.allCurrentMemberProjectRoles&&(i.data.allCurrentMemberProjectRoles={}),i.data.allCurrentMemberProjectRoles.hasOwnProperty(t))return i.data.allCurrentMemberProjectRoles[t];var n=e.defer();i.data.allCurrentMemberProjectRoles[t]=n.promise;var a="/rest/api/2/project/"+t+"/roledetails?currentMember=true&excludeConnectAddons=true";return r.request({url:a,dataType:"json",success:function(e){e=TimesheetUtils.getJson(e),n.resolve(e.reduce(function(e,t){return e[t.name]=t.name,e},{}))},error:function(){n.reject()}}),n.promise},this.getAllRoles=function(){var t,i=this,n=e.defer(),r={};return this.getProjects().then(function(a){var o=[];a.forEach(function(e){if("classic"!==e.style||!t){var n=i.getRoles(e.key).then(function(t){delete t["atlassian-addons-project-access"];for(var i in t)r[i]={style:e.style}});o.push(n),"classic"===e.style&&(t=!0)}}),e.all(o).then(function(){n.resolve(r)})}),n.promise},this.getAllRolesBak=function(){var t=this,i=e.defer();return null==t.data.allRoles?r.request({url:"/rest/api/2/role",dataType:"json",success:function(e){e=TimesheetUtils.getJson(e),t.data.allRoles=e,i.resolve(t.data.allRoles)},error:n.error}):i.resolve(t.data.allRoles),i.promise},this.getAllStatuses=function(){var t=this,i=e.defer();if(null==t.data.allStatuses){r.request({url:"/rest/api/2/status",dataType:"json",success:function(e){e=TimesheetUtils.getJson(e);for(var n={},r=0;r<e.length;r++)n[e[r].id]={order:r,categoryId:""+e[r].statusCategory.id};t.data.allStatuses=n,i.resolve(n)},error:n.error})}else i.resolve(t.data.allStatuses);return i.promise},this.getAllStatusCategories=function(){var t=this,i=e.defer();if(null==t.data.allStatusCategories){r.request({url:"/rest/api/2/statuscategory",dataType:"json",success:function(e){e=TimesheetUtils.getJson(e),t.data.allStatusCategories=e,i.resolve(e)},error:n.error})}else i.resolve(t.data.allStatusCategories);return i.promise},this.resetState=function(){o=null,l=null,s=null,this.data.allCompositionIssueLinks=null,this.data.allParentIssueFields=null,this.data.allStatusCategories=null,this.data.allStatuses=null,this.data.allRoles=null,this.data.allCurrentMemberProjectRoles=null,this.data.allProjects=null},this.getDefaultTimeTrackingColumns=function(){return["1timeoriginalestimate","2esttimeremaining","3timespent","4diff","5originalestimateremaining","6progress"]},this.getAllTimeTrackingColumns=function(){var e=this.getDefaultTimeTrackingColumns().slice();return e.splice(1,0,"12estimate"),e},this.getDefaultTimeBalanceColumns=function(){return["3timespent","12estimate","4diff","1timeoriginalestimate","6progress"]},this.getAllTimeBalanceColumns=function(){return this.getDefaultTimeBalanceColumns().concat(["2esttimeremaining","5originalestimateremaining"])},this.getDefaultExportColumns=function(){return["project","issuetype","key","summary","priority","datestarted","displayname","descriptionstatus"]},this.getAllExportColumns=function(){var e=this.getDefaultExportColumns().slice();return e.splice(5,0,"workcreated","worklogid"),e.splice(9,0,"emailaddress","accountid"),e},
this.getDefaultDateFields=function(){return["created","updated"]},this.getAllDateFields=function(){return["created","updated","resolved"]}}]),configurationModule.service("dataService",["$q","applicationLoggingService","$http",function(e,t){var i=window.RA||window.AP,n="/rest/atlassian-connect/1/addons/"+(window.isTimesheet?"jira-timesheet-plugin":"timereports"),r=n+"/properties/",a=e.defer(),o={};this.getProperty=function(t,n,s){var l=function(t){var n=e.defer();return i.request({url:r+t,success:function(e){var t=TimesheetUtils.getJson(e),i=TimesheetUtils.getJson(t.value);n.resolve(i)},error:function(){n.resolve(s||{})}}),n.promise};return a.promise.then(function(){var e=t+(n?n.accountId:"");return o[e]?l(e):s||{}})},this.setProperty=function(t,n){var a=e.defer();return i.request({url:r+t,type:"PUT",data:JSON.stringify(n),contentType:"application/json",success:function(e){var i=TimesheetUtils.getJson(e),n=TimesheetUtils.getJson(i.value);o[t]=!0,a.resolve(n)},error:function(e){a.reject(e)}}),a.promise},this.deleteProperty=function(t){var n=e.defer();return i.request({url:r+t,type:"DELETE",contentType:"application/json",success:function(){o[t]=!1,n.resolve()},error:function(e){n.reject(e)}}),n.promise},i.request({url:r,success:function(e){e=TimesheetUtils.getJson(e);for(var t=0;t<e.keys.length;t++){var i=e.keys[t];o[i.key]=!0}a.resolve()},error:function(e){a.resolve()}});var s=e.defer();i.request({url:n,success:function(e){var i=TimesheetUtils.getJson(e);t.license=i,s.resolve(i)}}),this.getAppProperties=function(){return s.promise};var l=e.defer();i.request({url:"/rest/api/2/serverInfo",success:function(e){l.resolve(TimesheetUtils.getJson(e))},error:function(){l.resolve({baseUrl:""})}}),this.getServerInfo=function(){return l.promise}}]),"undefined"==typeof jQuery)throw new Error("jQuery.textcomplete requires jQuery");+function(e){var t=function(e){console.warn&&console.warn(e)},i=1;e.fn.textcomplete=function(n,r){var a=Array.prototype.slice.call(arguments);return this.each(function(){var o=this,s=e(this),l=s.data("textComplete");if(l||(r||(r={}),r._oid=i++,l=new e.fn.textcomplete.Completer(this,r),s.data("textComplete",l)),"string"==typeof n){if(!l)return;a.shift(),l[n].apply(l,a),"destroy"===n&&s.removeData("textComplete")}else e.each(n,function(i){e.each(["header","footer","placement","maxCount"],function(e){i[e]&&(l.option[e]=i[e],t(e+"as a strategy param is deprecated. Use option."),delete i[e])})}),l.register(e.fn.textcomplete.Strategy.parse(n,{el:o,$el:s}))})}}(jQuery),function(e){function t(i,r){if(this.$el=e(i),this.id="textcomplete"+n++,this.strategies=[],this.views=[],this.option=e.extend({},t.defaults,r),!(this.$el.is("input[type=text]")||this.$el.is("input[type=search]")||this.$el.is("textarea")||i.isContentEditable||"true"==i.contentEditable))throw new Error("textcomplete must be called on a Textarea or a ContentEditable.");if(i===i.ownerDocument.activeElement)this.initialize();else{var a=this;this.$el.one("focus."+this.id,function(){a.initialize()}),this.option.adapter&&"CKEditor"!=this.option.adapter||"undefined"==typeof CKEDITOR||!this.$el.is("textarea")||CKEDITOR.on("instanceReady",function(t){t.editor.once("focus",function(i){a.$el=e(t.editor.editable().$),a.option.adapter||(a.option.adapter=e.fn.textcomplete.CKEditor,a.option.ckeditor_instance=t.editor),a.initialize()})})}}var i=function(e){return"[object String]"===Object.prototype.toString.call(e)},n=0;t.defaults={appendTo:"body",className:"",dropdownClassName:"dropdown-menu textcomplete-dropdown",maxCount:10,zIndex:"100",rightEdgeOffset:30},e.extend(t.prototype,{id:null,option:null,strategies:null,adapter:null,dropdown:null,$el:null,$iframe:null,initialize:function(){var t=this.$el.get(0);if(this.$el.prop("ownerDocument")!==document&&window.frames.length)for(var i=0;i<window.frames.length;i++)if(this.$el.prop("ownerDocument")===window.frames[i].document){this.$iframe=e(window.frames[i].frameElement);break}this.dropdown=new e.fn.textcomplete.Dropdown(t,this,this.option);var n,r;this.option.adapter?n=this.option.adapter:(r=this.$el.is("textarea")||this.$el.is("input[type=text]")||this.$el.is("input[type=search]")?"number"==typeof t.selectionEnd?"Textarea":"IETextarea":"ContentEditable",n=e.fn.textcomplete[r]),this.adapter=new n(t,this,this.option)},destroy:function(){this.$el.off("."+this.id),this.adapter&&this.adapter.destroy(),this.dropdown&&this.dropdown.destroy(),this.$el=this.adapter=this.dropdown=null},deactivate:function(){this.dropdown&&this.dropdown.deactivate()},trigger:function(e,t){this.dropdown||this.initialize(),null!=e||(e=this.adapter.getTextFromHeadToCaret());var i=this._extractSearchQuery(e);if(i.length){var n=i[1];if(t&&this._term===n&&""!==n)return;this._term=n,this._search.apply(this,i)}else this._term=null,this.dropdown.deactivate()},fire:function(e){var t=Array.prototype.slice.call(arguments,1);return this.$el.trigger(e,t),this},register:function(e){Array.prototype.push.apply(this.strategies,e)},select:function(e,t,i){this._term=null,this.adapter.select(e,t,i),this.fire("change").fire("textComplete:select",e,t),this.adapter.focus()},_clearAtNext:!0,_term:null,_extractSearchQuery:function(t){for(var n=0;n<this.strategies.length;n++){var r=this.strategies[n],a=r.context(t);if(a||""===a){var o=e.isFunction(r.match)?r.match(t):r.match;i(a)&&(t=a);var s=t.match(o);if(s)return[r,s[r.index],s]}}return[]},_search:function(e){var t,i;return function(){var n=Array.prototype.slice.call(arguments);if(t)return void(i=n);t=!0;var r=this;n.unshift(function n(){if(i){var a=i;i=void 0,a.unshift(n),e.apply(r,a)}else t=!1}),e.apply(this,n)}}(function(e,t,i,n){var r=this;t.search(i,function(n,a){r.dropdown.shown||r.dropdown.activate(),r._clearAtNext&&(r.dropdown.clear(),r._clearAtNext=!1),r.dropdown.setPosition(r.adapter.getCaretPosition()),r.dropdown.render(r._zip(n,t,i)),a||(e(),r._clearAtNext=!0)},n)}),_zip:function(t,i,n){return e.map(t,function(e){return{value:e,strategy:i,term:n}})}}),e.fn.textcomplete.Completer=t}(jQuery),function(e){function t(i,n,a){this.$el=t.createElement(a),this.completer=n,this.id=n.id+"dropdown",this._data=[],this.$inputEl=e(i),this.option=a,a.listPosition&&(this.setPosition=a.listPosition),a.height&&this.$el.height(a.height);var o=this;e.each(["maxCount","placement","footer","header","noResultsMessage","className"],function(e,t){null!=a[t]&&(o[t]=a[t])}),this._bindEvents(i),r[this.id]=this}var i=e(window),n=function(e,t){var i,n,r=t.strategy.idProperty;for(i=0;i<e.length;i++)if(n=e[i],n.strategy===t.strategy)if(r){if(n.value[r]===t.value[r])return!0}else if(n.value===t.value)return!0;return!1},r={};e(document).on("click",function(t){var i=t.originalEvent&&t.originalEvent.keepTextCompleteDropdown;e.each(r,function(e,t){e!==i&&t.deactivate()})});var a={SKIP_DEFAULT:0,KEY_UP:1,KEY_DOWN:2,KEY_ENTER:3,KEY_PAGEUP:4,KEY_PAGEDOWN:5,KEY_ESCAPE:6};e.extend(t,{createElement:function(t){var i=t.appendTo;return i instanceof e||(i=e(i)),e("<ul></ul>").addClass(t.dropdownClassName).attr("id","textcomplete-dropdown-"+t._oid).css({display:"none",left:0,position:"absolute",zIndex:t.zIndex}).appendTo(i)}}),e.extend(t.prototype,{$el:null,$inputEl:null,completer:null,footer:null,header:null,id:null,maxCount:null,placement:"",shown:!1,data:[],className:"",destroy:function(){this.deactivate(),this.$el.off("."+this.id),this.$inputEl.off("."+this.id),this.clear(),this.$el.remove(),this.$el=this.$inputEl=this.completer=null,delete r[this.id]},render:function(t){var i=this._buildContents(t),n=e.map(t,function(e){return e.value});if(t.length){var r=t[0].strategy;r.id?this.$el.attr("data-strategy",r.id):this.$el.removeAttr("data-strategy"),this._renderHeader(n),this._renderFooter(n),i&&(this._renderContents(i),this._fitToBottom(),this._fitToRight(),this._activateIndexedItem()),this._setScroll()}else this.noResultsMessage?this._renderNoResultsMessage(n):this.shown&&this.deactivate()},setPosition:function(t){var n="absolute";return this.$inputEl.add(this.$inputEl.parents()).each(function(){return"absolute"!==e(this).css("position")&&("fixed"===e(this).css("position")?(t.top-=i.scrollTop(),t.left-=i.scrollLeft(),n="fixed",!1):void 0)}),this.$el.css(this._applyPlacement(t)),this.$el.css({position:n}),this},clear:function(){this.$el.html(""),this.data=[],this._index=0,this._$header=this._$footer=this._$noResultsMessage=null},activate:function(){return this.shown||(this.clear(),this.$el.show(),this.className&&this.$el.addClass(this.className),this.completer.fire("textComplete:show"),this.shown=!0),this},deactivate:function(){return this.shown&&(this.$el.hide(),this.className&&this.$el.removeClass(this.className),this.completer.fire("textComplete:hide"),this.shown=!1),this},isUp:function(e){return 38===e.keyCode||e.ctrlKey&&80===e.keyCode},isDown:function(e){return 40===e.keyCode||e.ctrlKey&&78===e.keyCode},isEnter:function(e){return!(e.ctrlKey||e.altKey||e.metaKey||e.shiftKey)&&(13===e.keyCode||9===e.keyCode||!0===this.option.completeOnSpace&&32===e.keyCode)},isPageup:function(e){return 33===e.keyCode},isPagedown:function(e){return 34===e.keyCode},isEscape:function(e){return 27===e.keyCode},_data:null,_index:null,_$header:null,_$noResultsMessage:null,_$footer:null,_bindEvents:function(){this.$el.on("mousedown."+this.id,".textcomplete-item",e.proxy(this._onClick,this)),this.$el.on("touchstart."+this.id,".textcomplete-item",e.proxy(this._onClick,this)),this.$el.on("mouseover."+this.id,".textcomplete-item",e.proxy(this._onMouseover,this)),this.$inputEl.on("keydown."+this.id,e.proxy(this._onKeydown,this))},_onClick:function(t){var i=e(t.target);t.preventDefault(),t.originalEvent.keepTextCompleteDropdown=this.id,i.hasClass("textcomplete-item")||(i=i.closest(".textcomplete-item"));var n=this.data[parseInt(i.data("index"),10)];this.completer.select(n.value,n.strategy,t);var r=this;setTimeout(function(){r.deactivate(),"touchstart"===t.type&&r.$inputEl.focus()},0)},_onMouseover:function(t){var i=e(t.target);t.preventDefault(),i.hasClass("textcomplete-item")||(i=i.closest(".textcomplete-item")),this._index=parseInt(i.data("index"),10),this._activateIndexedItem()},_onKeydown:function(t){if(this.shown){var i;switch(e.isFunction(this.option.onKeydown)&&(i=this.option.onKeydown(t,a)),null==i&&(i=this._defaultKeydown(t)),i){case a.KEY_UP:t.preventDefault(),this._up();break;case a.KEY_DOWN:t.preventDefault(),this._down();break;case a.KEY_ENTER:t.preventDefault(),this._enter(t);break;case a.KEY_PAGEUP:t.preventDefault(),this._pageup();break;case a.KEY_PAGEDOWN:t.preventDefault(),this._pagedown();break;case a.KEY_ESCAPE:t.preventDefault(),this.deactivate()}}},_defaultKeydown:function(e){return this.isUp(e)?a.KEY_UP:this.isDown(e)?a.KEY_DOWN:this.isEnter(e)?a.KEY_ENTER:this.isPageup(e)?a.KEY_PAGEUP:this.isPagedown(e)?a.KEY_PAGEDOWN:this.isEscape(e)?a.KEY_ESCAPE:void 0},_up:function(){0===this._index?this._index=this.data.length-1:this._index-=1,this._activateIndexedItem(),this._setScroll()},_down:function(){this._index===this.data.length-1?this._index=0:this._index+=1,this._activateIndexedItem(),this._setScroll()},_enter:function(e){var t=this.data[parseInt(this._getActiveElement().data("index"),10)];this.completer.select(t.value,t.strategy,e),this.deactivate()},_pageup:function(){var t=0,i=this._getActiveElement().position().top-this.$el.innerHeight();this.$el.children().each(function(n){if(e(this).position().top+e(this).outerHeight()>i)return t=n,!1}),this._index=t,this._activateIndexedItem(),this._setScroll()},_pagedown:function(){var t=this.data.length-1,i=this._getActiveElement().position().top+this.$el.innerHeight();this.$el.children().each(function(n){if(e(this).position().top>i)return t=n,!1}),this._index=t,this._activateIndexedItem(),this._setScroll()},_activateIndexedItem:function(){this.$el.find(".textcomplete-item.active").removeClass("active"),this._getActiveElement().addClass("active")},_getActiveElement:function(){return this.$el.children(".textcomplete-item:nth("+this._index+")")},_setScroll:function(){var e=this._getActiveElement(),t=e.position().top,i=e.outerHeight(),n=this.$el.innerHeight(),r=this.$el.scrollTop();0===this._index||this._index==this.data.length-1||t<0?this.$el.scrollTop(t+r):t+i>n&&this.$el.scrollTop(t+i+r-n)},_buildContents:function(e){var t,i,r,a="";for(i=0;i<e.length&&this.data.length!==this.maxCount;i++)t=e[i],n(this.data,t)||(r=this.data.length,this.data.push(t),a+='<li class="textcomplete-item" data-index="'+r+'"><a>',a+=t.strategy.template(t.value,t.term),a+="</a></li>");return a},_renderHeader:function(t){if(this.header){this._$header||(this._$header=e('<li class="textcomplete-header"></li>').prependTo(this.$el));var i=e.isFunction(this.header)?this.header(t):this.header;this._$header.html(i)}},_renderFooter:function(t){if(this.footer){this._$footer||(this._$footer=e('<li class="textcomplete-footer"></li>').appendTo(this.$el));var i=e.isFunction(this.footer)?this.footer(t):this.footer;this._$footer.html(i)}},_renderNoResultsMessage:function(t){if(this.noResultsMessage){this._$noResultsMessage||(this._$noResultsMessage=e('<li class="textcomplete-no-results-message"></li>').appendTo(this.$el));var i=e.isFunction(this.noResultsMessage)?this.noResultsMessage(t):this.noResultsMessage;this._$noResultsMessage.html(i)}},_renderContents:function(e){this._$footer?this._$footer.before(e):this.$el.append(e)},_fitToBottom:function(){var e=i.scrollTop()+i.height(),t=this.$el.height();this.$el.position().top+t>e&&(this.completer.$iframe||this.$el.offset({top:e-t}))},_fitToRight:function(){for(var e,t=this.option.rightEdgeOffset,n=this.$el.offset().left,r=this.$el.width(),a=i.width()-t;n+r>a&&(this.$el.offset({left:n-t}),!((e=this.$el.offset().left)>=n));)n=e},_applyPlacement:function(e){return-1!==this.placement.indexOf("top")?e={top:"auto",bottom:this.$el.parent().height()-e.top+e.lineHeight,left:e.left}:(e.bottom="auto",delete e.lineHeight),-1!==this.placement.indexOf("absleft")?e.left=0:-1!==this.placement.indexOf("absright")&&(e.right=0,e.left="auto"),e}}),e.fn.textcomplete.Dropdown=t,e.extend(e.fn.textcomplete,a)}(jQuery),function(e){function t(t){e.extend(this,t),this.cache&&(this.search=i(this.search))}var i=function(e){var t={};return function(i,n){t[i]?n(t[i]):e.call(this,i,function(e){t[i]=(t[i]||[]).concat(e),n.apply(null,arguments)})}};t.parse=function(i,n){return e.map(i,function(e){var i=new t(e);return i.el=n.el,i.$el=n.$el,i})},e.extend(t.prototype,{match:null,replace:null,search:null,id:null,cache:!1,context:function(){return!0},index:2,template:function(e){return e},idProperty:null}),e.fn.textcomplete.Strategy=t}(jQuery),function(e){function t(){}var i=Date.now||function(){return(new Date).getTime()},n=function(e,t){var n,r,a,o,s,l=function(){var u=i()-o;u<t?n=setTimeout(l,t-u):(n=null,s=e.apply(a,r),a=r=null)};return function(){return a=this,r=arguments,o=i(),n||(n=setTimeout(l,t)),s}};e.extend(t.prototype,{id:null,completer:null,el:null,$el:null,option:null,initialize:function(t,i,r){this.el=t,this.$el=e(t),this.id=i.id+this.constructor.name,this.completer=i,this.option=r,this.option.debounce&&(this._onKeyup=n(this._onKeyup,this.option.debounce)),this._bindEvents()},destroy:function(){this.$el.off("."+this.id),this.$el=this.el=this.completer=null},select:function(){throw new Error("Not implemented")},getCaretPosition:function(){var t=this._getCaretRelativePosition(),i=this.$el.offset(),n=this.option.appendTo;if(n){n instanceof e||(n=e(n));var r=n.offsetParent().offset();i.top-=r.top,i.left-=r.left}return t.top+=i.top,t.left+=i.left,t},focus:function(){this.$el.focus()},_bindEvents:function(){this.$el.on("keyup."+this.id,e.proxy(this._onKeyup,this))},_onKeyup:function(e){this._skipSearch(e)||this.completer.trigger(this.getTextFromHeadToCaret(),!0)},_skipSearch:function(e){switch(e.keyCode){case 9:case 13:case 40:case 38:case 27:return!0}if(e.ctrlKey)switch(e.keyCode){case 78:case 80:return!0}}}),e.fn.textcomplete.Adapter=t}(jQuery),function(e){function t(e,t,i){this.initialize(e,t,i)}e.extend(t.prototype,e.fn.textcomplete.Adapter.prototype,{select:function(t,i,n){var r,a=this.getTextFromHeadToCaret(),o=this.el.value.substring(this.el.selectionEnd),s=i.replace(t,n);void 0!==s&&(e.isArray(s)&&(o=s[1]+o,s=s[0]),r=e.isFunction(i.match)?i.match(a):i.match,a=a.replace(r,s),this.$el.val(a+o),this.el.selectionStart=this.el.selectionEnd=a.length)},getTextFromHeadToCaret:function(){return this.el.value.substring(0,this.el.selectionEnd)},_getCaretRelativePosition:function(){var t=e.fn.textcomplete.getCaretCoordinates(this.el,this.el.selectionStart);return{top:t.top+this._calculateLineHeight()-this.$el.scrollTop(),left:t.left-this.$el.scrollLeft(),lineHeight:this._calculateLineHeight()}},_calculateLineHeight:function(){var e=parseInt(this.$el.css("line-height"),10);if(isNaN(e)){var t=this.el.parentNode,i=document.createElement(this.el.nodeName),n=this.el.style;i.setAttribute("style","margin:0px;padding:0px;font-family:"+n.fontFamily+";font-size:"+n.fontSize),i.innerHTML="test",t.appendChild(i),e=i.clientHeight,t.removeChild(i)}return e}}),e.fn.textcomplete.Textarea=t}(jQuery),function(e){function t(t,n,r){this.initialize(t,n,r),e("<span>"+i+"</span>").css({position:"absolute",top:-9999,left:-9999}).insertBefore(t)}var i="吶";e.extend(t.prototype,e.fn.textcomplete.Textarea.prototype,{select:function(t,i,n){var r,a=this.getTextFromHeadToCaret(),o=this.el.value.substring(a.length),s=i.replace(t,n);if(void 0!==s){e.isArray(s)&&(o=s[1]+o,s=s[0]),r=e.isFunction(i.match)?i.match(a):i.match,a=a.replace(r,s),this.$el.val(a+o),this.el.focus();var l=this.el.createTextRange();l.collapse(!0),l.moveEnd("character",a.length),l.moveStart("character",a.length),l.select()}},getTextFromHeadToCaret:function(){this.el.focus();var e=document.selection.createRange();e.moveStart("character",-this.el.value.length);var t=e.text.split(i);return 1===t.length?t[0]:t[1]}}),e.fn.textcomplete.IETextarea=t}(jQuery),function(e){function t(e,t,i){this.initialize(e,t,i)}e.extend(t.prototype,e.fn.textcomplete.Adapter.prototype,{select:function(t,i,n){var r=this.getTextFromHeadToCaret(),a=this.el.ownerDocument.getSelection(),o=a.getRangeAt(0),s=o.cloneRange();s.selectNodeContents(o.startContainer);var l,u=s.toString(),d=u.substring(o.startOffset),c=i.replace(t,n);if(void 0!==c){e.isArray(c)&&(d=c[1]+d,c=c[0]),l=e.isFunction(i.match)?i.match(r):i.match,r=r.replace(l,c).replace(/ $/,"&nbsp"),o.selectNodeContents(o.startContainer),o.deleteContents();var m=this.el.ownerDocument.createElement("div");m.innerHTML=r;var p=this.el.ownerDocument.createElement("div");p.innerHTML=d;for(var h,f,g=this.el.ownerDocument.createDocumentFragment();h=m.firstChild;)f=g.appendChild(h);for(;h=p.firstChild;)g.appendChild(h);o.insertNode(g),o.setStartAfter(f),o.collapse(!0),a.removeAllRanges(),a.addRange(o)}},_getCaretRelativePosition:function(){var t=this.el.ownerDocument.getSelection().getRangeAt(0).cloneRange(),i=this.el.ownerDocument.createElement("span");t.insertNode(i),t.selectNodeContents(i),t.deleteContents();var n=e(i),r=n.offset();if(r.left-=this.$el.offset().left,r.top+=n.height()-this.$el.offset().top,r.lineHeight=n.height(),this.completer.$iframe){var a=this.completer.$iframe.offset();r.top+=a.top,r.left+=a.left,r.top-=this.$el.scrollTop()}return n.remove(),r},getTextFromHeadToCaret:function(){var e=this.el.ownerDocument.getSelection().getRangeAt(0),t=e.cloneRange();return t.selectNodeContents(e.startContainer),t.toString().substring(0,e.startOffset)}}),e.fn.textcomplete.ContentEditable=t}(jQuery),function(e){function t(e,t,i){this.initialize(e,t,i)}e.extend(t.prototype,e.fn.textcomplete.ContentEditable.prototype,{_bindEvents:function(){var t=this;this.option.ckeditor_instance.on("key",function(e){var i=e.data;if(t._onKeyup(i),t.completer.dropdown.shown&&t._skipSearch(i))return!1},null,null,1),this.$el.on("keyup."+this.id,e.proxy(this._onKeyup,this))}}),e.fn.textcomplete.CKEditor=t}(jQuery),function(e){function t(e,t,a){if(!n)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var o=a&&a.debug||!1;if(o){var s=document.querySelector("#input-textarea-caret-position-mirror-div");s&&s.parentNode.removeChild(s)}var l=document.createElement("div");l.id="input-textarea-caret-position-mirror-div",document.body.appendChild(l);var u=l.style,d=window.getComputedStyle?getComputedStyle(e):e.currentStyle;u.whiteSpace="pre-wrap","INPUT"!==e.nodeName&&(u.wordWrap="break-word"),u.position="absolute",o||(u.visibility="hidden"),i.forEach(function(e){u[e]=d[e]}),r?e.scrollHeight>parseInt(d.height)&&(u.overflowY="scroll"):u.overflow="hidden",l.textContent=e.value.substring(0,t),"INPUT"===e.nodeName&&(l.textContent=l.textContent.replace(/\s/g," "));var c=document.createElement("span");c.textContent=e.value.substring(t)||".",l.appendChild(c);var m={top:c.offsetTop+parseInt(d.borderTopWidth),left:c.offsetLeft+parseInt(d.borderLeftWidth)};return o?c.style.backgroundColor="#aaa":document.body.removeChild(l),m}var i=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],n="undefined"!=typeof window,r=n&&null!=window.mozInnerScreenX;e.fn.textcomplete.getCaretCoordinates=t}(jQuery);var directives=angular.module("directives",["talis.services.logging"]);directives.directive("context",["applicationLoggingService",function(e){return{restrict:"E",scope:{items:"="},link:function(t){e.trace("context",t.items);var i=TimesheetUtils.getJson(t.items);e.baseUrl=i.hostBaseUrl,angular.extend(t.$parent,i)}}}]),directives.directive("autoFocus",["$timeout",function(e){return function(t,i){e(function(){i.focus().select()},0)}}]),directives.directive("formInvalid",[function(){return{restrict:"E",require:"^form",link:function(e,t,i,n){var r=AP.dialog.getButton("submit");e.$watch(n.$name+".$invalid",function(e){e?r.disable():r.enable()}),AP.events.on("dialog.submit",function(){r.disable()})}}}]),directives.directive("logWorkPermission",["pivottableService",function(e){return{restrict:"A",require:"ngModel",link:function(t,i,n,r){t.$watch("worklog.issueKey",function(n){n&&!t.worklog.user&&e.havePermissions(["WORK_ON_ISSUES"],"issueKey="+n).then(function(e){r.$setValidity(i[0].name,e[0])})})}}}]),directives.directive("timespent",[function(){return{require:"ngModel",scope:{zeroable:"="},link:function(e,t,i,n){n.$validators.timespent=function(t,i){if(!i||/^\d*\.?\d+$/.test(i))return!i||parseFloat(i)>0;for(var n=TimesheetUtils.convertTimeSpent(i).split(" "),r=["w","d","h","m"],a=n.length>0,o=0;o<n.length&&a&&r.length>0;o++)do{var s=r.shift(),l=RegExp("^(\\d*\\.?\\d+)"+s+"$"),u=n[o].match(l);a=u&&(parseFloat(u[1])>0||e.zeroable&&0===parseFloat(u[1]))}while(r.length>0&&!a);return a}}}}]),directives.directive("workPerDay",["$q","pivottableService",function(e,t){return{require:"ngModel",link:function(i,n,r,a){a.$validators.workPerDay=function(){return delete a.$error.workPerDayError,!0},a.$asyncValidators.workPerDay=function(n){var o=i.$eval(r.workPerDay);if(o.configOptions&&o.configOptions.restrictWorkPerDay){var s=o.started,l={},u=TimesheetUtils.addDays(s,1);i.$parent.worklog&&i.$parent.worklog.id?l[moment(s).startOf("day").toDate()]=TimesheetUtils.getTimeSpentMs(n,i.$parent.jiraConfig)/1e3-i.$parent.worklogTimeSpentSeconds:(l=TimesheetUtils.mapLogWorkToStarted(s,n,i.$parent.jiraConfig,o.configOptions),s=TimesheetUtils.getFirstLogWorkStarted(s,n,i.$parent.jiraConfig,o.configOptions));var d=3600*i.$parent.jiraConfig.workingHoursPerDay,c={startDate:s,endDate:u,username:o.user.accountId,configOptions:o.configOptions};return t.getWorkedIssues(c).then(function(e){var t=e.reduce(function(e,t){return e.concat(t)});angular.forEach(t,function(e){e.fields.worklog.worklogs.forEach(function(e){var t=moment(e.started).toDate(),i=moment(t).startOf("day").toDate();e.author&&e.author.accountId===o.user.accountId&&t>=s&&t<u&&(l[i]=(l[i]||0)+e.timeSpentSeconds)})});for(var i in l)if(l[i]>d)throw a.$error.workPerDayError=">1d!",new Error}).catch(function(e){throw a.$error.workPerDayError||(a.$error.workPerDayError="Error",console.log(e)),e})}return e.resolve(!0)},i.$watch("worklogDatetime.date",a.$validate.bind(a),!0)}}}]),directives.directive("longerOneDayWarning",[function(){return{restrict:"E",scope:!0,controller:["$scope",function(e){e.warning={show:!1},e.$watch((e.popupData?"popupData.":"")+"worklog.timeSpent",function(t){e.warning.show=TimesheetUtils.isLongerOneDay(t,e.jiraConfig)})}],transclude:!0,template:'<span class="yellow" data-ng-show="warning.show" ng-transclude></span>'}}]),directives.directive("lockPeriodError",[function(){return{restrict:"E",scope:!0,controller:["$scope",function(e){function t(){var t=TimesheetUtils.getFirstLogWorkStarted(moment(e.worklogDatetime.date).toDate(),e.worklog.timeSpent,e.jiraConfig,e.configOptions)<e.allowToLogFromDate;e.lockPeriodError.show=t,e.logWorkForm["log-work-date-logged"].$setValidity("allowToLogFromDate",!t)}e.lockPeriodError={show:!1},e.$watch("worklog.timeSpent",t),e.$watch("worklogDatetime.date",t)}],transclude:!0,template:'<span class="red" title="{{\'earlier than Log Work Retrospectively\' | i18n}}" data-ng-show="lockPeriodError.show" ng-transclude></span>'}}]),directives.directive("error",[function(){return{restrict:"E",link:function(e,t){$(t).click(function(){e.$apply(function(){throw new Error("Test")})})}}}]),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.html2canvas=e()}}(function(){var e;return function e(t,i,n){function r(o,s){if(!i[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var d=i[o]={exports:{}};t[o][0].call(d.exports,function(e){var i=t[o][1][e];return r(i||e)},d,d.exports,e,t,i,n)}return i[o].exports}for(var a="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,i,n){(function(t){!function(r){function a(e){throw RangeError(x[e])}function o(e,t){for(var i=e.length;i--;)e[i]=t(e[i]);return e}function s(e,t){return o(e.split(C),t).join(".")}function l(e){for(var t,i,n=[],r=0,a=e.length;r<a;)t=e.charCodeAt(r++),t>=55296&&t<=56319&&r<a?(i=e.charCodeAt(r++),56320==(64512&i)?n.push(((1023&t)<<10)+(1023&i)+65536):(n.push(t),r--)):n.push(t);return n}function u(e){return o(e,function(e){var t="";return e>65535&&(e-=65536,t+=R(e>>>10&1023|55296),e=56320|1023&e),t+=R(e)}).join("")}function d(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:k}function c(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function m(e,t,i){var n=0;for(e=i?U(e/O):e>>1,e+=U(e/t);e>F*A>>1;n+=k)e=U(e/F);return U(n+(F+1)*e/(e+D))}function p(e){var t,i,n,r,o,s,l,c,p,h,f=[],g=e.length,y=0,v=I,_=E;for(i=e.lastIndexOf(M),i<0&&(i=0),n=0;n<i;++n)e.charCodeAt(n)>=128&&a("not-basic"),f.push(e.charCodeAt(n));for(r=i>0?i+1:0;r<g;){for(o=y,s=1,l=k;r>=g&&a("invalid-input"),c=d(e.charCodeAt(r++)),(c>=k||c>U((b-y)/s))&&a("overflow"),y+=c*s,p=l<=_?S:l>=_+A?A:l-_,!(c<p);l+=k)h=k-p,s>U(b/h)&&a("overflow"),s*=h;t=f.length+1,_=m(y-o,t,0==o),U(y/t)>b-v&&a("overflow"),v+=U(y/t),y%=t,f.splice(y++,0,v)}return u(f)}function h(e){var t,i,n,r,o,s,u,d,p,h,f,g,y,v,_,w=[];for(e=l(e),g=e.length,t=I,i=0,o=E,s=0;s<g;++s)(f=e[s])<128&&w.push(R(f));for(n=r=w.length,r&&w.push(M);n<g;){for(u=b,s=0;s<g;++s)(f=e[s])>=t&&f<u&&(u=f);for(y=n+1,u-t>U((b-i)/y)&&a("overflow"),i+=(u-t)*y,t=u,s=0;s<g;++s)if(f=e[s],f<t&&++i>b&&a("overflow"),f==t){for(d=i,p=k;h=p<=o?S:p>=o+A?A:p-o,!(d<h);p+=k)_=d-h,v=k-h,w.push(R(c(h+_%v,0))),d=U(_/v);w.push(R(c(d,0))),o=m(i,y,n==r),i=0,++n}++i,++t}return w.join("")}function f(e){return s(e,function(e){return L.test(e)?p(e.slice(4).toLowerCase()):e})}function g(e){return s(e,function(e){return P.test(e)?"xn--"+h(e):e})}var y="object"==typeof n&&n,v="object"==typeof i&&i&&i.exports==y&&i,_="object"==typeof t&&t;_.global!==_&&_.window!==_||(r=_);var w,T,b=2147483647,k=36,S=1,A=26,D=38,O=700,E=72,I=128,M="-",L=/^xn--/,P=/[^ -~]/,C=/\x2E|\u3002|\uFF0E|\uFF61/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},F=k-S,U=Math.floor,R=String.fromCharCode;if(w={version:"1.2.4",ucs2:{decode:l,encode:u},decode:p,encode:h,toASCII:g,toUnicode:f},"function"==typeof e&&"object"==typeof e.amd&&e.amd)e("punycode",function(){return w});else if(y&&!y.nodeType)if(v)v.exports=w;else for(T in w)w.hasOwnProperty(T)&&(y[T]=w[T]);else r.punycode=w}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,i){function n(e,t,i){!e.defaultView||t===e.defaultView.pageXOffset&&i===e.defaultView.pageYOffset||e.defaultView.scrollTo(t,i)}function r(e,t){try{t&&(t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e.getContext("2d").getImageData(0,0,e.width,e.height),0,0))}catch(t){s("Unable to copy canvas content from",e,t)}}function a(e,t){for(var i=3===e.nodeType?document.createTextNode(e.nodeValue):e.cloneNode(!1),n=e.firstChild;n;)!0!==t&&1===n.nodeType&&"SCRIPT"===n.nodeName||i.appendChild(a(n,t)),n=n.nextSibling;return 1===e.nodeType&&(i._scrollTop=e.scrollTop,i._scrollLeft=e.scrollLeft,"CANVAS"===e.nodeName?r(e,i):"TEXTAREA"!==e.nodeName&&"SELECT"!==e.nodeName||(i.value=e.value)),i}function o(e){if(1===e.nodeType){e.scrollTop=e._scrollTop,e.scrollLeft=e._scrollLeft;for(var t=e.firstChild;t;)o(t),t=t.nextSibling}}var s=e("./log");t.exports=function(e,t,i,r,s,l,u){var d=a(e.documentElement,s.javascriptEnabled),c=t.createElement("iframe");return c.className="html2canvas-container",c.style.visibility="hidden",c.style.position="fixed",c.style.left="-10000px",c.style.top="0px",c.style.border="0",c.width=i,c.height=r,c.scrolling="no",t.body.appendChild(c),new Promise(function(t){var i=c.contentWindow.document;c.contentWindow.onload=c.onload=function(){var e=setInterval(function(){i.body.childNodes.length>0&&(o(i.documentElement),clearInterval(e),"view"===s.type&&(c.contentWindow.scrollTo(l,u),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||c.contentWindow.scrollY===u&&c.contentWindow.scrollX===l||(i.documentElement.style.top=-u+"px",i.documentElement.style.left=-l+"px",i.documentElement.style.position="absolute")),t(c))},50)},i.open(),i.write("<!DOCTYPE html><html></html>"),n(e,l,u),i.replaceChild(i.adoptNode(d),i.documentElement),i.close()})}},{"./log":13}],3:[function(e,t,i){function n(e){this.r=0,this.g=0,this.b=0,this.a=null;this.fromArray(e)||this.namedColor(e)||this.rgb(e)||this.rgba(e)||this.hex6(e)||this.hex3(e)}n.prototype.darken=function(e){var t=1-e;return new n([Math.round(this.r*t),Math.round(this.g*t),Math.round(this.b*t),this.a])},n.prototype.isTransparent=function(){return 0===this.a},n.prototype.isBlack=function(){return 0===this.r&&0===this.g&&0===this.b},n.prototype.fromArray=function(e){return Array.isArray(e)&&(this.r=Math.min(e[0],255),this.g=Math.min(e[1],255),this.b=Math.min(e[2],255),e.length>3&&(this.a=e[3])),Array.isArray(e)};var r=/^#([a-f0-9]{3})$/i;n.prototype.hex3=function(e){var t=null;return null!==(t=e.match(r))&&(this.r=parseInt(t[1][0]+t[1][0],16),this.g=parseInt(t[1][1]+t[1][1],16),this.b=parseInt(t[1][2]+t[1][2],16)),null!==t};var a=/^#([a-f0-9]{6})$/i;n.prototype.hex6=function(e){var t=null;return null!==(t=e.match(a))&&(this.r=parseInt(t[1].substring(0,2),16),this.g=parseInt(t[1].substring(2,4),16),this.b=parseInt(t[1].substring(4,6),16)),null!==t}
;var o=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;n.prototype.rgb=function(e){var t=null;return null!==(t=e.match(o))&&(this.r=Number(t[1]),this.g=Number(t[2]),this.b=Number(t[3])),null!==t};var s=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/;n.prototype.rgba=function(e){var t=null;return null!==(t=e.match(s))&&(this.r=Number(t[1]),this.g=Number(t[2]),this.b=Number(t[3]),this.a=Number(t[4])),null!==t},n.prototype.toString=function(){return null!==this.a&&1!==this.a?"rgba("+[this.r,this.g,this.b,this.a].join(",")+")":"rgb("+[this.r,this.g,this.b].join(",")+")"},n.prototype.namedColor=function(e){e=e.toLowerCase();var t=l[e];if(t)this.r=t[0],this.g=t[1],this.b=t[2];else if("transparent"===e)return this.r=this.g=this.b=this.a=0,!0;return!!t},n.prototype.isColor=!0;var l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};t.exports=n},{}],4:[function(t,i,n){function r(e,t){var i=k++;if(t=t||{},t.logging&&(y.options.logging=!0,y.options.start=Date.now()),t.async=void 0===t.async||t.async,t.allowTaint=void 0!==t.allowTaint&&t.allowTaint,t.removeContainer=void 0===t.removeContainer||t.removeContainer,t.javascriptEnabled=void 0!==t.javascriptEnabled&&t.javascriptEnabled,t.imageTimeout=void 0===t.imageTimeout?1e4:t.imageTimeout,t.renderer="function"==typeof t.renderer?t.renderer:p,t.strict=!!t.strict,"string"==typeof e){if("string"!=typeof t.proxy)return Promise.reject("Proxy must be used when rendering url");var n=null!=t.width?t.width:window.innerWidth,r=null!=t.height?t.height:window.innerHeight;return w(c(e),t.proxy,document,n,r,t).then(function(e){return o(e.contentWindow.document.documentElement,e,t,n,r)})}var s=(void 0===e?[document.documentElement]:e.length?e:[e])[0];return s.setAttribute(b+i,i),a(s.ownerDocument,t,s.ownerDocument.defaultView.innerWidth,s.ownerDocument.defaultView.innerHeight,i).then(function(e){return"function"==typeof t.onrendered&&(y("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),t.onrendered(e)),e})}function a(e,t,i,n,r){return _(e,e,i,n,t,e.defaultView.pageXOffset,e.defaultView.pageYOffset).then(function(a){y("Document cloned");var s=b+r,l="["+s+"='"+r+"']";e.querySelector(l).removeAttribute(s);var u=a.contentWindow,d=u.document.querySelector(l);return("function"==typeof t.onclone?Promise.resolve(t.onclone(u.document)):Promise.resolve(!0)).then(function(){return o(d,a,t,i,n)})})}function o(e,t,i,n,r){var a=t.contentWindow,o=new m(a.document),c=new h(i,o),p=T(e),g="view"===i.type?n:u(a.document),v="view"===i.type?r:d(a.document),_=new i.renderer(g,v,c,i,document);return new f(e,_,o,c,i).ready.then(function(){y("Finished rendering");var n;return n="view"===i.type?l(_.canvas,{width:_.canvas.width,height:_.canvas.height,top:0,left:0,x:0,y:0}):e===a.document.body||e===a.document.documentElement||null!=i.canvas?_.canvas:l(_.canvas,{width:null!=i.width?i.width:p.width,height:null!=i.height?i.height:p.height,top:p.top,left:p.left,x:0,y:0}),s(t,i),n})}function s(e,t){t.removeContainer&&(e.parentNode.removeChild(e),y("Cleaned up container"))}function l(e,t){var i=document.createElement("canvas"),n=Math.min(e.width-1,Math.max(0,t.left)),r=Math.min(e.width,Math.max(1,t.left+t.width)),a=Math.min(e.height-1,Math.max(0,t.top)),o=Math.min(e.height,Math.max(1,t.top+t.height));i.width=t.width,i.height=t.height;var s=r-n,l=o-a;return y("Cropping canvas at:","left:",t.left,"top:",t.top,"width:",s,"height:",l),y("Resulting crop with width",t.width,"and height",t.height,"with x",n,"and y",a),i.getContext("2d").drawImage(e,n,a,s,l,t.x,t.y,s,l),i}function u(e){return Math.max(Math.max(e.body.scrollWidth,e.documentElement.scrollWidth),Math.max(e.body.offsetWidth,e.documentElement.offsetWidth),Math.max(e.body.clientWidth,e.documentElement.clientWidth))}function d(e){return Math.max(Math.max(e.body.scrollHeight,e.documentElement.scrollHeight),Math.max(e.body.offsetHeight,e.documentElement.offsetHeight),Math.max(e.body.clientHeight,e.documentElement.clientHeight))}function c(e){var t=document.createElement("a");return t.href=e,t.href=t.href,t}var m=t("./support"),p=t("./renderers/canvas"),h=t("./imageloader"),f=t("./nodeparser"),g=t("./nodecontainer"),y=t("./log"),v=t("./utils"),_=t("./clone"),w=t("./proxy").loadUrlDocument,T=v.getBounds,b="data-html2canvas-node",k=0;r.CanvasRenderer=p,r.NodeContainer=g,r.log=y,r.utils=v;var S="undefined"==typeof document||"function"!=typeof Object.create||"function"!=typeof document.createElement("canvas").getContext?function(){return Promise.reject("No canvas support")}:r;i.exports=S,"function"==typeof e&&e.amd&&e("html2canvas",[],function(){return S})},{"./clone":2,"./imageloader":11,"./log":13,"./nodecontainer":14,"./nodeparser":15,"./proxy":16,"./renderers/canvas":20,"./support":22,"./utils":26}],5:[function(e,t,i){function n(e){if(this.src=e,r("DummyImageContainer for",e),!this.promise||!this.image){r("Initiating DummyImageContainer"),n.prototype.image=new Image;var t=this.image;n.prototype.promise=new Promise(function(e,i){t.onload=e,t.onerror=i,t.src=a(),!0===t.complete&&e(t)})}}var r=e("./log"),a=e("./utils").smallImage;t.exports=n},{"./log":13,"./utils":26}],6:[function(e,t,i){function n(e,t){var i,n,a=document.createElement("div"),o=document.createElement("img"),s=document.createElement("span");a.style.visibility="hidden",a.style.fontFamily=e,a.style.fontSize=t,a.style.margin=0,a.style.padding=0,document.body.appendChild(a),o.src=r(),o.width=1,o.height=1,o.style.margin=0,o.style.padding=0,o.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin=0,s.style.padding=0,s.appendChild(document.createTextNode("Hidden Text")),a.appendChild(s),a.appendChild(o),i=o.offsetTop-s.offsetTop+1,a.removeChild(s),a.appendChild(document.createTextNode("Hidden Text")),a.style.lineHeight="normal",o.style.verticalAlign="super",n=o.offsetTop-a.offsetTop+1,document.body.removeChild(a),this.baseline=i,this.lineWidth=1,this.middle=n}var r=e("./utils").smallImage;t.exports=n},{"./utils":26}],7:[function(e,t,i){function n(){this.data={}}var r=e("./font");n.prototype.getMetrics=function(e,t){return void 0===this.data[e+"-"+t]&&(this.data[e+"-"+t]=new r(e,t)),this.data[e+"-"+t]},t.exports=n},{"./font":6}],8:[function(e,t,i){function n(t,i,n){this.image=null,this.src=t;var r=this,o=a(t);this.promise=(i?new Promise(function(e){"about:blank"===t.contentWindow.document.URL||null==t.contentWindow.document.documentElement?t.contentWindow.onload=t.onload=function(){e(t)}:e(t)}):this.proxyLoad(n.proxy,o,n)).then(function(t){return e("./core")(t.contentWindow.document.documentElement,{type:"view",width:t.width,height:t.height,proxy:n.proxy,javascriptEnabled:n.javascriptEnabled,removeContainer:n.removeContainer,allowTaint:n.allowTaint,imageTimeout:n.imageTimeout/2})}).then(function(e){return r.image=e})}var r=e("./utils"),a=r.getBounds,o=e("./proxy").loadUrlDocument;n.prototype.proxyLoad=function(e,t,i){var n=this.src;return o(n.src,e,n.ownerDocument,t.width,t.height,i)},t.exports=n},{"./core":4,"./proxy":16,"./utils":26}],9:[function(e,t,i){function n(e){this.src=e.value,this.colorStops=[],this.type=null,this.x0=.5,this.y0=.5,this.x1=.5,this.y1=.5,this.promise=Promise.resolve(!0)}n.TYPES={LINEAR:1,RADIAL:2},n.REGEXP_COLORSTOP=/^\s*(rgba?\(\s*\d{1,3},\s*\d{1,3},\s*\d{1,3}(?:,\s*[0-9\.]+)?\s*\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\s+(\d{1,3}(?:\.\d+)?)(%|px)?)?(?:\s|$)/i,t.exports=n},{}],10:[function(e,t,i){function n(e,t){this.src=e,this.image=new Image;var i=this;this.tainted=null,this.promise=new Promise(function(n,r){i.image.onload=n,i.image.onerror=r,t&&(i.image.crossOrigin="anonymous"),i.image.src=e,!0===i.image.complete&&n(i.image)})}t.exports=n},{}],11:[function(e,t,i){function n(e,t){this.link=null,this.options=e,this.support=t,this.origin=this.getOrigin(window.location.href)}var r=e("./log"),a=e("./imagecontainer"),o=e("./dummyimagecontainer"),s=e("./proxyimagecontainer"),l=e("./framecontainer"),u=e("./svgcontainer"),d=e("./svgnodecontainer"),c=e("./lineargradientcontainer"),m=e("./webkitgradientcontainer"),p=e("./utils").bind;n.prototype.findImages=function(e){var t=[];return e.reduce(function(e,t){switch(t.node.nodeName){case"IMG":return e.concat([{args:[t.node.src],method:"url"}]);case"svg":case"IFRAME":return e.concat([{args:[t.node],method:t.node.nodeName}])}return e},[]).forEach(this.addImage(t,this.loadImage),this),t},n.prototype.findBackgroundImage=function(e,t){return t.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(e,this.loadImage),this),e},n.prototype.addImage=function(e,t){return function(i){i.args.forEach(function(n){this.imageExists(e,n)||(e.splice(0,0,t.call(this,i)),r("Added image #"+e.length,"string"==typeof n?n.substring(0,100):n))},this)}},n.prototype.hasImageBackground=function(e){return"none"!==e.method},n.prototype.loadImage=function(e){if("url"===e.method){var t=e.args[0];return!this.isSVG(t)||this.support.svg||this.options.allowTaint?t.match(/data:image\/.*;base64,/i)?new a(t.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),!1):this.isSameOrigin(t)||!0===this.options.allowTaint||this.isSVG(t)?new a(t,!1):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new a(t,!0):this.options.proxy?new s(t,this.options.proxy):new o(t):new u(t)}return"linear-gradient"===e.method?new c(e):"gradient"===e.method?new m(e):"svg"===e.method?new d(e.args[0],this.support.svg):"IFRAME"===e.method?new l(e.args[0],this.isSameOrigin(e.args[0].src),this.options):new o(e)},n.prototype.isSVG=function(e){return"svg"===e.substring(e.length-3).toLowerCase()||u.prototype.isInline(e)},n.prototype.imageExists=function(e,t){return e.some(function(e){return e.src===t})},n.prototype.isSameOrigin=function(e){return this.getOrigin(e)===this.origin},n.prototype.getOrigin=function(e){var t=this.link||(this.link=document.createElement("a"));return t.href=e,t.href=t.href,t.protocol+t.hostname+t.port},n.prototype.getPromise=function(e){return this.timeout(e,this.options.imageTimeout).catch(function(){return new o(e.src).promise.then(function(t){e.image=t})})},n.prototype.get=function(e){var t=null;return this.images.some(function(i){return(t=i).src===e})?t:null},n.prototype.fetch=function(e){return this.images=e.reduce(p(this.findBackgroundImage,this),this.findImages(e)),this.images.forEach(function(e,t){e.promise.then(function(){r("Succesfully loaded image #"+(t+1),e)},function(i){r("Failed loading image #"+(t+1),e,i)})}),this.ready=Promise.all(this.images.map(this.getPromise,this)),r("Finished searching images"),this},n.prototype.timeout=function(e,t){var i,n=Promise.race([e.promise,new Promise(function(n,a){i=setTimeout(function(){r("Timed out loading image",e),a(e)},t)})]).then(function(e){return clearTimeout(i),e});return n.catch(function(){clearTimeout(i)}),n},t.exports=n},{"./dummyimagecontainer":5,"./framecontainer":8,"./imagecontainer":10,"./lineargradientcontainer":12,"./log":13,"./proxyimagecontainer":17,"./svgcontainer":23,"./svgnodecontainer":24,"./utils":26,"./webkitgradientcontainer":27}],12:[function(e,t,i){function n(e){r.apply(this,arguments),this.type=r.TYPES.LINEAR;var t=n.REGEXP_DIRECTION.test(e.args[0])||!r.REGEXP_COLORSTOP.test(e.args[0]);t?e.args[0].split(/\s+/).reverse().forEach(function(e,t){switch(e){case"left":this.x0=0,this.x1=1;break;case"top":this.y0=0,this.y1=1;break;case"right":this.x0=1,this.x1=0;break;case"bottom":this.y0=1,this.y1=0;break;case"to":var i=this.y0,n=this.x0;this.y0=this.y1,this.x0=this.x1,this.x1=n,this.y1=i;break;case"center":break;default:var r=.01*parseFloat(e,10);if(isNaN(r))break;0===t?(this.y0=r,this.y1=1-this.y0):(this.x0=r,this.x1=1-this.x0)}},this):(this.y0=0,this.y1=1),this.colorStops=e.args.slice(t?1:0).map(function(e){var t=e.match(r.REGEXP_COLORSTOP),i=+t[2],n=0===i?"%":t[3];return{color:new a(t[1]),stop:"%"===n?i/100:null}}),null===this.colorStops[0].stop&&(this.colorStops[0].stop=0),null===this.colorStops[this.colorStops.length-1].stop&&(this.colorStops[this.colorStops.length-1].stop=1),this.colorStops.forEach(function(e,t){null===e.stop&&this.colorStops.slice(t).some(function(i,n){return null!==i.stop&&(e.stop=(i.stop-this.colorStops[t-1].stop)/(n+1)+this.colorStops[t-1].stop,!0)},this)},this)}var r=e("./gradientcontainer"),a=e("./color");n.prototype=Object.create(r.prototype),n.REGEXP_DIRECTION=/^\s*(?:to|left|right|top|bottom|center|\d{1,3}(?:\.\d+)?%?)(?:\s|$)/i,t.exports=n},{"./color":3,"./gradientcontainer":9}],13:[function(e,t,i){var n=function(){n.options.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-n.options.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))};n.options={logging:!1},t.exports=n},{}],14:[function(e,t,i){function n(e,t){this.node=e,this.parent=t,this.stack=null,this.bounds=null,this.borders=null,this.clip=[],this.backgroundClip=[],this.offsetBounds=null,this.visible=null,this.computedStyles=null,this.colors={},this.styles={},this.backgroundImages=null,this.transformData=null,this.transformMatrix=null,this.isPseudoElement=!1,this.opacity=null}function r(e){var t=e.options[e.selectedIndex||0];return t?t.text||"":""}function a(e){if(e&&"matrix"===e[1])return e[2].split(",").map(function(e){return parseFloat(e.trim())});if(e&&"matrix3d"===e[1]){var t=e[2].split(",").map(function(e){return parseFloat(e.trim())});return[t[0],t[1],t[4],t[5],t[12],t[13]]}}function o(e){return-1!==e.toString().indexOf("%")}function s(e){return e.replace("px","")}function l(e){return parseFloat(e)}var u=e("./color"),d=e("./utils"),c=d.getBounds,m=d.parseBackgrounds,p=d.offsetBounds;n.prototype.cloneTo=function(e){e.visible=this.visible,e.borders=this.borders,e.bounds=this.bounds,e.clip=this.clip,e.backgroundClip=this.backgroundClip,e.computedStyles=this.computedStyles,e.styles=this.styles,e.backgroundImages=this.backgroundImages,e.opacity=this.opacity},n.prototype.getOpacity=function(){return null===this.opacity?this.opacity=this.cssFloat("opacity"):this.opacity},n.prototype.assignStack=function(e){this.stack=e,e.children.push(this)},n.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:"none"!==this.css("display")&&"hidden"!==this.css("visibility")&&!this.node.hasAttribute("data-html2canvas-ignore")&&("INPUT"!==this.node.nodeName||"hidden"!==this.node.getAttribute("type"))},n.prototype.css=function(e){return this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null)),this.styles[e]||(this.styles[e]=this.computedStyles[e])},n.prototype.prefixedCss=function(e){var t=["webkit","moz","ms","o"],i=this.css(e);return void 0===i&&t.some(function(t){return void 0!==(i=this.css(t+e.substr(0,1).toUpperCase()+e.substr(1)))},this),void 0===i?null:i},n.prototype.computedStyle=function(e){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,e)},n.prototype.cssInt=function(e){var t=parseInt(this.css(e),10);return isNaN(t)?0:t},n.prototype.color=function(e){return this.colors[e]||(this.colors[e]=new u(this.css(e)))},n.prototype.cssFloat=function(e){var t=parseFloat(this.css(e));return isNaN(t)?0:t},n.prototype.fontWeight=function(){var e=this.css("fontWeight");switch(parseInt(e,10)){case 401:e="bold";break;case 400:e="normal"}return e},n.prototype.parseClip=function(){var e=this.css("clip").match(this.CLIP);return e?{top:parseInt(e[1],10),right:parseInt(e[2],10),bottom:parseInt(e[3],10),left:parseInt(e[4],10)}:null},n.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=m(this.css("backgroundImage")))},n.prototype.cssList=function(e,t){var i=(this.css(e)||"").split(",");return i=i[t||0]||i[0]||"auto",i=i.trim().split(" "),1===i.length&&(i=[i[0],o(i[0])?"auto":i[0]]),i},n.prototype.parseBackgroundSize=function(e,t,i){var n,r,a=this.cssList("backgroundSize",i);if(o(a[0]))n=e.width*parseFloat(a[0])/100;else{if(/contain|cover/.test(a[0])){var s=e.width/e.height,l=t.width/t.height;return s<l^"contain"===a[0]?{width:e.height*l,height:e.height}:{width:e.width,height:e.width/l}}n=parseInt(a[0],10)}return r="auto"===a[0]&&"auto"===a[1]?t.height:"auto"===a[1]?n/t.width*t.height:o(a[1])?e.height*parseFloat(a[1])/100:parseInt(a[1],10),"auto"===a[0]&&(n=r/t.height*t.width),{width:n,height:r}},n.prototype.parseBackgroundPosition=function(e,t,i,n){var r,a,s=this.cssList("backgroundPosition",i);return r=o(s[0])?(e.width-(n||t).width)*(parseFloat(s[0])/100):parseInt(s[0],10),a="auto"===s[1]?r/t.width*t.height:o(s[1])?(e.height-(n||t).height)*parseFloat(s[1])/100:parseInt(s[1],10),"auto"===s[0]&&(r=a/t.height*t.width),{left:r,top:a}},n.prototype.parseBackgroundRepeat=function(e){return this.cssList("backgroundRepeat",e)[0]},n.prototype.parseTextShadows=function(){var e=this.css("textShadow"),t=[];if(e&&"none"!==e)for(var i=e.match(this.TEXT_SHADOW_PROPERTY),n=0;i&&n<i.length;n++){var r=i[n].match(this.TEXT_SHADOW_VALUES);t.push({color:new u(r[0]),offsetX:r[1]?parseFloat(r[1].replace("px","")):0,offsetY:r[2]?parseFloat(r[2].replace("px","")):0,blur:r[3]?r[3].replace("px",""):0})}return t},n.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var e=this.parseBounds(),t=this.prefixedCss("transformOrigin").split(" ").map(s).map(l);t[0]+=e.left,t[1]+=e.top,this.transformData={origin:t,matrix:this.parseTransformMatrix()}}else this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]};return this.transformData},n.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var e=this.prefixedCss("transform"),t=e?a(e.match(this.MATRIX_PROPERTY)):null;this.transformMatrix=t||[1,0,0,1,0,0]}return this.transformMatrix},n.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?p(this.node):c(this.node))},n.prototype.hasTransform=function(){return"1,0,0,1,0,0"!==this.parseTransformMatrix().join(",")||this.parent&&this.parent.hasTransform()},n.prototype.getValue=function(){var e=this.node.value||"";return"SELECT"===this.node.tagName?e=r(this.node):"password"===this.node.type&&(e=Array(e.length+1).join("•")),0===e.length?this.node.placeholder||"":e},n.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/,n.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,n.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g,n.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/,t.exports=n},{"./color":3,"./utils":26}],15:[function(e,t,i){function n(e,t,i,n,r){N("Starting NodeParser"),this.renderer=t,this.options=r,this.range=null,this.support=i,this.renderQueue=[],this.stack=new G(!0,1,e.ownerDocument,null);var a=new j(e,null);if(r.background&&t.rectangle(0,0,t.width,t.height,new $(r.background)),e===e.ownerDocument.documentElement){var o=new j(a.color("backgroundColor").isTransparent()?e.ownerDocument.body:e.ownerDocument.documentElement,null);t.rectangle(0,0,t.width,t.height,o.color("backgroundColor"))}a.visibile=a.isElementVisible(),this.createPseudoHideStyles(e.ownerDocument),this.disableAnimations(e.ownerDocument),this.nodes=F([a].concat(this.getChildren(a)).filter(function(e){return e.visible=e.isElementVisible()}).map(this.getPseudoElements,this)),this.fontMetrics=new H,N("Fetched nodes, total:",this.nodes.length),N("Calculate overflow clips"),this.calculateOverflowClips(),N("Start fetching images"),this.images=n.fetch(this.nodes.filter(O)),this.ready=this.images.ready.then(J(function(){return N("Images loaded, starting parsing"),N("Creating stacking contexts"),this.createStackingContexts(),N("Sorting stacking contexts"),this.sortStackingContexts(this.stack),this.parse(this.stack),N("Render queue created with "+this.renderQueue.length+" items"),new Promise(J(function(e){r.async?"function"==typeof r.async?r.async.call(this,this.renderQueue,e):this.renderQueue.length>0?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,e)):e():(this.renderQueue.forEach(this.paint,this),e())},this))},this))}function r(e){return e.parent&&e.parent.clip.length}function a(e){return e.replace(/(\-[a-z])/g,function(e){return e.toUpperCase().replace("-","")})}function o(){}function s(e,t,i,n){return e.map(function(r,a){if(r.width>0){var o=t.left,s=t.top,l=t.width,u=t.height-e[2].width;switch(a){case 0:u=e[0].width,r.args=c({c1:[o,s],c2:[o+l,s],c3:[o+l-e[1].width,s+u],c4:[o+e[3].width,s+u]},n[0],n[1],i.topLeftOuter,i.topLeftInner,i.topRightOuter,i.topRightInner);break;case 1:o=t.left+t.width-e[1].width,l=e[1].width,r.args=c({c1:[o+l,s],c2:[o+l,s+u+e[2].width],c3:[o,s+u],c4:[o,s+e[0].width]},n[1],n[2],i.topRightOuter,i.topRightInner,i.bottomRightOuter,i.bottomRightInner);break;case 2:s=s+t.height-e[2].width,u=e[2].width,r.args=c({c1:[o+l,s+u],c2:[o,s+u],c3:[o+e[3].width,s],c4:[o+l-e[3].width,s]},n[2],n[3],i.bottomRightOuter,i.bottomRightInner,i.bottomLeftOuter,i.bottomLeftInner);break;case 3:l=e[3].width,r.args=c({c1:[o,s+u+e[2].width],c2:[o,s],c3:[o+l,s+e[0].width],c4:[o+l,s+u]},n[3],n[0],i.bottomLeftOuter,i.bottomLeftInner,i.topLeftOuter,i.topLeftInner)}}return r})}function l(e,t,i,n){var r=(Math.sqrt(2)-1)/3*4,a=i*r,o=n*r,s=e+i,l=t+n;return{topLeft:d({x:e,y:l},{x:e,y:l-o},{x:s-a,y:t},{x:s,y:t}),topRight:d({x:e,y:t},{x:e+a,y:t},{x:s,y:l-o},{x:s,y:l}),bottomRight:d({x:s,y:t},{x:s,y:t+o},{x:e+a,y:l},{x:e,y:l}),bottomLeft:d({x:s,y:l},{x:s-a,y:l},{x:e,y:t+o},{x:e,y:t})}}function u(e,t,i){var n=e.left,r=e.top,a=e.width,o=e.height,s=t[0][0]<a/2?t[0][0]:a/2,u=t[0][1]<o/2?t[0][1]:o/2,d=t[1][0]<a/2?t[1][0]:a/2,c=t[1][1]<o/2?t[1][1]:o/2,m=t[2][0]<a/2?t[2][0]:a/2,p=t[2][1]<o/2?t[2][1]:o/2,h=t[3][0]<a/2?t[3][0]:a/2,f=t[3][1]<o/2?t[3][1]:o/2,g=a-d,y=o-p,v=a-m,_=o-f;return{topLeftOuter:l(n,r,s,u).topLeft.subdivide(.5),topLeftInner:l(n+i[3].width,r+i[0].width,Math.max(0,s-i[3].width),Math.max(0,u-i[0].width)).topLeft.subdivide(.5),topRightOuter:l(n+g,r,d,c).topRight.subdivide(.5),topRightInner:l(n+Math.min(g,a+i[3].width),r+i[0].width,g>a+i[3].width?0:d-i[3].width,c-i[0].width).topRight.subdivide(.5),bottomRightOuter:l(n+v,r+y,m,p).bottomRight.subdivide(.5),bottomRightInner:l(n+Math.min(v,a-i[3].width),r+Math.min(y,o+i[0].width),Math.max(0,m-i[1].width),p-i[2].width).bottomRight.subdivide(.5),bottomLeftOuter:l(n,r+_,h,f).bottomLeft.subdivide(.5),bottomLeftInner:l(n+i[3].width,r+_,Math.max(0,h-i[3].width),f-i[2].width).bottomLeft.subdivide(.5)}}function d(e,t,i,n){var r=function(e,t,i){return{x:e.x+(t.x-e.x)*i,y:e.y+(t.y-e.y)*i}};return{start:e,startControl:t,endControl:i,end:n,subdivide:function(a){var o=r(e,t,a),s=r(t,i,a),l=r(i,n,a),u=r(o,s,a),c=r(s,l,a),m=r(u,c,a);return[d(e,o,u,m),d(m,c,l,n)]},curveTo:function(e){e.push(["bezierCurve",t.x,t.y,i.x,i.y,n.x,n.y])},curveToReversed:function(n){n.push(["bezierCurve",i.x,i.y,t.x,t.y,e.x,e.y])}}}function c(e,t,i,n,r,a,o){var s=[];return t[0]>0||t[1]>0?(s.push(["line",n[1].start.x,n[1].start.y]),n[1].curveTo(s)):s.push(["line",e.c1[0],e.c1[1]]),i[0]>0||i[1]>0?(s.push(["line",a[0].start.x,a[0].start.y]),a[0].curveTo(s),s.push(["line",o[0].end.x,o[0].end.y]),o[0].curveToReversed(s)):(s.push(["line",e.c2[0],e.c2[1]]),s.push(["line",e.c3[0],e.c3[1]])),t[0]>0||t[1]>0?(s.push(["line",r[1].end.x,r[1].end.y]),r[1].curveToReversed(s)):s.push(["line",e.c4[0],e.c4[1]]),s}function m(e,t,i,n,r,a,o){t[0]>0||t[1]>0?(e.push(["line",n[0].start.x,n[0].start.y]),n[0].curveTo(e),n[1].curveTo(e)):e.push(["line",a,o]),(i[0]>0||i[1]>0)&&e.push(["line",r[0].start.x,r[0].start.y])}function p(e){return e.cssInt("zIndex")<0}function h(e){return e.cssInt("zIndex")>0}function f(e){return 0===e.cssInt("zIndex")}function g(e){return-1!==["inline","inline-block","inline-table"].indexOf(e.css("display"))}function y(e){return e instanceof G}function v(e){return e.node.data.trim().length>0}function _(e){return/^(normal|none|0px)$/.test(e.parent.css("letterSpacing"))}function w(e){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(t){var i=e.css("border"+t+"Radius"),n=i.split(" ");return n.length<=1&&(n[1]=n[0]),n.map(P)})}function T(e){return e.nodeType===Node.TEXT_NODE||e.nodeType===Node.ELEMENT_NODE}function b(e){return"auto"!==(-1!==["absolute","relative","fixed"].indexOf(e.css("position"))?e.css("zIndex"):"auto")}function k(e){return"static"!==e.css("position")}function S(e){return"none"!==e.css("float")}function A(e){return-1!==["inline-block","inline-table"].indexOf(e.css("display"))}function D(e){var t=this;return function(){return!e.apply(t,arguments)}}function O(e){return e.node.nodeType===Node.ELEMENT_NODE}function E(e){return!0===e.isPseudoElement}function I(e){return e.node.nodeType===Node.TEXT_NODE}function M(e){return function(t,i){return t.cssInt("zIndex")+e.indexOf(t)/e.length-(i.cssInt("zIndex")+e.indexOf(i)/e.length)}}function L(e){return e.getOpacity()<1}function P(e){return parseInt(e,10)}function C(e){return e.width}function x(e){return e.node.nodeType!==Node.ELEMENT_NODE||-1===["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"].indexOf(e.node.nodeName)}function F(e){return[].concat.apply([],e)}function U(e){var t=e.substr(0,1);return t===e.substr(e.length-1)&&t.match(/'|"/)?e.substr(1,e.length-2):e}function R(e){for(var t,i=[],n=0,r=!1;e.length;)B(e[n])===r?(t=e.splice(0,n),t.length&&i.push(W.ucs2.encode(t)),r=!r,n=0):n++,n>=e.length&&(t=e.splice(0,n),t.length&&i.push(W.ucs2.encode(t)));return i}function B(e){return-1!==[32,13,10,9,45].indexOf(e)}function Y(e){return/[^\u0000-\u00ff]/.test(e)}var N=e("./log"),W=e("punycode"),j=e("./nodecontainer"),V=e("./textcontainer"),z=e("./pseudoelementcontainer"),H=e("./fontmetrics"),$=e("./color"),G=e("./stackingcontext"),K=e("./utils"),J=K.bind,q=K.getBounds,Z=K.parseBackgrounds,Q=K.offsetBounds;n.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(e){if(O(e)){E(e)&&e.appendToDOM(),e.borders=this.parseBorders(e);var t="hidden"===e.css("overflow")?[e.borders.clip]:[],i=e.parseClip();i&&-1!==["absolute","fixed"].indexOf(e.css("position"))&&t.push([["rect",e.bounds.left+i.left,e.bounds.top+i.top,i.right-i.left,i.bottom-i.top]]),e.clip=r(e)?e.parent.clip.concat(t):t,e.backgroundClip="hidden"!==e.css("overflow")?e.clip.concat([e.borders.clip]):e.clip,E(e)&&e.cleanDOM()}else I(e)&&(e.clip=r(e)?e.parent.clip:[]);E(e)||(e.bounds=null)},this)},n.prototype.asyncRenderer=function(e,t,i){i=i||Date.now(),this.paint(e[this.renderIndex++]),e.length===this.renderIndex?t():i+20>Date.now()?this.asyncRenderer(e,t,i):setTimeout(J(function(){this.asyncRenderer(e,t)},this),0)},n.prototype.createPseudoHideStyles=function(e){this.createStyles(e,"."+z.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+z.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')},n.prototype.disableAnimations=function(e){this.createStyles(e,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")},n.prototype.createStyles=function(e,t){var i=e.createElement("style");i.innerHTML=t,e.body.appendChild(i)},n.prototype.getPseudoElements=function(e){var t=[[e]];if(e.node.nodeType===Node.ELEMENT_NODE){var i=this.getPseudoElement(e,":before"),n=this.getPseudoElement(e,":after");i&&t.push(i),n&&t.push(n)}return F(t)},n.prototype.getPseudoElement=function(e,t){var i=e.computedStyle(t);if(!i||!i.content||"none"===i.content||"-moz-alt-content"===i.content||"none"===i.display)return null;for(var n=U(i.content),r="url"===n.substr(0,3),o=document.createElement(r?"img":"html2canvaspseudoelement"),s=new z(o,e,t),l=i.length-1;l>=0;l--){var u=a(i.item(l));o.style[u]=i[u]}if(o.className=z.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+z.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER,r)return o.src=Z(n)[0].args[0],[s];var d=document.createTextNode(n);return o.appendChild(d),[s,new V(d,s)]},n.prototype.getChildren=function(e){return F([].filter.call(e.node.childNodes,T).map(function(t){var i=[t.nodeType===Node.TEXT_NODE?new V(t,e):new j(t,e)].filter(x);return t.nodeType===Node.ELEMENT_NODE&&i.length&&"TEXTAREA"!==t.tagName?i[0].isElementVisible()?i.concat(this.getChildren(i[0])):[]:i},this))},n.prototype.newStackingContext=function(e,t){var i=new G(t,e.getOpacity(),e.node,e.parent);e.cloneTo(i),(t?i.getParentStack(this):i.parent.stack).contexts.push(i),e.stack=i},n.prototype.createStackingContexts=function(){this.nodes.forEach(function(e){
O(e)&&(this.isRootElement(e)||L(e)||b(e)||this.isBodyWithTransparentRoot(e)||e.hasTransform())?this.newStackingContext(e,!0):O(e)&&(k(e)&&f(e)||A(e)||S(e))?this.newStackingContext(e,!1):e.assignStack(e.parent.stack)},this)},n.prototype.isBodyWithTransparentRoot=function(e){return"BODY"===e.node.nodeName&&e.parent.color("backgroundColor").isTransparent()},n.prototype.isRootElement=function(e){return null===e.parent},n.prototype.sortStackingContexts=function(e){e.contexts.sort(M(e.contexts.slice(0))),e.contexts.forEach(this.sortStackingContexts,this)},n.prototype.parseTextBounds=function(e){return function(t,i,n){if("none"!==e.parent.css("textDecoration").substr(0,4)||0!==t.trim().length){if(this.support.rangeBounds&&!e.parent.hasTransform()){var r=n.slice(0,i).join("").length;return this.getRangeBounds(e.node,r,t.length)}if(e.node&&"string"==typeof e.node.data){var a=e.node.splitText(t.length),o=this.getWrapperBounds(e.node,e.parent.hasTransform());return e.node=a,o}}else this.support.rangeBounds&&!e.parent.hasTransform()||(e.node=e.node.splitText(t.length));return{}}},n.prototype.getWrapperBounds=function(e,t){var i=e.ownerDocument.createElement("html2canvaswrapper"),n=e.parentNode,r=e.cloneNode(!0);i.appendChild(e.cloneNode(!0)),n.replaceChild(i,e);var a=t?Q(i):q(i);return n.replaceChild(r,i),a},n.prototype.getRangeBounds=function(e,t,i){var n=this.range||(this.range=e.ownerDocument.createRange());return n.setStart(e,t),n.setEnd(e,t+i),n.getBoundingClientRect()},n.prototype.parse=function(e){var t=e.contexts.filter(p),i=e.children.filter(O),n=i.filter(D(S)),r=n.filter(D(k)).filter(D(g)),a=i.filter(D(k)).filter(S),s=n.filter(D(k)).filter(g),l=e.contexts.concat(n.filter(k)).filter(f),u=e.children.filter(I).filter(v),d=e.contexts.filter(h);t.concat(r).concat(a).concat(s).concat(l).concat(u).concat(d).forEach(function(e){this.renderQueue.push(e),y(e)&&(this.parse(e),this.renderQueue.push(new o))},this)},n.prototype.paint=function(e){try{e instanceof o?this.renderer.ctx.restore():I(e)?(E(e.parent)&&e.parent.appendToDOM(),this.paintText(e),E(e.parent)&&e.parent.cleanDOM()):this.paintNode(e)}catch(e){if(N(e),this.options.strict)throw e}},n.prototype.paintNode=function(e){y(e)&&(this.renderer.setOpacity(e.opacity),this.renderer.ctx.save(),e.hasTransform()&&this.renderer.setTransform(e.parseTransform())),"INPUT"===e.node.nodeName&&"checkbox"===e.node.type?this.paintCheckbox(e):"INPUT"===e.node.nodeName&&"radio"===e.node.type?this.paintRadio(e):this.paintElement(e)},n.prototype.paintElement=function(e){var t=e.parseBounds();this.renderer.clip(e.backgroundClip,function(){this.renderer.renderBackground(e,t,e.borders.borders.map(C))},this),this.renderer.clip(e.clip,function(){this.renderer.renderBorders(e.borders.borders)},this),this.renderer.clip(e.backgroundClip,function(){switch(e.node.nodeName){case"svg":case"IFRAME":var i=this.images.get(e.node);i?this.renderer.renderImage(e,t,e.borders,i):N("Error loading <"+e.node.nodeName+">",e.node);break;case"IMG":var n=this.images.get(e.node.src);n?this.renderer.renderImage(e,t,e.borders,n):N("Error loading <img>",e.node.src);break;case"CANVAS":this.renderer.renderImage(e,t,e.borders,{image:e.node});break;case"SELECT":case"INPUT":case"TEXTAREA":this.paintFormValue(e)}},this)},n.prototype.paintCheckbox=function(e){var t=e.parseBounds(),i=Math.min(t.width,t.height),n={width:i-1,height:i-1,top:t.top,left:t.left},r=[3,3],a=[r,r,r,r],o=[1,1,1,1].map(function(e){return{color:new $("#A5A5A5"),width:e}}),l=u(n,a,o);this.renderer.clip(e.backgroundClip,function(){this.renderer.rectangle(n.left+1,n.top+1,n.width-2,n.height-2,new $("#DEDEDE")),this.renderer.renderBorders(s(o,n,l,a)),e.node.checked&&(this.renderer.font(new $("#424242"),"normal","normal","bold",i-3+"px","arial"),this.renderer.text("✔",n.left+i/6,n.top+i-1))},this)},n.prototype.paintRadio=function(e){var t=e.parseBounds(),i=Math.min(t.width,t.height)-2;this.renderer.clip(e.backgroundClip,function(){this.renderer.circleStroke(t.left+1,t.top+1,i,new $("#DEDEDE"),1,new $("#A5A5A5")),e.node.checked&&this.renderer.circle(Math.ceil(t.left+i/4)+1,Math.ceil(t.top+i/4)+1,Math.floor(i/2),new $("#424242"))},this)},n.prototype.paintFormValue=function(e){var t=e.getValue();if(t.length>0){var i=e.node.ownerDocument,n=i.createElement("html2canvaswrapper");["lineHeight","textAlign","fontFamily","fontWeight","fontSize","color","paddingLeft","paddingTop","paddingRight","paddingBottom","width","height","borderLeftStyle","borderTopStyle","borderLeftWidth","borderTopWidth","boxSizing","whiteSpace","wordWrap"].forEach(function(t){try{n.style[t]=e.css(t)}catch(e){N("html2canvas: Parse: Exception caught in renderFormValue: "+e.message)}});var r=e.parseBounds();n.style.position="fixed",n.style.left=r.left+"px",n.style.top=r.top+"px",n.textContent=t,i.body.appendChild(n),this.paintText(new V(n.firstChild,e)),i.body.removeChild(n)}},n.prototype.paintText=function(e){e.applyTextTransform();var t=W.ucs2.decode(e.node.data),i=this.options.letterRendering&&!_(e)||Y(e.node.data)?t.map(function(e){return W.ucs2.encode([e])}):R(t),n=e.parent.fontWeight(),r=e.parent.css("fontSize"),a=e.parent.css("fontFamily"),o=e.parent.parseTextShadows();this.renderer.font(e.parent.color("color"),e.parent.css("fontStyle"),e.parent.css("fontVariant"),n,r,a),o.length?this.renderer.fontShadow(o[0].color,o[0].offsetX,o[0].offsetY,o[0].blur):this.renderer.clearShadow(),this.renderer.clip(e.parent.clip,function(){i.map(this.parseTextBounds(e),this).forEach(function(t,n){t&&(this.renderer.text(i[n],t.left,t.bottom),this.renderTextDecoration(e.parent,t,this.fontMetrics.getMetrics(a,r)))},this)},this)},n.prototype.renderTextDecoration=function(e,t,i){switch(e.css("textDecoration").split(" ")[0]){case"underline":this.renderer.rectangle(t.left,Math.round(t.top+i.baseline+i.lineWidth),t.width,1,e.color("color"));break;case"overline":this.renderer.rectangle(t.left,Math.round(t.top),t.width,1,e.color("color"));break;case"line-through":this.renderer.rectangle(t.left,Math.ceil(t.top+i.middle+i.lineWidth),t.width,1,e.color("color"))}};var X={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};n.prototype.parseBorders=function(e){var t=e.parseBounds(),i=w(e),n=["Top","Right","Bottom","Left"].map(function(t,i){var n=e.css("border"+t+"Style"),r=e.color("border"+t+"Color");"inset"===n&&r.isBlack()&&(r=new $([255,255,255,r.a]));var a=X[n]?X[n][i]:null;return{width:e.cssInt("border"+t+"Width"),color:a?r[a[0]](a[1]):r,args:null}}),r=u(t,i,n);return{clip:this.parseBackgroundClip(e,r,n,i,t),borders:s(n,t,r,i)}},n.prototype.parseBackgroundClip=function(e,t,i,n,r){var a=e.css("backgroundClip"),o=[];switch(a){case"content-box":case"padding-box":m(o,n[0],n[1],t.topLeftInner,t.topRightInner,r.left+i[3].width,r.top+i[0].width),m(o,n[1],n[2],t.topRightInner,t.bottomRightInner,r.left+r.width-i[1].width,r.top+i[0].width),m(o,n[2],n[3],t.bottomRightInner,t.bottomLeftInner,r.left+r.width-i[1].width,r.top+r.height-i[2].width),m(o,n[3],n[0],t.bottomLeftInner,t.topLeftInner,r.left+i[3].width,r.top+r.height-i[2].width);break;default:m(o,n[0],n[1],t.topLeftOuter,t.topRightOuter,r.left,r.top),m(o,n[1],n[2],t.topRightOuter,t.bottomRightOuter,r.left+r.width,r.top),m(o,n[2],n[3],t.bottomRightOuter,t.bottomLeftOuter,r.left+r.width,r.top+r.height),m(o,n[3],n[0],t.bottomLeftOuter,t.topLeftOuter,r.left,r.top+r.height)}return o},t.exports=n},{"./color":3,"./fontmetrics":7,"./log":13,"./nodecontainer":14,"./pseudoelementcontainer":18,"./stackingcontext":21,"./textcontainer":25,"./utils":26,punycode:1}],16:[function(e,t,i){function n(e,t,i){var n="withCredentials"in new XMLHttpRequest;if(!t)return Promise.reject("No proxy configured");var r=o(n),l=s(t,e,r);return n?d(l):a(i,l,r).then(function(e){return h(e.content)})}function r(e,t,i){var n="crossOrigin"in new Image,r=o(n),l=s(t,e,r);return n?Promise.resolve(l):a(i,l,r).then(function(e){return"data:"+e.type+";base64,"+e.content})}function a(e,t,i){return new Promise(function(n,r){var a=e.createElement("script"),o=function(){delete window.html2canvas.proxy[i],e.body.removeChild(a)};window.html2canvas.proxy[i]=function(e){o(),n(e)},a.src=t,a.onerror=function(e){o(),r(e)},e.body.appendChild(a)})}function o(e){return e?"":"html2canvas_"+Date.now()+"_"+ ++f+"_"+Math.round(1e5*Math.random())}function s(e,t,i){return e+"?url="+encodeURIComponent(t)+(i.length?"&callback=html2canvas.proxy."+i:"")}function l(e){return function(t){var i,n=new DOMParser;try{i=n.parseFromString(t,"text/html")}catch(e){m("DOMParser not supported, falling back to createHTMLDocument"),i=document.implementation.createHTMLDocument("");try{i.open(),i.write(t),i.close()}catch(e){m("createHTMLDocument write not supported, falling back to document.body.innerHTML"),i.body.innerHTML=t}}var r=i.querySelector("base");if(!r||!r.href.host){var a=i.createElement("base");a.href=e,i.head.insertBefore(a,i.head.firstChild)}return i}}function u(e,t,i,r,a,o){return new n(e,t,window.document).then(l(e)).then(function(e){return p(e,i,r,a,o,0,0)})}var d=e("./xhr"),c=e("./utils"),m=e("./log"),p=e("./clone"),h=c.decode64,f=0;i.Proxy=n,i.ProxyURL=r,i.loadUrlDocument=u},{"./clone":2,"./log":13,"./utils":26,"./xhr":28}],17:[function(e,t,i){function n(e,t){var i=document.createElement("a");i.href=e,e=i.href,this.src=e,this.image=new Image;var n=this;this.promise=new Promise(function(i,a){n.image.crossOrigin="Anonymous",n.image.onload=i,n.image.onerror=a,new r(e,t,document).then(function(e){n.image.src=e}).catch(a)})}var r=e("./proxy").ProxyURL;t.exports=n},{"./proxy":16}],18:[function(e,t,i){function n(e,t,i){r.call(this,e,t),this.isPseudoElement=!0,this.before=":before"===i}var r=e("./nodecontainer");n.prototype.cloneTo=function(e){n.prototype.cloneTo.call(this,e),e.isPseudoElement=!0,e.before=this.before},n.prototype=Object.create(r.prototype),n.prototype.appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node),this.parent.node.className+=" "+this.getHideClass()},n.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node),this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")},n.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]},n.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",n.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",t.exports=n},{"./nodecontainer":14}],19:[function(e,t,i){function n(e,t,i,n,r){this.width=e,this.height=t,this.images=i,this.options=n,this.document=r}var r=e("./log");n.prototype.renderImage=function(e,t,i,n){var r=e.cssInt("paddingLeft"),a=e.cssInt("paddingTop"),o=e.cssInt("paddingRight"),s=e.cssInt("paddingBottom"),l=i.borders,u=t.width-(l[1].width+l[3].width+r+o),d=t.height-(l[0].width+l[2].width+a+s);this.drawImage(n,0,0,n.image.width||u,n.image.height||d,t.left+r+l[3].width,t.top+a+l[0].width,u,d)},n.prototype.renderBackground=function(e,t,i){t.height>0&&t.width>0&&(this.renderBackgroundColor(e,t),this.renderBackgroundImage(e,t,i))},n.prototype.renderBackgroundColor=function(e,t){var i=e.color("backgroundColor");i.isTransparent()||this.rectangle(t.left,t.top,t.width,t.height,i)},n.prototype.renderBorders=function(e){e.forEach(this.renderBorder,this)},n.prototype.renderBorder=function(e){e.color.isTransparent()||null===e.args||this.drawShape(e.args,e.color)},n.prototype.renderBackgroundImage=function(e,t,i){e.parseBackgroundImages().reverse().forEach(function(n,a,o){switch(n.method){case"url":var s=this.images.get(n.args[0]);s?this.renderBackgroundRepeating(e,t,s,o.length-(a+1),i):r("Error loading background-image",n.args[0]);break;case"linear-gradient":case"gradient":var l=this.images.get(n.value);l?this.renderBackgroundGradient(l,t,i):r("Error loading background-image",n.args[0]);break;case"none":break;default:r("Unknown background-image type",n.args[0])}},this)},n.prototype.renderBackgroundRepeating=function(e,t,i,n,r){var a=e.parseBackgroundSize(t,i.image,n),o=e.parseBackgroundPosition(t,i.image,n,a);switch(e.parseBackgroundRepeat(n)){case"repeat-x":case"repeat no-repeat":this.backgroundRepeatShape(i,o,a,t,t.left+r[3],t.top+o.top+r[0],99999,a.height,r);break;case"repeat-y":case"no-repeat repeat":this.backgroundRepeatShape(i,o,a,t,t.left+o.left+r[3],t.top+r[0],a.width,99999,r);break;case"no-repeat":this.backgroundRepeatShape(i,o,a,t,t.left+o.left+r[3],t.top+o.top+r[0],a.width,a.height,r);break;default:this.renderBackgroundRepeat(i,o,a,{top:t.top,left:t.left},r[3],r[0])}},t.exports=n},{"./log":13}],20:[function(e,t,i){function n(e,t){a.apply(this,arguments),this.canvas=this.options.canvas||this.document.createElement("canvas"),this.options.canvas||(this.canvas.width=e,this.canvas.height=t),this.ctx=this.canvas.getContext("2d"),this.taintCtx=this.document.createElement("canvas").getContext("2d"),this.ctx.textBaseline="bottom",this.variables={},s("Initialized CanvasRenderer with size",e,"x",t)}function r(e){return e.length>0}var a=e("../renderer"),o=e("../lineargradientcontainer"),s=e("../log");n.prototype=Object.create(a.prototype),n.prototype.setFillStyle=function(e){return this.ctx.fillStyle="object"==typeof e&&e.isColor?e.toString():e,this.ctx},n.prototype.rectangle=function(e,t,i,n,r){this.setFillStyle(r).fillRect(e,t,i,n)},n.prototype.circle=function(e,t,i,n){this.setFillStyle(n),this.ctx.beginPath(),this.ctx.arc(e+i/2,t+i/2,i/2,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fill()},n.prototype.circleStroke=function(e,t,i,n,r,a){this.circle(e,t,i,n),this.ctx.strokeStyle=a.toString(),this.ctx.stroke()},n.prototype.drawShape=function(e,t){this.shape(e),this.setFillStyle(t).fill()},n.prototype.taints=function(e){if(null===e.tainted){this.taintCtx.drawImage(e.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),e.tainted=!1}catch(t){this.taintCtx=document.createElement("canvas").getContext("2d"),e.tainted=!0}}return e.tainted},n.prototype.drawImage=function(e,t,i,n,r,a,o,s,l){this.taints(e)&&!this.options.allowTaint||this.ctx.drawImage(e.image,t,i,n,r,a,o,s,l)},n.prototype.clip=function(e,t,i){this.ctx.save(),e.filter(r).forEach(function(e){this.shape(e).clip()},this),t.call(i),this.ctx.restore()},n.prototype.shape=function(e){return this.ctx.beginPath(),e.forEach(function(e,t){"rect"===e[0]?this.ctx.rect.apply(this.ctx,e.slice(1)):this.ctx[0===t?"moveTo":e[0]+"To"].apply(this.ctx,e.slice(1))},this),this.ctx.closePath(),this.ctx},n.prototype.font=function(e,t,i,n,r,a){this.setFillStyle(e).font=[t,i,n,r,a].join(" ").split(",")[0]},n.prototype.fontShadow=function(e,t,i,n){this.setVariable("shadowColor",e.toString()).setVariable("shadowOffsetY",t).setVariable("shadowOffsetX",i).setVariable("shadowBlur",n)},n.prototype.clearShadow=function(){this.setVariable("shadowColor","rgba(0,0,0,0)")},n.prototype.setOpacity=function(e){this.ctx.globalAlpha=e},n.prototype.setTransform=function(e){this.ctx.translate(e.origin[0],e.origin[1]),this.ctx.transform.apply(this.ctx,e.matrix),this.ctx.translate(-e.origin[0],-e.origin[1])},n.prototype.setVariable=function(e,t){return this.variables[e]!==t&&(this.variables[e]=this.ctx[e]=t),this},n.prototype.text=function(e,t,i){this.ctx.fillText(e,t,i)},n.prototype.backgroundRepeatShape=function(e,t,i,n,r,a,o,s,l){var u=[["line",Math.round(r),Math.round(a)],["line",Math.round(r+o),Math.round(a)],["line",Math.round(r+o),Math.round(s+a)],["line",Math.round(r),Math.round(s+a)]];this.clip([u],function(){this.renderBackgroundRepeat(e,t,i,n,l[3],l[0])},this)},n.prototype.renderBackgroundRepeat=function(e,t,i,n,r,a){var o=Math.round(n.left+t.left+r),s=Math.round(n.top+t.top+a);this.setFillStyle(this.ctx.createPattern(this.resizeImage(e,i),"repeat")),this.ctx.translate(o,s),this.ctx.fill(),this.ctx.translate(-o,-s)},n.prototype.renderBackgroundGradient=function(e,t){if(e instanceof o){var i=this.ctx.createLinearGradient(t.left+t.width*e.x0,t.top+t.height*e.y0,t.left+t.width*e.x1,t.top+t.height*e.y1);e.colorStops.forEach(function(e){i.addColorStop(e.stop,e.color.toString())}),this.rectangle(t.left,t.top,t.width,t.height,i)}},n.prototype.resizeImage=function(e,t){var i=e.image;if(i.width===t.width&&i.height===t.height)return i;var n,r=document.createElement("canvas");return r.width=t.width,r.height=t.height,n=r.getContext("2d"),n.drawImage(i,0,0,i.width,i.height,0,0,t.width,t.height),r},t.exports=n},{"../lineargradientcontainer":12,"../log":13,"../renderer":19}],21:[function(e,t,i){function n(e,t,i,n){r.call(this,i,n),this.ownStacking=e,this.contexts=[],this.children=[],this.opacity=(this.parent?this.parent.stack.opacity:1)*t}var r=e("./nodecontainer");n.prototype=Object.create(r.prototype),n.prototype.getParentStack=function(e){var t=this.parent?this.parent.stack:null;return t?t.ownStacking?t:t.getParentStack(e):e.stack},t.exports=n},{"./nodecontainer":14}],22:[function(e,t,i){function n(e){this.rangeBounds=this.testRangeBounds(e),this.cors=this.testCORS(),this.svg=this.testSVG()}n.prototype.testRangeBounds=function(e){var t,i,n,r,a=!1;return e.createRange&&(t=e.createRange(),t.getBoundingClientRect&&(i=e.createElement("boundtest"),i.style.height="123px",i.style.display="block",e.body.appendChild(i),t.selectNode(i),n=t.getBoundingClientRect(),r=n.height,123===r&&(a=!0),e.body.removeChild(i))),a},n.prototype.testCORS=function(){return void 0!==(new Image).crossOrigin},n.prototype.testSVG=function(){var e=new Image,t=document.createElement("canvas"),i=t.getContext("2d");e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{i.drawImage(e,0,0),t.toDataURL()}catch(e){return!1}return!0},t.exports=n},{}],23:[function(e,t,i){function n(e){this.src=e,this.image=null;var t=this;this.promise=this.hasFabric().then(function(){return t.isInline(e)?Promise.resolve(t.inlineFormatting(e)):r(e)}).then(function(e){return new Promise(function(i){window.html2canvas.svg.fabric.loadSVGFromString(e,t.createCanvas.call(t,i))})})}var r=e("./xhr"),a=e("./utils").decode64;n.prototype.hasFabric=function(){return window.html2canvas.svg&&window.html2canvas.svg.fabric?Promise.resolve():Promise.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg"))},n.prototype.inlineFormatting=function(e){return/^data:image\/svg\+xml;base64,/.test(e)?this.decode64(this.removeContentType(e)):this.removeContentType(e)},n.prototype.removeContentType=function(e){return e.replace(/^data:image\/svg\+xml(;base64)?,/,"")},n.prototype.isInline=function(e){return/^data:image\/svg\+xml/i.test(e)},n.prototype.createCanvas=function(e){var t=this;return function(i,n){var r=new window.html2canvas.svg.fabric.StaticCanvas("c");t.image=r.lowerCanvasEl,r.setWidth(n.width).setHeight(n.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(i,n)).renderAll(),e(r.lowerCanvasEl)}},n.prototype.decode64=function(e){return"function"==typeof window.atob?window.atob(e):a(e)},t.exports=n},{"./utils":26,"./xhr":28}],24:[function(e,t,i){function n(e,t){this.src=e,this.image=null;var i=this;this.promise=t?new Promise(function(t,n){i.image=new Image,i.image.onload=t,i.image.onerror=n,i.image.src="data:image/svg+xml,"+(new XMLSerializer).serializeToString(e),!0===i.image.complete&&t(i.image)}):this.hasFabric().then(function(){return new Promise(function(t){window.html2canvas.svg.fabric.parseSVGDocument(e,i.createCanvas.call(i,t))})})}var r=e("./svgcontainer");n.prototype=Object.create(r.prototype),t.exports=n},{"./svgcontainer":23}],25:[function(e,t,i){function n(e,t){a.call(this,e,t)}function r(e,t,i){if(e.length>0)return t+i.toUpperCase()}var a=e("./nodecontainer");n.prototype=Object.create(a.prototype),n.prototype.applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))},n.prototype.transform=function(e){var t=this.node.data;switch(e){case"lowercase":return t.toLowerCase();case"capitalize":return t.replace(/(^|\s|:|-|\(|\))([a-z])/g,r);case"uppercase":return t.toUpperCase();default:return t}},t.exports=n},{"./nodecontainer":14}],26:[function(e,t,i){i.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},i.bind=function(e,t){return function(){return e.apply(t,arguments)}},i.decode64=function(e){var t,i,n,r,a,o,s,l,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=e.length,c="";for(t=0;t<d;t+=4)i=u.indexOf(e[t]),n=u.indexOf(e[t+1]),r=u.indexOf(e[t+2]),a=u.indexOf(e[t+3]),o=i<<2|n>>4,s=(15&n)<<4|r>>2,l=(3&r)<<6|a,c+=64===r?String.fromCharCode(o):64===a||-1===a?String.fromCharCode(o,s):String.fromCharCode(o,s,l);return c},i.getBounds=function(e){if(e.getBoundingClientRect){var t=e.getBoundingClientRect(),i=null==e.offsetWidth?t.width:e.offsetWidth;return{top:t.top,bottom:t.bottom||t.top+t.height,right:t.left+i,left:t.left,width:i,height:null==e.offsetHeight?t.height:e.offsetHeight}}return{}},i.offsetBounds=function(e){var t=e.offsetParent?i.offsetBounds(e.offsetParent):{top:0,left:0};return{top:e.offsetTop+t.top,bottom:e.offsetTop+e.offsetHeight+t.top,right:e.offsetLeft+t.left+e.offsetWidth,left:e.offsetLeft+t.left,width:e.offsetWidth,height:e.offsetHeight}},i.parseBackgrounds=function(e){var t,i,n,r,a,o,s,l=" \r\n\t",u=[],d=0,c=0,m=function(){t&&('"'===i.substr(0,1)&&(i=i.substr(1,i.length-2)),i&&s.push(i),"-"===t.substr(0,1)&&(r=t.indexOf("-",1)+1)>0&&(n=t.substr(0,r),t=t.substr(r)),u.push({prefix:n,method:t.toLowerCase(),value:a,args:s,image:null})),s=[],t=n=i=a=""};return s=[],t=n=i=a="",e.split("").forEach(function(e){if(!(0===d&&l.indexOf(e)>-1)){switch(e){case'"':o?o===e&&(o=null):o=e;break;case"(":if(o)break;if(0===d)return d=1,void(a+=e);c++;break;case")":if(o)break;if(1===d){if(0===c)return d=0,a+=e,void m();c--}break;case",":if(o)break;if(0===d)return void m();if(1===d&&0===c&&!t.match(/^url$/i))return s.push(i),i="",void(a+=e)}a+=e,0===d?t+=e:i+=e}}),m(),u}},{}],27:[function(e,t,i){function n(e){r.apply(this,arguments),this.type="linear"===e.args[0]?r.TYPES.LINEAR:r.TYPES.RADIAL}var r=e("./gradientcontainer");n.prototype=Object.create(r.prototype),t.exports=n},{"./gradientcontainer":9}],28:[function(e,t,i){function n(e){return new Promise(function(t,i){var n=new XMLHttpRequest;n.open("GET",e),n.onload=function(){200===n.status?t(n.responseText):i(new Error(n.statusText))},n.onerror=function(){i(new Error("Network Error"))},n.send()})}t.exports=n},{}]},{},[4])(4)});var loggingModule=angular.module("talis.services.logging",[]);loggingModule.provider("$exceptionHandler",{$get:["exceptionLoggingService",function(e){return e}]}),loggingModule.factory("exceptionLoggingService",["$log","$window","applicationLoggingService",function(e,t,i){function n(n,a){e.error.apply(e,arguments);try{var o=n.toString();if(o.indexOf(":tpload]")>0||0===o.indexOf("Error: The translation for")||0===o.indexOf("Possibly unhandled rejection:")||o.indexOf("AJS is not defined")>0||o.indexOf("'AJS' is not defined")>0||o.indexOf("'AJS' is undefined")>0||o.indexOf(".datePicker is not a function")>0||o.indexOf(".auiSelect2 is not a function")>0||o.indexOf(".tooltip is not a function")>0||o.indexOf("Object doesn't support property or method 'datePicker'")>0||o.indexOf("Object doesn't support property or method 'auiSelect2'")>0||o.indexOf("window.getComputedStyle(...) is null")>0||o.indexOf("Cannot read property 'update' of undefined")>0||o.indexOf("Cannot read property 'setIndeterminate' of undefined")>0||o.indexOf("Unable to get property 'update' of undefined or null reference")>0||o.indexOf("Unable to get property 'setIndeterminate' of undefined or null reference")>0)return;var s=ErrorStackParser.parse(n);t.loggerUrl&&$.ajax({type:"POST",url:t.loggerUrl,headers:{Authorization:"JWT "+t.atlToken},contentType:"application/json",data:angular.toJson({url:r,message:o,type:"exception",stackTrace:s.slice(0,4).map(function(e){return e.toString()}),userAgent:navigator.userAgent,tracelog:i.flush(),cause:decodeURIComponent(a||t.location.hash),licene:{evaluation:i.license.evaluation,maximumNumberOfUsers:i.license.maximumNumberOfUsers},deployedDate:t.deployedDate})});var l=t.$onErrorPopup;l&&(l.show(null,".section-header"),l.data("errorMessage",o).data("stackTrace",s))}catch(t){e.warn("Error server-side logging failed"),e.log(t)}}var r;return t.AP.getLocation(function(e){r=e}),n}]),loggingModule.factory("applicationLoggingService",["$log","$window",function(e,t){var i;return t.AP.getLocation(function(e){i=e}),{license:{},messages:[],trace:function(e,t){this.messages.push(e+" "+JSON.stringify(t))},flush:function(){return this.messages.splice(0,this.messages.length)},error:function(n,r){e.error.apply(e,arguments);try{t.loggerUrl&&$.ajax({type:"POST",url:t.loggerUrl,headers:{Authorization:"JWT "+t.atlToken},contentType:"application/json",data:angular.toJson({url:i,message:n,type:"error",tracelog:this.flush(),cause:decodeURIComponent(r||t.location.hash),licene:{evaluation:this.license.evaluation,maximumNumberOfUsers:this.license.maximumNumberOfUsers},deployedHash:t.deployedHash})})}catch(t){e.warn("Error server-side logging failed"),e.log(t)}},debug:function(i,n){e.log.apply(e,arguments);try{t.loggerUrl&&$.ajax({type:"POST",url:t.loggerUrl,headers:{Authorization:"JWT "+t.atlToken},contentType:"application/json",data:angular.toJson({message:i+" "+JSON.stringify(n),licene:{evaluation:this.license.evaluation,maximumNumberOfUsers:this.license.maximumNumberOfUsers},type:"debug"})})}catch(t){e.warn("Error server-side logging failed"),e.log(t)}}}}]),function(e){e.paletteColorPicker=function(t,i){var n="palette-color-picker",r=e(t),a=this,o=r.val(),s=r.attr("name"),l=e("<div>").addClass(n+"-button").attr("data-target",s),u=e("<div>").addClass(n+"-bubble"),d={custom_class:null,colors:null,position:"upside",insert:"before",clear_btn:"first",timeout:2e3,set_background:!1,close_all_but_this:!1},c="ontouchstart"in document.documentElement?"touchstart click":"click";a.init=function(){a.settings=e.extend({},d,i);var t=r.attr("value");if(void 0!==t&&!1!==t||(t="",r.attr("value",t)),r.attr("data-initialvalue",r.attr("value")),null===a.settings.colors&&(a.settings.colors=r.data("palette")),"string"==typeof a.settings.colors[0]&&(a.settings.colors=e.map(a.settings.colors,function(e,t){var i={};return i[e]=e,i})),a.settings.insert=a.settings.insert.charAt(0).toUpperCase()+a.settings.insert.slice(1),a.settings.custom_class&&u.addClass(a.settings.custom_class),e.each(a.settings.colors,function(t,i){var n=Object.keys(i)[0],r=i[n],a=e("<span>").addClass("swatch").attr({title:n,"data-color":r,"data-name":n}).css("background-color",r);n===o&&(a.addClass("active"),l.css("background",r)),a.appendTo(u)}),null!==a.settings.clear_btn){var s=e("<span>").addClass("swatch clear").attr("title","Clear selection");"last"===a.settings.clear_btn?s.addClass("last").appendTo(u):s.prependTo(u)}a.destroy=function(){l.remove(),e.removeData(r[0])},a.clear=function(){u.find(".active").removeClass("active"),l.removeAttr("style"),r.val("")},a.reset=function(){if(""===r.attr("data-initialvalue"))a.clear();else{var e=r.attr("data-initialvalue");u.find('[data-name="'+e+'"]').trigger("click")}},a.reload=function(){var e=r.val();""===e||void 0===e||!1===e?a.reset():u.find('[data-name="'+e+'"]').length?u.find('[data-name="'+e+'"]').trigger("click"):a.reset()},l.append(u).on(c,function(t){t.preventDefault(),t.stopPropagation();var i=e(this);if(!e(t.target).hasClass(n+"-bubble")){"function"==typeof a.settings.onbeforeshow_callback&&a.settings.onbeforeshow_callback(this),i.toggleClass("active");var r=i.find("."+n+"-bubble");a.settings.close_all_but_this&&e("."+n+"-bubble").not(r).fadeOut(),r.fadeToggle(),i.hasClass("active")&&(clearTimeout(a.timer),a.timer=setTimeout(function(){i.trigger("pcp.fadeout")},a.settings.timeout))}}).on("pcp.fadeout",function(){e(this).removeClass("active").find("."+n+"-bubble").fadeOut()}).on("mouseenter","."+n+"-bubble",function(){clearTimeout(a.timer)}).on("mouseleave","."+n+"-bubble",function(){a.timer=setTimeout(function(){l.trigger("pcp.fadeout")},a.settings.timeout)}).on(c,"."+n+"-bubble span.swatch",function(t){t.preventDefault(),t.stopPropagation();var i=e(this).attr("data-color"),r=e(this).attr("data-name"),o=e("."+n+'-button[data-target="'+e(this).closest("."+n+"-button").attr("data-target")+'"]');e(this).closest("."+n+"-bubble").find(".active").removeClass("active"),e(t.target).is(".clear")?(o.removeAttr("style"),i=""):(e(this).addClass("active"),o.css("background",i)),"function"==typeof a.settings.onchange_callback&&a.settings.onchange_callback(i),!1===a.settings.set_background?e('[name="'+o.attr("data-target")+'"]').val(r):e('[name="'+o.attr("data-target")+'"]').css({"background-color":i})})["insert"+a.settings.insert](r),("downside"===a.settings.position||r.offset().top+20<u.outerHeight())&&u.addClass("downside")},e("body").on(c,function(t){e(t.target).hasClass(n+"-button")||e(l).removeClass("active").find("."+n+"-bubble").fadeOut()}),a.init()},e.fn.paletteColorPicker=function(t){return this.each(function(){void 0===e(this).data("paletteColorPickerPlugin")&&e(this).data("paletteColorPickerPlugin",new e.paletteColorPicker(this,t))})}}(jQuery);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};if(CsvView.fieldValueFn=function(e,t,i){return function(n,r,a,o,s){var l=/com\.atlassian\.greenhopper\.service\.sprint\.Sprint@[\d\w]+\[([\s\S]*)?\]/,u=a.jiraConfig.maxFractionDigits,d=function i(n){var r;if("object"===(void 0===n?"undefined":_typeof(n))&&n&&/\/rest\/api(\/\d+)\/user/.test(n.self))return e(n,a);if("object"===(void 0===n?"undefined":_typeof(n))&&n&&n.hasOwnProperty("name"))return n.name;if("object"===(void 0===n?"undefined":_typeof(n))&&n&&n.hasOwnProperty("key"))return t(n,a);if("object"===(void 0===n?"undefined":_typeof(n))&&n&&n.hasOwnProperty("value"))return n.value+(n.hasOwnProperty("child")?":"+i(n.child):"");if("object"===(void 0===n?"undefined":_typeof(n))&&n&&n.hasOwnProperty("hasEpicLinkFieldDependency"))return n.showField&&n.data?n.data.key:"";if("string"==typeof n&&(r=n.match(l))){for(var o=r[1].split(","),s=0;s<o.length;s++){var u=o[s];if(0===u.indexOf("name="))return u.substr(5)}return""}return n},c=r.id||r,m=s||function(e){var t=e.fields[c];return PivotKey.isFieldType(r,"com.pyxis.greenhopper.jira:gh-epic-link")?t?t={key:t}:TimesheetUtils.isIssueEpic(e)&&(t={key:e.key}):PivotKey.isFieldType(r,"com.atlassian.servicedesk:vp-origin")&&t&&(t=t.requestType),t||(t="parent"===c&&a._groupByField===c?e.key?{key:e.key}:"":"projectcategory"===c&&e.fields.project&&e.fields.project.projectCategory?e.fields.project.projectCategory:""),t}(n),p=function(e){if(TimesheetUtils.isDate(e))return moment(e).format(TimesheetUtils.dateTimeFormat);if(Array.isArray(e)){var t="";return e.length>0&&(e[0].inwardIssue||e[0].outwardIssue)?t=e.map(function(e){return e.inwardIssue?e.type.inward+" "+d(e.inwardIssue):e.type.outward+" "+d(e.outwardIssue)}).join(", "):e.forEach(function(e){t.length>0&&(t+=", "),t+=d(e)}),t}return d(e)}(m);if(["timeestimate","timeoriginalestimate","timespent"].indexOf(c)>=0&&""!==p)p=i(p||0,a);else if("workeduser"===c)p=o&&o.author?e(o.author,a):"";else if("workedusergroup"===c)p=o&&o.author&&a.userInfos[o.author.accountId]&&a.userInfos[o.author.accountId].groups&&a.userInfos[o.author.accountId].groups.items.length?a.userInfos[o.author.accountId].groups.items[0].name:"";else if("workeddate"===c)p=o&&o.started?moment(o.started).format(TimesheetUtils.dateTimeFormat):"";else if("workedweek"===c)p=o?"Week "+new PivotKey.WeekOfTheYear(new Date(o.started),a).weekNumber:PivotKey.NULL_VALUE;else if("workcreated"===c)p=o&&o.created?moment(o.created).format(TimesheetUtils.dateTimeFormat):"";else if("commentfirstword"===c){if(o&&o.comment){var h=o.comment.replace(/\n/g," "),f=h.indexOf(" ");m=f>0?h.substring(0,f):h}else m="";p=m}else if("worklabel"===c){var g=TimesheetUtils.getTags(o.comment)
;g&&g.length>0?(g.sort(),m=g.join(", ")):m="",p=m}else if("timetrackingprogress"===c){var y=n.fields.timespent||0,v=n.fields.timeestimate||0;if(y+v===0)p="";else{var _=Math.round(100*y/(y+v));p=DrawHelper.formatDecimal(_,u)+"%"}}else if("timetrackingestimate"===c){var y=n.fields.timespent||0,v=n.fields.timeestimate||0;p=i(y+v,a)}else if("timetrackingvariance"===c){var w=n.fields.timeoriginalestimate||0,y=n.fields.timespent||0,v=n.fields.timeestimate||0,T=y+v;p=i(w-T,a)}else if("timetrackingoriginalestimateremaining"===c){var w=n.fields.timeoriginalestimate||0,y=n.fields.timespent||0;p=i(w-y,a)}return p}},CsvView.prototype.fieldValue=CsvView.fieldValueFn(function(e){return e.displayName||e.name},function(e){var t=e.hasOwnProperty("fields")&&e.fields.hasOwnProperty("summary")?" "+e.fields.summary:"";return e.key+t},function(e,t){return DrawHelper.formatDecimal(e/t.periodDuration,t.jiraConfig.maxFractionDigits)}),CsvView.prototype.escape=function(e){return e?'"'+e.replace(/"/g,'""')+'"':""},CsvView.prototype.enquote=function(e){return e.indexOf(",")>=0?this.escape(e):e},CsvView.prototype.generate=function(e){var t=this,i=e.jiraConfig.maxFractionDigits,n=PivotTableFactory.createPivotTable(e),r=["TimeTracking","TimeBalance"].indexOf(e.pivotTableType)>=0,a=[];"TimeTracking"===e.pivotTableType?a=e.timeTrackingColumns:"TimeBalance"===e.pivotTableType&&(a=e.timeBalanceColumns);var o="",s=e.configOptions.exportColumns,l=e.configOptions.durationTypeForExport||"h";e.periodDuration="d"===l?3600*parseFloat(e.jiraConfig.workingHoursPerDay||8):"m"===l?60:3600;var u=["project","issuetype","key","summary","priority"].filter(function(e){return s.indexOf(e)>=0});o+=u.map(function(t){return e.translations[t]+","}).join("");var d=s.indexOf("descriptionstatus")>=0;"TimeBalance"===e.pivotTableType&&(s.indexOf("datestarted")>=0&&(o+=e.translations["Date Started"]+","),s.indexOf("displayname")>=0&&(o+=e.translations["Display Name"]+","),o+=e.translations.Changed+",");for(var c=s.indexOf("workcreated")>=0,m=0;m<e.moreFields.length;m++){var p=e.moreFields[m];["timeestimate","timeoriginalestimate","timespent"].indexOf(p.id)>=0?o+=this.escape(p.name+" ("+l+")")+",":o+=this.escape(p.name)+",","workcreated"===p.id&&(c=!1)}r?o+=a.map(function(t){return e.translations[t]+("6progress"!==t?" ("+l+")":"")}).join(","):(c&&(o+=e.translations["Work Created"]+","),s.indexOf("worklogid")>=0&&(o+=e.translations["Worklog Id"]+","),s.indexOf("datestarted")>=0&&(o+=e.translations["Date Started"]+","),["IssuePassedTimeByStatus","IssuePassedTimeByResolution"].indexOf(e.pivotTableType)>=0&&(o+=e.translations["Date Ended"]+","),s.indexOf("displayname")>=0&&(o+=e.translations["Display Name"]+","),s.indexOf("emailaddress")>=0&&(o+=e.translations["Email Address"]+","),s.indexOf("accountid")>=0&&(o+=e.translations["Account Id"]+","),o+=e.translations["Time Spent"]+" ("+l+")",d&&("IssuePassedTimeByStatus"===e.pivotTableType?o+=","+e.translations.Status:"IssuePassedTimeByResolution"===e.pivotTableType?o+=","+e.translations.Resolution+",":o+=","+e.translations["Work Description"])),o+="\n";var h=0,f=Promise.resolve(o);return this.allIssues.forEach(function(o){f=f.then(function(l){return new Promise(function(n){return function(o){n.forEach(function(n){var o=n.rowKey._issue||n.rowKey.issue,u=n.rowKey.worklog||n.worklog||{};u.comment=u.comment?u.comment.replace(/<([^>]+)>/g,"&lt;$1&gt;").replace(/\n/g," "):"",s.indexOf("project")>=0&&(l+=t.escape(o.fields.project.name)+","),s.indexOf("issuetype")>=0&&(l+=o.fields.issuetype.name+","),s.indexOf("key")>=0&&(l+=o.key+","),s.indexOf("summary")>=0&&(l+=t.escape(o.fields.summary)+","),s.indexOf("priority")>=0&&(l+=t.escape(t.fieldValue(o,"priority",e))+","),"TimeBalance"===e.pivotTableType&&(s.indexOf("datestarted")>=0&&(l+=(u.started?moment(u.started).format(TimesheetUtils.dateTimeFormat):"")+","),s.indexOf("displayname")>=0&&(l+=(u.author?t.escape(u.author.displayName||""):"")+","),l+=t.escape(u.comment)+",");for(var m=0;m<e.moreFields.length;m++){var p=e.moreFields[m];l+=t.escape(String(t.fieldValue(o,p,e,u)))+","}if(r){for(var m in a)if(m>0&&(l+=","),"6progress"===a[m]){var f=n.values["6progress"];if(f.timespent+f.estimate===0)l+="";else{var g=Math.round(100*f.timespent/(f.estimate+f.timespent));l+=t.enquote(DrawHelper.formatDecimal(g,i)+"%")}}else"5originalestimateremaining"===a[m]?l+=t.enquote(DrawHelper.formatDecimal(n.values[a[m]].value/e.periodDuration,i)):l+=t.enquote(DrawHelper.formatDecimal(n.values[a[m]]/e.periodDuration,i));l+="\n"}else c&&(l+=(u.created?moment(u.created).format(TimesheetUtils.dateTimeFormat):"")+","),s.indexOf("worklogid")>=0&&(l+=(u.id||"")+","),s.indexOf("datestarted")>=0&&(l+=(u.workDate?moment(u.workDate).format(TimesheetUtils.dateTimeFormat):"")+","),["IssuePassedTimeByStatus","IssuePassedTimeByResolution"].indexOf(e.pivotTableType)>=0&&(l+=moment(u.toDate).format(TimesheetUtils.dateTimeFormat)+","),s.indexOf("displayname")>=0&&(l+=(u.author?t.escape(u.author.displayName||""):"")+","),s.indexOf("emailaddress")>=0&&(l+=(u.author?t.escape(u.author.emailAddress||""):"")+","),s.indexOf("accountid")>=0&&(l+=(u.author?u.author.accountId:"")+","),l+=u.timeSpentSeconds?t.enquote(DrawHelper.formatDecimal(u.timeSpentSeconds/e.periodDuration,i)):"",d&&(l+=",",l+=t.escape((u._issue?u._issue.key+" ":"")+(["IssuePassedTimeByStatus","IssuePassedTimeByResolution"].indexOf(e.pivotTableType)>=0?n.columnKey.keyValue:u.comment))),h+=u.timeSpentSeconds||0,l+="\n"}),o(l)}}(n.add(o)))})}),f.then(function(o){var l=s.length;d&&l--,s.indexOf("timespentd")>=0&&l--,s.indexOf("workcreated")>=0&&!c&&l--;var m="",p=e.moreFields.length,f=r?u.length:l;if("TimeBalance"===e.pivotTableType&&(s.indexOf("datestarted")>=0&&f++,s.indexOf("displayname")>=0&&f++,f++),m+=TimesheetUtils.repeat(",",f+p),["IssuePassedTimeByStatus","IssuePassedTimeByResolution"].indexOf(e.pivotTableType)>=0&&(m+=","),o+=(f?"Total":"")+m,r){for(var g in a)if(g>0&&(o+=","),"6progress"===a[g]){var y=n.totals["6progress"].value;if(y.timespent+y.estimate===0)o+="";else{var v=Math.round(100*y.timespent/(y.estimate+y.timespent));o+=t.enquote(DrawHelper.formatDecimal(v,i)+"%")}}else"5originalestimateremaining"===a[g]?o+=t.enquote(DrawHelper.formatDecimal(n.totals[a[g]].value.value/e.periodDuration,i)):o+=t.enquote(DrawHelper.formatDecimal(n.totals[a[g]].sum/e.periodDuration,i));o+="\n"}else o+=t.enquote(DrawHelper.formatDecimal(h/e.periodDuration,i))+(d?",":"")+"\n";var _=e.restrictedProjects&&e.restrictedProjects.join(",");_&&(o+=e.translations["Data is limited by Auditors Roles"]+" "+_+"\n");var w=e.restrictedGroups&&e.restrictedGroups.join(",");return w&&(o+=e.translations["Data is limited to Restricted Groups"]+" "+w+"\n"),"\ufeff"+o})},CsvView.prototype.download=function(e){this.generate(e).then(function(e){var t=new Blob([e],{encoding:"utf-8",type:"application/vnd.ms-excel;charset=utf-8;"});saveAs(t,"exportData.csv")})},"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports){module.exports=CsvView;var PivotKey=require("./PivotKey"),PivotTableFactory=require("./PivotTable"),TimesheetUtils=require("../../timesheetUtils"),DrawHelper=require("../../app/directives/DrawHelper"),moment=require("moment-timezone")}!function(){function e(e){return e&&DataView.prototype.isPrototypeOf(e)}function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function i(e){return"string"!=typeof e&&(e=String(e)),e}function n(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return v.iterable&&(t[Symbol.iterator]=function(){return t}),t}function r(e){this.map={},e instanceof r?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function a(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function o(e){return new Promise(function(t,i){e.onload=function(){t(e.result)},e.onerror=function(){i(e.error)}})}function s(e){var t=new FileReader,i=o(t);return t.readAsArrayBuffer(e),i}function l(e){var t=new FileReader,i=o(t);return t.readAsText(e),i}function u(e){for(var t=new Uint8Array(e),i=new Array(t.length),n=0;n<t.length;n++)i[n]=String.fromCharCode(t[n]);return i.join("")}function d(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function c(){return this.bodyUsed=!1,this._initBody=function(t){this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:v.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:v.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():v.arrayBuffer&&v.blob&&e(t)?(this._bodyArrayBuffer=d(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):v.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||w(t))?this._bodyArrayBuffer=d(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?a(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return l(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(u(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function m(e){var t=e.toUpperCase();return T.indexOf(t)>-1?t:e}function p(e,t){t=t||{};var i=t.body;if(e instanceof p){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new r(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new r(t.headers)),this.method=m(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function h(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var i=e.split("="),n=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(r))}}),t}function f(e){var t=new r;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var i=e.split(":"),n=i.shift().trim();if(n){var r=i.join(":").trim();t.append(n,r)}}),t}function g(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new r(t.headers),this.url=t.url||"",this._initBody(e)}function y(e,t){return new Promise(function(i,n){function r(){o.abort()}var a=new p(e,t);if(a.signal&&a.signal.aborted)return n(new self.DOMException("Aborted","AbortError"));var o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:f(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;i(new g(t,e))},o.onerror=function(){n(new TypeError("Network request failed"))},o.ontimeout=function(){n(new TypeError("Network request failed"))},o.onabort=function(){n(new self.DOMException("Aborted","AbortError"))},o.open(a.method,a.url,!0),"include"===a.credentials?o.withCredentials=!0:"omit"===a.credentials&&(o.withCredentials=!1),"responseType"in o&&v.blob&&(o.responseType="blob"),a.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),a.signal&&(a.signal.addEventListener("abort",r),o.onreadystatechange=function(){4===o.readyState&&a.signal.removeEventListener("abort",r)}),o.send(void 0===a._bodyInit?null:a._bodyInit)})}if("undefined"!=typeof window){var v={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(v.arrayBuffer)var _=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],w=ArrayBuffer.isView||function(e){return e&&_.indexOf(Object.prototype.toString.call(e))>-1};r.prototype.append=function(e,n){e=t(e),n=i(n);var r=this.map[e];this.map[e]=r?r+", "+n:n},r.prototype.delete=function(e){delete this.map[t(e)]},r.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},r.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},r.prototype.set=function(e,n){this.map[t(e)]=i(n)},r.prototype.forEach=function(e,t){for(var i in this.map)this.map.hasOwnProperty(i)&&e.call(t,this.map[i],i,this)},r.prototype.keys=function(){var e=[];return this.forEach(function(t,i){e.push(i)}),n(e)},r.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),n(e)},r.prototype.entries=function(){var e=[];return this.forEach(function(t,i){e.push([i,t])}),n(e)},v.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var T=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},c.call(p.prototype),c.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var b=[301,302,303,307,308];g.redirect=function(e,t){if(-1===b.indexOf(t))throw new RangeError("Invalid status code");return new g(null,{status:t,headers:{location:e}})},self.DOMException=self.DOMException;try{new self.DOMException}catch(e){self.DOMException=function(e,t){this.message=e,this.name=t;var i=Error(e);this.stack=i.stack},self.DOMException.prototype=Object.create(Error.prototype),self.DOMException.prototype.constructor=self.DOMException}y.polyfill=!0,self.fetch||(self.fetch=y,self.Headers=r,self.Request=p,self.Response=g)}}(),function(e){function t(e){"undefined"!=typeof window&&et>0&&Math.random()<et&&fetch("https://api.avo.app/i",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){et=e.sa}).catch(function(){})}function i(e,t){var i=[];return i=i.concat(qe.assertString("-NL_Je5eV",t?"Operating System Version: "+t:"Operating System Version",e))}function n(e,t){var i=[];if(i=i.concat(qe.assertString("-idVe2KNW",t?"Origin Page: "+t:"Origin Page",e)),"Jira Issue View"!==e&&"Project Timesheet"!==e&&"Board Sidebar"!==e&&"Jira Issue Search"!==e){var n=(t?"Origin Page: "+t:"Origin Page")+" should match one of the following values [ Jira Issue View | Project Timesheet | Board Sidebar | Jira Issue Search ] but you provided the value "+e;i=i.concat([{tag:"expectedStringMatch",propertyId:"-idVe2KNW",message:n}])}return i}function r(e,t){var i=[];if(void 0!==e&&null!==e&&(i=i.concat(qe.assertString("-qxy1cZvpm",t?"Switched View: "+t:"Switched View",e)),"Day"!==e&&"Month"!==e&&"Week"!==e)){var n=(t?"Switched View: "+t:"Switched View")+" should match one of the following values [ Day | Month | Week ] but you provided the value "+e;i=i.concat([{tag:"expectedStringMatch",propertyId:"-qxy1cZvpm",message:n}])}return i}function a(e,t){var i=[];return i=i.concat(qe.assertFloat("06A95IQR7",t?"Hours Worked: "+t:"Hours Worked",e)),i=i.concat(qe.assertMin("06A95IQR7",t?"Hours Worked: "+t:"Hours Worked",0,e))}function o(e,t){var i=[];return void 0!==e&&null!==e&&(i=i.concat(qe.assertBool("1mIzb8Jel",t?"Show Details Count: "+t:"Show Details Count",e))),i}function s(e,t){var i=[];return i=i.concat(qe.assertString("33q7XBTMR",t?"Start Time: "+t:"Start Time",e))}function l(e,t){var i=[];return i=i.concat(qe.assertList("3heoTeLSh","Filter Type",e)),null!==e&&void 0!==e&&e.forEach&&e.forEach(function(e,n){if(i=i.concat(qe.assertString("3heoTeLSh","item at index "+n+" in Filter Type",e)),"User"!==e&&"Group"!==e&&"Tempo Account"!==e&&"Project"!==e&&"All Users"!==e&&"Excluded Groups"!==e&&"Filter"!==e){var r=(t?"item at index "+n+" in Filter Type: "+t:"item at index "+n+" in Filter Type")+" should match one of the following values [ User | Group | Tempo Account | Project | All Users | Excluded Groups | Filter ] but you provided the value "+e;i=i.concat([{tag:"expectedStringMatch",propertyId:"3heoTeLSh",message:r}])}}),i}function u(e,t){var i=[];return i=i.concat(qe.assertInt("50Bnl_4v0F",t?"Measured Time in Form: "+t:"Measured Time in Form",e))}function d(e,t){var i=[];return void 0!==e&&null!==e&&(i=i.concat(qe.assertString("7WB97ymGp8",t?"Weekend Type: "+t:"Weekend Type",e))),i}function c(e,t){var i=[];return void 0!==e&&null!==e&&(i=i.concat(qe.assertInt("987BvR3sMN",t?"Working Time In Status To: "+t:"Working Time In Status To",e))),i}function m(e,t){var i=[];return void 0!==e&&null!==e&&(i=i.concat(qe.assertString("9t3ZvaYH41",t?"Tempo Token: "+t:"Tempo Token",e))),i}function p(e,t){var i=[];return i=i.concat(qe.assertString("AwYJC6mJx",t?"Base URL: "+t:"Base URL",e))}function h(e,t){var i=[];return void 0!==e&&null!==e&&(i=i.concat(qe.assertBool("BLXdOYsA8A",t?"Onboarding Message: "+t:"Onboarding Message",e))),i}function f(e,t){var i=[];return i=i.concat(qe.assertString("BPLIbIM9d",t?"App Version: "+t:"App Version",e))}function g(e,t){var i=[];if(i=i.concat(qe.assertString("BaiHxFRGS",t?"Origin Product: "+t:"Origin Product",e)),"Time Reports"!==e&&"Timesheet Reports and Gadgets"!==e){var n=(t?"Origin Product: "+t:"Origin Product")+" should match one of the following values [ Time Reports | Timesheet Reports and Gadgets ] but you provided the value "+e;i=i.concat([{tag:"expectedStringMatch",propertyId:"BaiHxFRGS",message:n}])}return i}function y(e,t){var i=[];return void 0!==e&&null!==e&&(i=i.concat(qe.assertBool("BfGraaBcvn",t?"Started Time In Status: "+t:"Started Time In Status",e))),i}function v(e,t){var i=[];if(void 0!==e&&null!==e&&(i=i.concat(qe.assertString("Bl5zgoGnq",t?"Selected View: "+t:"Selected View",e)),"Day"!==e&&"Week"!==e&&"Time Entry"!==e&&"Timesheet"!==e&&"Time Spent"!==e&&"Pivot by User"!==e&&"Pivot by Status"!==e&&"Pivot by Label"!==e&&"Resolution Time"!==e&&"Time Balance"!==e&&"Time Tracking"!==e&&"Time in Status"!==e)){var n=(t?"Selected View: "+t:"Selected View")+" should match one of the following values [ Day | Week | Time Entry | Timesheet | Time Spent | Pivot by User | Pivot by Status | Pivot by Label | Resolution Time | Time Balance | Time Tracking | Time in Status ] but you provided the value "+e;i=i.concat([{tag:"expectedStringMatch",propertyId:"Bl5zgoGnq",message:n}])}return i}function _(e,t){var i=[];if(i=i.concat(qe.assertString("DrphZ1TBRu",t?"Subscription Period: "+t:"Subscription Period",e)),"Daily"!==e&&"Every Monday"!==e&&"Every Tuesday"!==e&&"Every Wednesday"!==e&&"Every Thursday"!==e&&"Every Friday"!==e&&"Every Saturday"!==e&&"Every Sunday"!==e){var n=(t?"Subscription Period: "+t:"Subscription Period")+" should match one of the following values [ Daily | Every Monday | Every Tuesday | Every Wednesday | Every Thursday | Every Friday | Every Saturday | Every Sunday ] but you provided the value "+e;i=i.concat([{tag:"expectedStringMatch",propertyId:"DrphZ1TBRu",message:n}])}return i}function w(e,t){var i=[];return void 0!==e&&null!==e&&(i=i.concat(qe.assertString("E-WXUFWSYT",t?"Duration Type Default Value: "+t:"Duration Type Default Value",e))),i}function T(e,t){var i=[];return void 0!==e&&null!==e&&(i=i.concat(qe.assertString("ECRSvD1PDs",t?"In Progress Issues Jql: "+t:"In Progress Issues Jql",e))),i}function b(e,t){var i=[];return i=i.concat(qe.assertString("EQuG4nG1i",t?"User Locale: "+t:"User Locale",e))}function k(e,t){var i=[];return void 0!==e&&null!==e&&(i=i.concat(qe.assertString("EftupLlRxs",t?"Custom Field Name: "+t:"Custom Field Name",e))),i}function S(e,t){var i=[];return void 0!==e&&null!==e&&(i=i.concat(qe.assertString("Fsiskjkt8",t?"Task ID: "+t:"Task ID",e))),i}function A(e,t){var i=[];return i=i.concat(qe.assertInt("Gzvi1c83T",t?"Description Length: "+t:"Description Length",e)),i=i.concat(qe.assertMin("Gzvi1c83T",t?"Description Length: "+t:"Description Length",0,e))}function D(e,t){var i=[];if(i=i.concat(qe.assertString("HkYwSDT3Me",t?"Reporting Day: "+t:"Reporting Day",e)),"Sunday"!==e&&"Monday"!==e&&"Tuesday"!==e&&"Wednesday"!==e&&"Thursday"!==e&&"Friday"!==e&&"Saturday"!==e){var n=(t?"Reporting Day: "+t:"Reporting Day")+" should match one of the following values [ Sunday | Monday | Tuesday | Wednesday | Thursday | Friday | Saturday ] but you provided the value "+e;i=i.concat([{tag:"expectedStringMatch",propertyId:"HkYwSDT3Me",message:n}])}return i}function O(e,t){var i=[];return i=i.concat(qe.assertBool("I0rLSEx3El",t?"Restricted Description: "+t:"Restricted Description",e))}function E(e,t){var i=[];return i=i.concat(qe.assertString("J1ceb84St",t?"Web Browser Version: "+t:"Web Browser Version",e))}function I(e,t){var i=[];return i=i.concat(qe.assertInt("LV08dQi_t4",t?"Number of Users Shared With: "+t:"Number of Users Shared With",e))}function M(e,t){var i=[];return i=i.concat(qe.assertFloat("N-lBzNoWDD",t?"Remaining Estimate Hours: "+t:"Remaining Estimate Hours",e))}function L(e,t){var i=[];return void 0!==e&&null!==e&&(i=i.concat(qe.assertString("NqduxS-oD5",t?"JIRA SEN: "+t:"JIRA SEN",e))),i}function P(e,t){var i=[];return void 0!==e&&null!==e&&(i=i.concat(qe.assertBool("OsIlz0GXRn",t?"Show Total In Front: "+t:"Show Total In Front",e))),i}function C(e,t){var i=[];return void 0!==e&&null!==e&&(i=i.concat(qe.assertInt("P_bhPOdSDS",t?"Maximum Fraction Digits: "+t:"Maximum Fraction Digits",e))),i}function x(e,t){var i=[];return i=i.concat(qe.assertBool("Q6asyS0w_",t?"Pre-Selected Task: "+t:"Pre-Selected Task",e))}function F(e,t){var i=[];return void 0!==e&&null!==e&&(i=i.concat(qe.assertInt("RGf9UQLzr7",t?"Working Time In Status From: "+t:"Working Time In Status From",e))),i}function U(e,t){var i=[];return i=i.concat(qe.assertString("RN83SIqkD",t?"Web Browser: "+t:"Web Browser",e))}function R(e,t){var i=[];return void 0!==e&&null!==e&&(i=i.concat(qe.assertBool("Rwp_ObHpjH",t?"Show Category Row: "+t:"Show Category Row",e))),i}function B(e,t){var i=[];if(i=i.concat(qe.assertString("SGjHyysnQq",t?"Export Type: "+t:"Export Type",e)),".xls"!==e&&".csv"!==e){var n=(t?"Export Type: "+t:"Export Type")+" should match one of the following values [ .xls | .csv ] but you provided the value "+e;i=i.concat([{tag:"expectedStringMatch",propertyId:"SGjHyysnQq",message:n}])}return i}function Y(e,t){var i=[];return i=i.concat(qe.assertInt("SYyz9proYJ",t?"Measured Time in Issue Picker: "+t:"Measured Time in Issue Picker",e))}function N(e,t){var i=[];if(void 0!==e&&null!==e&&(i=i.concat(qe.assertString("UBLSMH5RB",t?"Group Type: "+t:"Group Type",e)),"Tempo Account"!==e&&"Date of First Response"!==e&&"Affects Versions"!==e&&"Approvers"!==e&&"Assignee"!==e&&"Change Completion Date"!==e&&"Change Reason"!==e&&"Change Risk"!==e&&"Change Start Date"!==e&&"Change Type"!==e&&"Components"!==e&&"Created"!==e&&"Creator"!==e&&"Description"!==e&&"Due Date"!==e&&"Environment"!==e&&"Epic Color"!==e&&"Epic Link"!==e&&"Epic Name"!==e&&"Epic Status"!==e&&"Estimate"!==e&&"Fix Versions"!==e&&"Flagged"!==e&&"Impact"!==e&&"Issue Color"!==e&&"Issue Type"!==e&&"Iteration Field"!==e&&"Labels"!==e&&"Last Viewed"!==e&&"Linked Issues"!==e&&"Original Estimate"!==e&&"Original Estimate Remaining"!==e&&"Parent Issue"!==e&&"Parent Link"!==e&&"Priority"!==e&&"Project"!==e&&"Project Category"!==e&&"Rank"!==e&&"Remaining Estimate"!==e&&"Reporter"!==e&&"Request Participants"!==e&&"Request Type"!==e&&"Resolution"!==e&&"Resolved"!==e&&"Satisfaction Date"!==e&&"Security Level"!==e&&"Sprint"!==e&&"Start Date"!==e&&"Status"!==e&&"Status Category Changed"!==e&&"Story Point Estimate"!==e&&"Story Points"!==e&&"Sub-tasks"!==e&&"Summary"!==e&&"Time Spent"!==e&&"Time Tracking"!==e&&"Updated"!==e&&"Variance"!==e&&"Work Ratio"!==e&&"Sum of Original Estimate"!==e&&"Sum of Remaining Estimate"!==e&&"Custom Field"!==e&&"No Grouping"!==e)){var n=(t?"Group Type: "+t:"Group Type")+" should match one of the following values [ Tempo Account | Date of First Response | Affects Versions | Approvers | Assignee | Change Completion Date | Change Reason | Change Risk | Change Start Date | Change Type | Components | Created | Creator | Description | Due Date | Environment | Epic Color | Epic Link | Epic Name | Epic Status | Estimate | Fix Versions | Flagged | Impact | Issue Color | Issue Type | Iteration Field | Labels | Last Viewed | Linked Issues | Original Estimate | Original Estimate Remaining | Parent Issue | Parent Link | Priority | Project | Project Category | Rank | Remaining Estimate | Reporter | Request Participants | Request Type | Resolution | Resolved | Satisfaction Date | Security Level | Sprint | Start Date | Status | Status Category Changed | Story Point Estimate | Story Points | Sub-tasks | Summary | Time Spent | Time Tracking | Updated | Variance | Work Ratio | Sum of Original Estimate | Sum of Remaining Estimate | Custom Field | No Grouping ] but you provided the value "+e;i=i.concat([{tag:"expectedStringMatch",propertyId:"UBLSMH5RB",message:n}])}return i}function W(e,t){var i=[];if(i=i.concat(qe.assertString("WKwBS0qeD",t?"Display: "+t:"Display",e)),"Collapsed"!==e&&"Expanded"!==e){var n=(t?"Display: "+t:"Display")+" should match one of the following values [ Collapsed | Expanded ] but you provided the value "+e;i=i.concat([{tag:"expectedStringMatch",propertyId:"WKwBS0qeD",message:n}])}return i}function j(e,t){var i=[];return i=i.concat(qe.assertString("WrXB4sX-G",t?"ID: "+t:"ID",e))}function V(e,t){var i=[];return i=i.concat(qe.assertBool("Y6dttyB8nW",t?"Expanded Form: "+t:"Expanded Form",e))}function z(e,t){var i=[];return void 0!==e&&null!==e&&(i=i.concat(qe.assertBool("YKzSpTgfrh",t?"Sent if Timesheet Is Not Complete: "+t:"Sent if Timesheet Is Not Complete",e))),i}function H(e,t){var i=[];return i=i.concat(qe.assertList("_xxUmWpaB","Attribute",e)),null!==e&&void 0!==e&&e.forEach&&e.forEach(function(e,n){if(i=i.concat(qe.assertString("_xxUmWpaB","item at index "+n+" in Attribute",e)),"Date"!==e&&"Start Time"!==e&&"Task"!==e&&"Hours Worked"!==e&&"Description"!==e&&"Category"!==e&&"Tempo Account"!==e){var r=(t?"item at index "+n+" in Attribute: "+t:"item at index "+n+" in Attribute")+" should match one of the following values [ Date | Start Time | Task | Hours Worked | Description | Category | Tempo Account ] but you provided the value "+e;i=i.concat([{tag:"expectedStringMatch",propertyId:"_xxUmWpaB",message:r}])}}),i}function $(e,t){var i=[];return i=i.concat(qe.assertString("aH6tyjEwUo",t?"Time: "+t:"Time",e))}function G(e,t){var i=[];return i=i.concat(qe.assertString("avo-enriched-type-page-segment-name",t?"Segment: Page Name: "+t:"Segment: Page Name",e))}function K(e,t){var i=[];return i=i.concat(qe.assertString("avo-enriched-type-user-id",t?"User Id: "+t:"User Id",e))}function J(e,t){var i=[];return i=i.concat(qe.assertString("fI8onNAO9",t?"Operating System: "+t:"Operating System",e))}function q(e,t){var i=[];return void 0!==e&&null!==e&&(i=i.concat(qe.assertBool("g6E1m8-GeY",t?"Jira Administrator: "+t:"Jira Administrator",e))),i}function Z(e,t){var i=[];return void 0!==e&&null!==e&&(i=i.concat(qe.assertString("gHtlXFbgP",t?"Reporting Day Default Value: "+t:"Reporting Day Default Value",e))),i}function Q(e,t){var i=[];return void 0!==e&&null!==e&&(i=i.concat(qe.assertString("gqprzbRIL",t?"Instance UUID: "+t:"Instance UUID",e))),i}function X(e,t){var i=[];return i=i.concat(qe.assertFloat("jsUSfipIe",t?"Minutes on Tracker: "+t:"Minutes on Tracker",e)),i=i.concat(qe.assertMin("jsUSfipIe",t?"Minutes on Tracker: "+t:"Minutes on Tracker",0,e))}function ee(e,t){var i=[];return i=i.concat(qe.assertBool("mrWqcHHllA",t?"Current Remaining Estimate Used: "+t:"Current Remaining Estimate Used",e))}function te(e,t){var i=[];return i=i.concat(qe.assertBool("oVP9vA5nh_",t?"Export Attached: "+t:"Export Attached",e))}function ie(e,t){var i=[];if(void 0!==e&&null!==e&&(i=i.concat(qe.assertString("osqxFA5-5",t?"Origin Action: "+t:"Origin Action",e)),"Clicked on Log Time button"!==e&&"Created from Tracker"!==e&&"Clicked on Back Arrow"!==e&&"Clicked on Forward Arrow"!==e&&"Clicked Cancel"!==e&&"Clicked X on Form"!==e)){var n=(t?"Origin Action: "+t:"Origin Action")+" should match one of the following values [ Clicked on Log Time button | Created from Tracker | Clicked on Back Arrow | Clicked on Forward Arrow | Clicked Cancel | Clicked X on Form ] but you provided the value "+e;i=i.concat([{tag:"expectedStringMatch",propertyId:"osqxFA5-5",message:n}])}return i}function ne(e,t){var i=[];return i=i.concat(qe.assertString("pWC73umMS",t?"User Timezone: "+t:"User Timezone",e))}function re(e,t){var i=[];if(void 0!==e&&null!==e&&(i=i.concat(qe.assertString("qy_7nClxwd",t?"Summed View By: "+t:"Summed View By",e)),"Days"!==e&&"Weeks"!==e&&"Month"!==e)){var n=(t?"Summed View By: "+t:"Summed View By")+" should match one of the following values [ Days | Weeks | Month ] but you provided the value "+e;i=i.concat([{tag:"expectedStringMatch",propertyId:"qy_7nClxwd",message:n}])}return i}function ae(e,t){var i=[];if(i=i.concat(qe.assertString("r30b-9TkS",t?"Page To: "+t:"Page To",e)),"My Work"!==e&&"Report Overview"!==e&&"Installation Page"!==e&&"Installation Success Page"!==e&&"Installation Failure Page"!==e&&"Logged Time Report"!==e&&"Customer Report"!==e){var n=(t?"Page To: "+t:"Page To")+" should match one of the following values [ My Work | Report Overview | Installation Page | Installation Success Page | Installation Failure Page | Logged Time Report | Customer Report ] but you provided the value "+e;i=i.concat([{tag:"expectedStringMatch",propertyId:"r30b-9TkS",message:n}])}return i}function oe(e,t){var i=[];if(i=i.concat(qe.assertString("sVeluTAcw",t?"Origin Ecosystem: "+t:"Origin Ecosystem",e)),"Jira"!==e){var n=(t?"Origin Ecosystem: "+t:"Origin Ecosystem")+" should match one of the following values [ Jira ] but you provided the value "+e;i=i.concat([{tag:"expectedStringMatch",propertyId:"sVeluTAcw",message:n}])}return i}function se(e,t){var i=[];if(void 0!==e&&null!==e&&(i=i.concat(qe.assertString("t40d_MVfV",t?"Order Type: "+t:"Order Type",e)),
"Date of First Response"!==e&&"Affects Versions"!==e&&"Approvers"!==e&&"Assignee"!==e&&"Change Completion Date"!==e&&"Change Reason"!==e&&"Change Risk"!==e&&"Change Start Date"!==e&&"Change Type"!==e&&"Components"!==e&&"Created"!==e&&"Creator"!==e&&"Description"!==e&&"Due Date"!==e&&"Environment"!==e&&"Epic Color"!==e&&"Epic Link"!==e&&"Epic Name"!==e&&"Epic Status"!==e&&"Estimate"!==e&&"Fix Versions"!==e&&"Flagged"!==e&&"Impact"!==e&&"Issue Color"!==e&&"Issue Type"!==e&&"Iteration Field"!==e&&"Labels"!==e&&"Last Viewed"!==e&&"Linked Issues"!==e&&"Organizations"!==e&&"Original Estimate"!==e&&"Original Estimate Remaining"!==e&&"Parent Issue"!==e&&"Parent Link"!==e&&"Priority"!==e&&"Project"!==e&&"Project Category"!==e&&"Rank"!==e&&"Remaining Estimate"!==e&&"Reporter"!==e&&"Request Participants"!==e&&"Request Type"!==e&&"Resolution"!==e&&"Resolved"!==e&&"Satisfaction Date"!==e&&"Security Level"!==e&&"Sprint"!==e&&"Start Date"!==e&&"Status"!==e&&"Status Category Changed"!==e&&"Story Point Estimate"!==e&&"Story Points"!==e&&"Sub-tasks"!==e&&"Summary"!==e&&"Time Spent"!==e&&"Time Tracking"!==e&&"Updated"!==e&&"Variance"!==e&&"Work Ratio"!==e&&"Sum of Original Estimate"!==e&&"Sum of Remaining Estimate"!==e&&"Custom Field"!==e)){var n=(t?"Order Type: "+t:"Order Type")+" should match one of the following values [ Date of First Response | Affects Versions | Approvers | Assignee | Change Completion Date | Change Reason | Change Risk | Change Start Date | Change Type | Components | Created | Creator | Description | Due Date | Environment | Epic Color | Epic Link | Epic Name | Epic Status | Estimate | Fix Versions | Flagged | Impact | Issue Color | Issue Type | Iteration Field | Labels | Last Viewed | Linked Issues | Organizations | Original Estimate | Original Estimate Remaining | Parent Issue | Parent Link | Priority | Project | Project Category | Rank | Remaining Estimate | Reporter | Request Participants | Request Type | Resolution | Resolved | Satisfaction Date | Security Level | Sprint | Start Date | Status | Status Category Changed | Story Point Estimate | Story Points | Sub-tasks | Summary | Time Spent | Time Tracking | Updated | Variance | Work Ratio | Sum of Original Estimate | Sum of Remaining Estimate | Custom Field ] but you provided the value "+e;i=i.concat([{tag:"expectedStringMatch",propertyId:"t40d_MVfV",message:n}])}return i}function le(e,t){var i=[];return i=i.concat(qe.assertString("u_btaafHt",t?"User Continent: "+t:"User Continent",e))}function ue(e,t){var i=[];return i=i.concat(qe.assertString("wSaNnNbkA",t?"Date of Time Record: "+t:"Date of Time Record",e))}function de(e,t){var i=[];if(void 0!==e&&null!==e&&(i=i.concat(qe.assertString("wwY78czJM",t?"Origin View: "+t:"Origin View",e)),"Time Entry"!==e&&"Timesheet"!==e&&"Time Spent"!==e&&"Pivot by User"!==e&&"Pivot by Status"!==e&&"Pivot by Label"!==e&&"Resolution Time"!==e&&"Time Balance"!==e&&"Time Tracking"!==e&&"Time in Status"!==e)){var n=(t?"Origin View: "+t:"Origin View")+" should match one of the following values [ Time Entry | Timesheet | Time Spent | Pivot by User | Pivot by Status | Pivot by Label | Resolution Time | Time Balance | Time Tracking | Time in Status ] but you provided the value "+e;i=i.concat([{tag:"expectedStringMatch",propertyId:"wwY78czJM",message:n}])}return i}function ce(e,t){var i=[];return void 0!==e&&null!==e&&(i=i.concat(qe.assertInt("ykCQ73j7j",t?"Period Length: "+t:"Period Length",e)),i=i.concat(qe.assertMin("ykCQ73j7j",t?"Period Length: "+t:"Period Length",0,e))),i}function me(e,t){var i=[];return i=i.concat(qe.assertInt("yuPm5B4CV",t?"Number of Selected Filters: "+t:"Number of Selected Filters",e)),i=i.concat(qe.assertMin("yuPm5B4CV",t?"Number of Selected Filters: "+t:"Number of Selected Filters",0,e))}function pe(e,t){var i=[];if(i=i.concat(qe.assertString("zDZyM7R8T",t?"Page From: "+t:"Page From",e)),"My Work"!==e&&"Report Overview"!==e&&"Installation Page"!==e&&"Ticket View"!==e&&"Logged Time Report"!==e&&"Customer Report"!==e){var n=(t?"Page From: "+t:"Page From")+" should match one of the following values [ My Work | Report Overview | Installation Page | Ticket View | Logged Time Report | Customer Report ] but you provided the value "+e;i=i.concat([{tag:"expectedStringMatch",propertyId:"zDZyM7R8T",message:n}])}return i}function he(e,t){var i=[];return void 0!==e&&null!==e&&(i=i.concat(qe.assertString("zqkfl16PN",t?"Duration Type For Export: "+t:"Duration Type For Export",e))),i}function fe(e,t){var i=[];if(i=i.concat(qe.assertString("zxUQjbOBOi",t?"Column Type: "+t:"Column Type",e)),"Date of First Response"!==e&&"Affects Versions"!==e&&"Approvers"!==e&&"Assignee"!==e&&"Change Completion Date"!==e&&"Change Reason"!==e&&"Change Risk"!==e&&"Change Start Date"!==e&&"Change Type"!==e&&"Components"!==e&&"Created"!==e&&"Creator"!==e&&"Description"!==e&&"Due Date"!==e&&"Environment"!==e&&"Epic Color"!==e&&"Epic Link"!==e&&"Epic Name"!==e&&"Epic Status"!==e&&"Estimate"!==e&&"Fix Versions"!==e&&"Flagged"!==e&&"Impact"!==e&&"Issue Color"!==e&&"Issue Type"!==e&&"Iteration Field"!==e&&"Labels"!==e&&"Last Viewed"!==e&&"Linked Issues"!==e&&"Organizations"!==e&&"Original Estimate"!==e&&"Original Estimate Remaining"!==e&&"Parent Issue"!==e&&"Parent Link"!==e&&"Priority"!==e&&"Project"!==e&&"Project Category"!==e&&"Rank"!==e&&"Remaining Estimate"!==e&&"Reporter"!==e&&"Request Participants"!==e&&"Request Type"!==e&&"Resolution"!==e&&"Resolved"!==e&&"Satisfaction Date"!==e&&"Security Level"!==e&&"Sprint"!==e&&"Start Date"!==e&&"Status"!==e&&"Status Category Changed"!==e&&"Story Point Estimate"!==e&&"Story Points"!==e&&"Sub-tasks"!==e&&"Summary"!==e&&"Time Spent"!==e&&"Time Tracking"!==e&&"Updated"!==e&&"Variance"!==e&&"Work Ratio"!==e&&"Sum of Original Estimate"!==e&&"Sum of Remaining Estimate"!==e&&"Custom Field"!==e){var n=(t?"Column Type: "+t:"Column Type")+" should match one of the following values [ Date of First Response | Affects Versions | Approvers | Assignee | Change Completion Date | Change Reason | Change Risk | Change Start Date | Change Type | Components | Created | Creator | Description | Due Date | Environment | Epic Color | Epic Link | Epic Name | Epic Status | Estimate | Fix Versions | Flagged | Impact | Issue Color | Issue Type | Iteration Field | Labels | Last Viewed | Linked Issues | Organizations | Original Estimate | Original Estimate Remaining | Parent Issue | Parent Link | Priority | Project | Project Category | Rank | Remaining Estimate | Reporter | Request Participants | Request Type | Resolution | Resolved | Satisfaction Date | Security Level | Sprint | Start Date | Status | Status Category Changed | Story Point Estimate | Story Points | Sub-tasks | Summary | Time Spent | Time Tracking | Updated | Variance | Work Ratio | Sum of Original Estimate | Sum of Remaining Estimate | Custom Field ] but you provided the value "+e;i=i.concat([{tag:"expectedStringMatch",propertyId:"zxUQjbOBOi",message:n}])}return i}function ge(e){e.appVersion&&(rt=e.appVersion,f(rt)),e.webBrowser&&(at=e.webBrowser,U(at)),e.webBrowserVersion&&(ot=e.webBrowserVersion,E(ot)),e.operatingSystem&&(st=e.operatingSystem,J(st)),e.operatingSystemVersion&&(lt=e.operatingSystemVersion,i(lt)),e.baseUrl&&(ut=e.baseUrl,p(ut)),e.instanceUuid&&(dt=e.instanceUuid,Q(dt)),e.jiraSen&&(ct=e.jiraSen,L(ct))}function ye(e){e.appVersion&&(rt=e.appVersion,f(rt)),e.webBrowser&&(at=e.webBrowser,U(at)),e.webBrowserVersion&&(ot=e.webBrowserVersion,E(ot)),e.operatingSystem&&(st=e.operatingSystem,J(st)),e.operatingSystemVersion&&(lt=e.operatingSystemVersion,i(lt)),e.baseUrl&&(ut=e.baseUrl,p(ut)),e.instanceUuid&&(dt=e.instanceUuid,Q(dt)),e.jiraSen&&(ct=e.jiraSen,L(ct))}function ve(e,t,i){Ke=!1,!0===e.validateProperties&&(ze=!0),ye(t),i=i||{},e.useProductionKey?mt.make("cwBtXg3YlShIzeTsBTOF5EEIlDF62SiS",i.segmentPrimeUsers):mt.make("Ev2xp8alIDwsQyQyn9SQFiVBrmSrxfYJ",i.segmentPrimeUsers),ze&&Xe(He,"setup",[],"setup")}function _e(e,t,i){null===He&&(He=e.env.toLowerCase(),void 0!==e.strict&&(Ge=!1!==e.strict),void 0!==e.reportFailureAs&&($e=e.reportFailureAs),Ke="undefined"!=typeof window&&window.location.search.indexOf("avo_debug=1")>-1||!1!==e.webDebugger&&"prod"!==He,"prod"!==He&&(ze=!0),ge(t),i=i||{},Ke&&function(){if("undefined"!=typeof window){var e=function(){if(null===document.getElementById("avo-debugger")){var e=document.createElement("iframe");document.body.appendChild(e),e.id="avo-debugger",e.src="https://www.avo.app/_debugger",e.style="display: none;"}};document.body?e():document.addEventListener("DOMContentLoaded",e)}}(),"prod"===He&&mt.make("cwBtXg3YlShIzeTsBTOF5EEIlDF62SiS",i.segmentPrimeUsers),"dev"===He&&mt.make("Ev2xp8alIDwsQyQyn9SQFiVBrmSrxfYJ",i.segmentPrimeUsers),ze&&Xe(He,"init",[],"init"))}function we(e){if(e=e||{},ze||Ke){var t=[];if(t=t.concat(n(e.originPage)),t=t.concat(oe(e.originEcosystem)),t=t.concat(ie(e.originAction)),t=t.concat(g(e.originProduct)),t=t.concat(de(e.originView)),t=t.concat(a(e.hoursWorked)),t=t.concat(S(e.taskId)),t=t.concat(H(e.attribute)),t=t.concat(ue(e.dateOfTimeRecord)),t=t.concat(s(e.startTime)),t=t.concat(A(e.descriptionLength)),t=t.concat(Y(e.measuredTimeInIssuePicker)),t=t.concat(u(e.measuredTimeInForm)),t=t.concat(f(rt)),t=t.concat(U(at)),t=t.concat(E(ot)),t=t.concat(J(st)),t=t.concat(i(lt)),t=t.concat(p(ut)),t=t.concat(Q(dt)),t=t.concat(L(ct)),t=t.concat(qe.assertNoAdditionalProperties("Modified Time Record",Object.keys(e),["originPage","originEcosystem","originAction","originProduct","originView","hoursWorked","taskId","attribute","dateOfTimeRecord","startTime","descriptionLength","measuredTimeInIssuePicker","measuredTimeInForm"])),Qe(He,"OUBCYIzGH","135e4bfca4d7515a87855b714a1edcdeea51c846bf0a78d73a50a7a434532284",t.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"event"),Ze.logEventSent("Modified Time Record",{"Origin Page":e.originPage,"Origin Ecosystem":e.originEcosystem,"Origin Action":e.originAction,"Origin Product":e.originProduct,"Origin View":e.originView,"Hours Worked":e.hoursWorked,"Task ID":e.taskId,Attribute:e.attribute,"Date of Time Record":e.dateOfTimeRecord,"Start Time":e.startTime,"Description Length":e.descriptionLength,"Measured Time in Issue Picker":e.measuredTimeInIssuePicker,"Measured Time in Form":e.measuredTimeInForm,"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{}),Ke&&tt("OUBCYIzGH","Modified Time Record",t,[{id:"-idVe2KNW",name:"Origin Page",value:e.originPage},{id:"06A95IQR7",name:"Hours Worked",value:e.hoursWorked},{id:"33q7XBTMR",name:"Start Time",value:e.startTime},{id:"50Bnl_4v0F",name:"Measured Time in Form",value:e.measuredTimeInForm},{id:"BaiHxFRGS",name:"Origin Product",value:e.originProduct},{id:"Fsiskjkt8",name:"Task ID",value:e.taskId},{id:"Gzvi1c83T",name:"Description Length",value:e.descriptionLength},{id:"SYyz9proYJ",name:"Measured Time in Issue Picker",value:e.measuredTimeInIssuePicker},{id:"_xxUmWpaB",name:"Attribute",value:e.attribute},{id:"osqxFA5-5",name:"Origin Action",value:e.originAction},{id:"sVeluTAcw",name:"Origin Ecosystem",value:e.originEcosystem},{id:"wSaNnNbkA",name:"Date of Time Record",value:e.dateOfTimeRecord},{id:"wwY78czJM",name:"Origin View",value:e.originView},{id:"-NL_Je5eV",name:"Operating System Version",value:lt},{id:"AwYJC6mJx",name:"Base URL",value:ut},{id:"BPLIbIM9d",name:"App Version",value:rt},{id:"J1ceb84St",name:"Web Browser Version",value:ot},{id:"NqduxS-oD5",name:"JIRA SEN",value:ct},{id:"RN83SIqkD",name:"Web Browser",value:at},{id:"fI8onNAO9",name:"Operating System",value:st},{id:"gqprzbRIL",name:"Instance UUID",value:dt}],[]),ze&&(null===Ge||Ge)){if(0!==t.length)throw new Error("Error sending event 'Modified Time Record': "+t[0].message)}else t.forEach(function(e){console[$e||"error"]("[avo] "+e.message)})}mt.logEvent("Modified Time Record",{"Origin Page":e.originPage,"Origin Ecosystem":e.originEcosystem,"Origin Action":e.originAction,"Origin Product":e.originProduct,"Origin View":e.originView,"Hours Worked":e.hoursWorked,"Task ID":e.taskId,Attribute:e.attribute,"Date of Time Record":e.dateOfTimeRecord,"Start Time":e.startTime,"Description Length":e.descriptionLength,"Measured Time in Issue Picker":e.measuredTimeInIssuePicker,"Measured Time in Form":e.measuredTimeInForm,"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{})}function Te(e){if(e=e||{},ze||Ke){var t=[];if(t=t.concat(n(e.originPage)),t=t.concat(oe(e.originEcosystem)),t=t.concat(ie(e.originAction)),t=t.concat(g(e.originProduct)),t=t.concat(de(e.originView)),t=t.concat(S(e.taskId)),t=t.concat(X(e.minutesOnTracker)),t=t.concat(f(rt)),t=t.concat(U(at)),t=t.concat(E(ot)),t=t.concat(J(st)),t=t.concat(i(lt)),t=t.concat(p(ut)),t=t.concat(Q(dt)),t=t.concat(L(ct)),t=t.concat(qe.assertNoAdditionalProperties("Started Tracker",Object.keys(e),["originPage","originEcosystem","originAction","originProduct","originView","taskId","minutesOnTracker"])),Qe(He,"T7021dcM3","d11c27cfe6875bc6b989d80f51e38173032717d9bc335f1d7a0f351f69b27861",t.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"event"),Ze.logEventSent("Started Tracker",{"Origin Page":e.originPage,"Origin Ecosystem":e.originEcosystem,"Origin Action":e.originAction,"Origin Product":e.originProduct,"Origin View":e.originView,"Task ID":e.taskId,"Minutes on Tracker":e.minutesOnTracker,"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{}),Ke&&tt("T7021dcM3","Started Tracker",t,[{id:"-idVe2KNW",name:"Origin Page",value:e.originPage},{id:"BaiHxFRGS",name:"Origin Product",value:e.originProduct},{id:"Fsiskjkt8",name:"Task ID",value:e.taskId},{id:"jsUSfipIe",name:"Minutes on Tracker",value:e.minutesOnTracker},{id:"osqxFA5-5",name:"Origin Action",value:e.originAction},{id:"sVeluTAcw",name:"Origin Ecosystem",value:e.originEcosystem},{id:"wwY78czJM",name:"Origin View",value:e.originView},{id:"-NL_Je5eV",name:"Operating System Version",value:lt},{id:"AwYJC6mJx",name:"Base URL",value:ut},{id:"BPLIbIM9d",name:"App Version",value:rt},{id:"J1ceb84St",name:"Web Browser Version",value:ot},{id:"NqduxS-oD5",name:"JIRA SEN",value:ct},{id:"RN83SIqkD",name:"Web Browser",value:at},{id:"fI8onNAO9",name:"Operating System",value:st},{id:"gqprzbRIL",name:"Instance UUID",value:dt}],[]),ze&&(null===Ge||Ge)){if(0!==t.length)throw new Error("Error sending event 'Started Tracker': "+t[0].message)}else t.forEach(function(e){console[$e||"error"]("[avo] "+e.message)})}mt.logEvent("Started Tracker",{"Origin Page":e.originPage,"Origin Ecosystem":e.originEcosystem,"Origin Action":e.originAction,"Origin Product":e.originProduct,"Origin View":e.originView,"Task ID":e.taskId,"Minutes on Tracker":e.minutesOnTracker,"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{})}function be(e){if(e=e||{},ze||Ke){var t=[];if(t=t.concat(n(e.originPage)),t=t.concat(oe(e.originEcosystem)),t=t.concat(ie(e.originAction)),t=t.concat(g(e.originProduct)),t=t.concat(de(e.originView)),t=t.concat(S(e.taskId)),t=t.concat(X(e.minutesOnTracker)),t=t.concat(f(rt)),t=t.concat(U(at)),t=t.concat(E(ot)),t=t.concat(J(st)),t=t.concat(i(lt)),t=t.concat(p(ut)),t=t.concat(Q(dt)),t=t.concat(L(ct)),t=t.concat(qe.assertNoAdditionalProperties("Paused Tracker",Object.keys(e),["originPage","originEcosystem","originAction","originProduct","originView","taskId","minutesOnTracker"])),Qe(He,"9G04yzCLN","65299c08406a33e35e1d7c944dc43449a15ba9a350469b736f7ecd52f90c0dc5",t.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"event"),Ze.logEventSent("Paused Tracker",{"Origin Page":e.originPage,"Origin Ecosystem":e.originEcosystem,"Origin Action":e.originAction,"Origin Product":e.originProduct,"Origin View":e.originView,"Task ID":e.taskId,"Minutes on Tracker":e.minutesOnTracker,"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{}),Ke&&tt("9G04yzCLN","Paused Tracker",t,[{id:"-idVe2KNW",name:"Origin Page",value:e.originPage},{id:"BaiHxFRGS",name:"Origin Product",value:e.originProduct},{id:"Fsiskjkt8",name:"Task ID",value:e.taskId},{id:"jsUSfipIe",name:"Minutes on Tracker",value:e.minutesOnTracker},{id:"osqxFA5-5",name:"Origin Action",value:e.originAction},{id:"sVeluTAcw",name:"Origin Ecosystem",value:e.originEcosystem},{id:"wwY78czJM",name:"Origin View",value:e.originView},{id:"-NL_Je5eV",name:"Operating System Version",value:lt},{id:"AwYJC6mJx",name:"Base URL",value:ut},{id:"BPLIbIM9d",name:"App Version",value:rt},{id:"J1ceb84St",name:"Web Browser Version",value:ot},{id:"NqduxS-oD5",name:"JIRA SEN",value:ct},{id:"RN83SIqkD",name:"Web Browser",value:at},{id:"fI8onNAO9",name:"Operating System",value:st},{id:"gqprzbRIL",name:"Instance UUID",value:dt}],[]),ze&&(null===Ge||Ge)){if(0!==t.length)throw new Error("Error sending event 'Paused Tracker': "+t[0].message)}else t.forEach(function(e){console[$e||"error"]("[avo] "+e.message)})}mt.logEvent("Paused Tracker",{"Origin Page":e.originPage,"Origin Ecosystem":e.originEcosystem,"Origin Action":e.originAction,"Origin Product":e.originProduct,"Origin View":e.originView,"Task ID":e.taskId,"Minutes on Tracker":e.minutesOnTracker,"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{})}function ke(e){if(e=e||{},ze||Ke){var t=[];if(t=t.concat(n(e.originPage)),t=t.concat(oe(e.originEcosystem)),t=t.concat(ie(e.originAction)),t=t.concat(g(e.originProduct)),t=t.concat(de(e.originView)),t=t.concat(G(e.segmentPageName_)),t=t.concat(pe(e.pageFrom)),t=t.concat(ae(e.pageTo)),t=t.concat(v(e.selectedView)),t=t.concat(h(e.onboardingMessage)),t=t.concat(f(rt)),t=t.concat(U(at)),t=t.concat(E(ot)),t=t.concat(J(st)),t=t.concat(i(lt)),t=t.concat(p(ut)),t=t.concat(Q(dt)),t=t.concat(L(ct)),t=t.concat(qe.assertNoAdditionalProperties("Navigated",Object.keys(e),["originPage","originEcosystem","originAction","originProduct","originView","segmentPageName_","pageFrom","pageTo","selectedView","onboardingMessage"])),Qe(He,"hxILuqj19","d578353577b52114ae7c9a8050aeeafa284e1051503bccfc95c3460bce681e6f",t.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"event"),Ze.logEventSent("Navigated",{"Origin Page":e.originPage,"Origin Ecosystem":e.originEcosystem,"Origin Action":e.originAction,"Origin Product":e.originProduct,"Origin View":e.originView,"Page From":e.pageFrom,"Page To":e.pageTo,"Selected View":e.selectedView,"Onboarding Message":e.onboardingMessage,"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{}),Ke&&tt("hxILuqj19","Navigated",t,[{id:"-idVe2KNW",name:"Origin Page",value:e.originPage},{id:"BLXdOYsA8A",name:"Onboarding Message",value:e.onboardingMessage},{id:"BaiHxFRGS",name:"Origin Product",value:e.originProduct},{id:"Bl5zgoGnq",name:"Selected View",value:e.selectedView},{id:"osqxFA5-5",name:"Origin Action",value:e.originAction},{id:"r30b-9TkS",name:"Page To",value:e.pageTo},{id:"sVeluTAcw",name:"Origin Ecosystem",value:e.originEcosystem},{id:"wwY78czJM",name:"Origin View",value:e.originView},{id:"zDZyM7R8T",name:"Page From",value:e.pageFrom},{id:"-NL_Je5eV",name:"Operating System Version",value:lt},{id:"AwYJC6mJx",name:"Base URL",value:ut},{id:"BPLIbIM9d",name:"App Version",value:rt},{id:"J1ceb84St",name:"Web Browser Version",value:ot},{id:"NqduxS-oD5",name:"JIRA SEN",value:ct},{id:"RN83SIqkD",name:"Web Browser",value:at},{id:"fI8onNAO9",name:"Operating System",value:st},{id:"gqprzbRIL",name:"Instance UUID",value:dt}],[]),ze&&(null===Ge||Ge)){if(0!==t.length)throw new Error("Error sending event 'Navigated': "+t[0].message)}else t.forEach(function(e){console[$e||"error"]("[avo] "+e.message)})}mt.page(e.segmentPageName_,{"Origin Page":e.originPage,"Origin Ecosystem":e.originEcosystem,"Origin Action":e.originAction,"Origin Product":e.originProduct,"Origin View":e.originView,"Page From":e.pageFrom,"Page To":e.pageTo,"Selected View":e.selectedView,"Onboarding Message":e.onboardingMessage,"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{}),mt.logEvent("Navigated",{"Origin Page":e.originPage,"Origin Ecosystem":e.originEcosystem,"Origin Action":e.originAction,"Origin Product":e.originProduct,"Origin View":e.originView,"Page From":e.pageFrom,"Page To":e.pageTo,"Selected View":e.selectedView,"Onboarding Message":e.onboardingMessage,"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{})}function Se(e){if(e=e||{},ze||Ke){var t=[];if(t=t.concat(K(e.userId_)),t=t.concat(j(e.id)),t=t.concat(ne(e.userTimezone)),t=t.concat(le(e.userContinent)),t=t.concat(b(e.userLocale)),t=t.concat(d(e.weekendType)),t=t.concat(Z(e.reportingDayDefaultValue)),t=t.concat(w(e.durationTypeDefaultValue)),t=t.concat(C(e.maximumFractionDigits)),t=t.concat(he(e.durationTypeForExport)),t=t.concat(y(e.startedTimeInStatus)),t=t.concat(T(e.inProgressIssuesJql)),t=t.concat(o(e.showDetailsCount)),t=t.concat(R(e.showCategoryRow)),t=t.concat(P(e.showTotalInFront)),t=t.concat(m(e.tempoToken)),t=t.concat(F(e.workingTimeInStatusFrom)),t=t.concat(c(e.workingTimeInStatusTo)),t=t.concat(q(e.jiraAdministrator)),t=t.concat(f(rt)),t=t.concat(U(at)),t=t.concat(E(ot)),t=t.concat(J(st)),t=t.concat(i(lt)),t=t.concat(p(ut)),t=t.concat(Q(dt)),t=t.concat(L(ct)),t=t.concat(qe.assertNoAdditionalProperties("Identified User",Object.keys(e),["userId_","id","userTimezone","userContinent","userLocale","weekendType","reportingDayDefaultValue","durationTypeDefaultValue","maximumFractionDigits","durationTypeForExport","startedTimeInStatus","inProgressIssuesJql","showDetailsCount","showCategoryRow","showTotalInFront","tempoToken","workingTimeInStatusFrom","workingTimeInStatusTo","jiraAdministrator"])),Qe(He,"D_vI8GsYA","28650ebe6b892bc25dd6397820c813d7b0a6028245120aead42c5891226a4af7",t.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"event"),Ze.logEventSent("Identified User",{"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{ID:e.id,"User Timezone":e.userTimezone,"User Continent":e.userContinent,"User Locale":e.userLocale,"Weekend Type":e.weekendType,"Reporting Day Default Value":e.reportingDayDefaultValue,"Duration Type Default Value":e.durationTypeDefaultValue,"Maximum Fraction Digits":e.maximumFractionDigits,"Duration Type For Export":e.durationTypeForExport,"Started Time In Status":e.startedTimeInStatus,"In Progress Issues Jql":e.inProgressIssuesJql,"Show Details Count":e.showDetailsCount,"Show Category Row":e.showCategoryRow,"Show Total In Front":e.showTotalInFront,"Tempo Token":e.tempoToken,"Working Time In Status From":e.workingTimeInStatusFrom,"Working Time In Status To":e.workingTimeInStatusTo,"Jira Administrator":e.jiraAdministrator}),Ke&&tt("D_vI8GsYA","Identified User",t,[{id:"-NL_Je5eV",name:"Operating System Version",value:lt},{id:"AwYJC6mJx",name:"Base URL",value:ut},{id:"BPLIbIM9d",name:"App Version",value:rt},{id:"J1ceb84St",name:"Web Browser Version",value:ot},{id:"NqduxS-oD5",name:"JIRA SEN",value:ct},{id:"RN83SIqkD",name:"Web Browser",value:at},{id:"fI8onNAO9",name:"Operating System",value:st},{id:"gqprzbRIL",name:"Instance UUID",value:dt}],[{id:"1mIzb8Jel",name:"Show Details Count",value:e.showDetailsCount},{id:"7WB97ymGp8",name:"Weekend Type",value:e.weekendType},{id:"987BvR3sMN",name:"Working Time In Status To",value:e.workingTimeInStatusTo},{id:"9t3ZvaYH41",name:"Tempo Token",value:e.tempoToken},{id:"BfGraaBcvn",name:"Started Time In Status",value:e.startedTimeInStatus},{id:"E-WXUFWSYT",name:"Duration Type Default Value",value:e.durationTypeDefaultValue},{id:"ECRSvD1PDs",name:"In Progress Issues Jql",value:e.inProgressIssuesJql},{id:"EQuG4nG1i",name:"User Locale",value:e.userLocale},{id:"OsIlz0GXRn",name:"Show Total In Front",value:e.showTotalInFront},{id:"P_bhPOdSDS",name:"Maximum Fraction Digits",value:e.maximumFractionDigits},{id:"RGf9UQLzr7",name:"Working Time In Status From",value:e.workingTimeInStatusFrom},{id:"Rwp_ObHpjH",name:"Show Category Row",value:e.showCategoryRow},{id:"WrXB4sX-G",name:"ID",value:e.id},{id:"g6E1m8-GeY",name:"Jira Administrator",value:e.jiraAdministrator},{id:"gHtlXFbgP",name:"Reporting Day Default Value",value:e.reportingDayDefaultValue},{id:"pWC73umMS",name:"User Timezone",value:e.userTimezone},{id:"u_btaafHt",name:"User Continent",value:e.userContinent},{id:"zqkfl16PN",name:"Duration Type For Export",value:e.durationTypeForExport}]),ze&&(null===Ge||Ge)){if(0!==t.length)throw new Error("Error sending event 'Identified User': "+t[0].message)}else t.forEach(function(e){console[$e||"error"]("[avo] "+e.message)})}mt.identify(e.userId_,{}),mt.setUserProperties({ID:e.id,"User Timezone":e.userTimezone,"User Continent":e.userContinent,"User Locale":e.userLocale,"Weekend Type":e.weekendType,"Reporting Day Default Value":e.reportingDayDefaultValue,"Duration Type Default Value":e.durationTypeDefaultValue,"Maximum Fraction Digits":e.maximumFractionDigits,"Duration Type For Export":e.durationTypeForExport,"Started Time In Status":e.startedTimeInStatus,"In Progress Issues Jql":e.inProgressIssuesJql,"Show Details Count":e.showDetailsCount,"Show Category Row":e.showCategoryRow,"Show Total In Front":e.showTotalInFront,"Tempo Token":e.tempoToken,"Working Time In Status From":e.workingTimeInStatusFrom,"Working Time In Status To":e.workingTimeInStatusTo,"Jira Administrator":e.jiraAdministrator},{}),mt.logEvent("Identified User",{"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{})}function Ae(e){if(e=e||{},ze||Ke){var t=[];if(t=t.concat(n(e.originPage)),t=t.concat(oe(e.originEcosystem)),t=t.concat(ie(e.originAction)),t=t.concat(g(e.originProduct)),t=t.concat(de(e.originView)),t=t.concat(me(e.numberOfSelectedFilters)),t=t.concat(l(e.filterType)),t=t.concat(f(rt)),t=t.concat(U(at)),t=t.concat(E(ot)),t=t.concat(J(st)),t=t.concat(i(lt)),t=t.concat(p(ut)),t=t.concat(Q(dt)),t=t.concat(L(ct)),t=t.concat(qe.assertNoAdditionalProperties("Applied Filter",Object.keys(e),["originPage","originEcosystem","originAction","originProduct","originView","numberOfSelectedFilters","filterType"])),Qe(He,"cW2er9QYn","efbe928354f03a3a8d7fb9f8c0c9cacca6ea782c899e28f9cff01b26263a3da1",t.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"event"),Ze.logEventSent("Applied Filter",{"Origin Page":e.originPage,"Origin Ecosystem":e.originEcosystem,"Origin Action":e.originAction,"Origin Product":e.originProduct,"Origin View":e.originView,"Number of Selected Filters":e.numberOfSelectedFilters,"Filter Type":e.filterType,"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{}),Ke&&tt("cW2er9QYn","Applied Filter",t,[{id:"-idVe2KNW",name:"Origin Page",value:e.originPage},{id:"3heoTeLSh",name:"Filter Type",value:e.filterType},{id:"BaiHxFRGS",name:"Origin Product",value:e.originProduct},{id:"osqxFA5-5",name:"Origin Action",value:e.originAction},{id:"sVeluTAcw",name:"Origin Ecosystem",value:e.originEcosystem},{id:"wwY78czJM",name:"Origin View",value:e.originView},{id:"yuPm5B4CV",name:"Number of Selected Filters",value:e.numberOfSelectedFilters},{id:"-NL_Je5eV",name:"Operating System Version",value:lt},{id:"AwYJC6mJx",name:"Base URL",value:ut},{id:"BPLIbIM9d",name:"App Version",value:rt},{id:"J1ceb84St",name:"Web Browser Version",value:ot},{id:"NqduxS-oD5",name:"JIRA SEN",value:ct},{id:"RN83SIqkD",name:"Web Browser",value:at},{id:"fI8onNAO9",name:"Operating System",value:st},{id:"gqprzbRIL",name:"Instance UUID",value:dt}],[]),ze&&(null===Ge||Ge)){if(0!==t.length)throw new Error("Error sending event 'Applied Filter': "+t[0].message)}else t.forEach(function(e){console[$e||"error"]("[avo] "+e.message)})}mt.logEvent("Applied Filter",{"Origin Page":e.originPage,"Origin Ecosystem":e.originEcosystem,"Origin Action":e.originAction,"Origin Product":e.originProduct,"Origin View":e.originView,"Number of Selected Filters":e.numberOfSelectedFilters,"Filter Type":e.filterType,"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{})}function De(e){if(e=e||{},ze||Ke){var t=[];if(t=t.concat(n(e.originPage)),t=t.concat(oe(e.originEcosystem)),t=t.concat(ie(e.originAction)),t=t.concat(g(e.originProduct)),t=t.concat(de(e.originView)),t=t.concat(N(e.groupType)),t=t.concat(k(e.customFieldName)),t=t.concat(f(rt)),t=t.concat(U(at)),t=t.concat(E(ot)),t=t.concat(J(st)),t=t.concat(i(lt)),t=t.concat(p(ut)),t=t.concat(Q(dt)),t=t.concat(L(ct)),t=t.concat(qe.assertNoAdditionalProperties("Applied Grouping",Object.keys(e),["originPage","originEcosystem","originAction","originProduct","originView","groupType","customFieldName"])),Qe(He,"gpxLKNh5k","bc0720a0ca475ad1099ef16fa76c7e80400275513e5b2ee64d0a33992946d1ba",t.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"event"),Ze.logEventSent("Applied Grouping",{"Origin Page":e.originPage,"Origin Ecosystem":e.originEcosystem,"Origin Action":e.originAction,"Origin Product":e.originProduct,"Origin View":e.originView,"Group Type":e.groupType,"Custom Field Name":e.customFieldName,"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{}),Ke&&tt("gpxLKNh5k","Applied Grouping",t,[{id:"-idVe2KNW",name:"Origin Page",value:e.originPage},{id:"BaiHxFRGS",name:"Origin Product",value:e.originProduct},{id:"EftupLlRxs",name:"Custom Field Name",value:e.customFieldName},{id:"UBLSMH5RB",name:"Group Type",value:e.groupType},{id:"osqxFA5-5",name:"Origin Action",value:e.originAction},{id:"sVeluTAcw",name:"Origin Ecosystem",value:e.originEcosystem},{id:"wwY78czJM",name:"Origin View",value:e.originView},{id:"-NL_Je5eV",name:"Operating System Version",value:lt},{id:"AwYJC6mJx",name:"Base URL",value:ut},{id:"BPLIbIM9d",name:"App Version",value:rt},{id:"J1ceb84St",name:"Web Browser Version",value:ot},{id:"NqduxS-oD5",name:"JIRA SEN",value:ct},{id:"RN83SIqkD",name:"Web Browser",value:at},{id:"fI8onNAO9",name:"Operating System",value:st},{id:"gqprzbRIL",name:"Instance UUID",value:dt}],[]),ze&&(null===Ge||Ge)){if(0!==t.length)throw new Error("Error sending event 'Applied Grouping': "+t[0].message)}else t.forEach(function(e){console[$e||"error"]("[avo] "+e.message)})}mt.logEvent("Applied Grouping",{"Origin Page":e.originPage,"Origin Ecosystem":e.originEcosystem,"Origin Action":e.originAction,"Origin Product":e.originProduct,"Origin View":e.originView,"Group Type":e.groupType,"Custom Field Name":e.customFieldName,"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,
"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{})}function Oe(e){if(e=e||{},ze||Ke){var t=[];if(t=t.concat(n(e.originPage)),t=t.concat(oe(e.originEcosystem)),t=t.concat(ie(e.originAction)),t=t.concat(g(e.originProduct)),t=t.concat(de(e.originView)),t=t.concat(N(e.groupType)),t=t.concat(k(e.customFieldName)),t=t.concat(f(rt)),t=t.concat(U(at)),t=t.concat(E(ot)),t=t.concat(J(st)),t=t.concat(i(lt)),t=t.concat(p(ut)),t=t.concat(Q(dt)),t=t.concat(L(ct)),t=t.concat(qe.assertNoAdditionalProperties("Removed Grouping",Object.keys(e),["originPage","originEcosystem","originAction","originProduct","originView","groupType","customFieldName"])),Qe(He,"FpPTZEwsT","425fd5cac8ffb7826c6ba70dbd3bc7ff7b0ada854d2be67f430d0fd2ef891819",t.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"event"),Ze.logEventSent("Removed Grouping",{"Origin Page":e.originPage,"Origin Ecosystem":e.originEcosystem,"Origin Action":e.originAction,"Origin Product":e.originProduct,"Origin View":e.originView,"Group Type":e.groupType,"Custom Field Name":e.customFieldName,"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{}),Ke&&tt("FpPTZEwsT","Removed Grouping",t,[{id:"-idVe2KNW",name:"Origin Page",value:e.originPage},{id:"BaiHxFRGS",name:"Origin Product",value:e.originProduct},{id:"EftupLlRxs",name:"Custom Field Name",value:e.customFieldName},{id:"UBLSMH5RB",name:"Group Type",value:e.groupType},{id:"osqxFA5-5",name:"Origin Action",value:e.originAction},{id:"sVeluTAcw",name:"Origin Ecosystem",value:e.originEcosystem},{id:"wwY78czJM",name:"Origin View",value:e.originView},{id:"-NL_Je5eV",name:"Operating System Version",value:lt},{id:"AwYJC6mJx",name:"Base URL",value:ut},{id:"BPLIbIM9d",name:"App Version",value:rt},{id:"J1ceb84St",name:"Web Browser Version",value:ot},{id:"NqduxS-oD5",name:"JIRA SEN",value:ct},{id:"RN83SIqkD",name:"Web Browser",value:at},{id:"fI8onNAO9",name:"Operating System",value:st},{id:"gqprzbRIL",name:"Instance UUID",value:dt}],[]),ze&&(null===Ge||Ge)){if(0!==t.length)throw new Error("Error sending event 'Removed Grouping': "+t[0].message)}else t.forEach(function(e){console[$e||"error"]("[avo] "+e.message)})}mt.logEvent("Removed Grouping",{"Origin Page":e.originPage,"Origin Ecosystem":e.originEcosystem,"Origin Action":e.originAction,"Origin Product":e.originProduct,"Origin View":e.originView,"Group Type":e.groupType,"Custom Field Name":e.customFieldName,"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{})}function Ee(e){if(e=e||{},ze||Ke){var t=[];if(t=t.concat(n(e.originPage)),t=t.concat(oe(e.originEcosystem)),t=t.concat(ie(e.originAction)),t=t.concat(g(e.originProduct)),t=t.concat(de(e.originView)),t=t.concat(ce(e.periodLength)),t=t.concat(me(e.numberOfSelectedFilters)),t=t.concat(B(e.exportType)),t=t.concat(f(rt)),t=t.concat(U(at)),t=t.concat(E(ot)),t=t.concat(J(st)),t=t.concat(i(lt)),t=t.concat(p(ut)),t=t.concat(Q(dt)),t=t.concat(L(ct)),t=t.concat(qe.assertNoAdditionalProperties("Exported Data",Object.keys(e),["originPage","originEcosystem","originAction","originProduct","originView","periodLength","numberOfSelectedFilters","exportType"])),Qe(He,"MFKDcwYbp","18f2891ab5f1f00a37c9e6b8050918b31ca95e6b0410ce37e133bdc5bd1f4b8d",t.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"event"),Ze.logEventSent("Exported Data",{"Origin Page":e.originPage,"Origin Ecosystem":e.originEcosystem,"Origin Action":e.originAction,"Origin Product":e.originProduct,"Origin View":e.originView,"Period Length":e.periodLength,"Number of Selected Filters":e.numberOfSelectedFilters,"Export Type":e.exportType,"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{}),Ke&&tt("MFKDcwYbp","Exported Data",t,[{id:"-idVe2KNW",name:"Origin Page",value:e.originPage},{id:"BaiHxFRGS",name:"Origin Product",value:e.originProduct},{id:"SGjHyysnQq",name:"Export Type",value:e.exportType},{id:"osqxFA5-5",name:"Origin Action",value:e.originAction},{id:"sVeluTAcw",name:"Origin Ecosystem",value:e.originEcosystem},{id:"wwY78czJM",name:"Origin View",value:e.originView},{id:"ykCQ73j7j",name:"Period Length",value:e.periodLength},{id:"yuPm5B4CV",name:"Number of Selected Filters",value:e.numberOfSelectedFilters},{id:"-NL_Je5eV",name:"Operating System Version",value:lt},{id:"AwYJC6mJx",name:"Base URL",value:ut},{id:"BPLIbIM9d",name:"App Version",value:rt},{id:"J1ceb84St",name:"Web Browser Version",value:ot},{id:"NqduxS-oD5",name:"JIRA SEN",value:ct},{id:"RN83SIqkD",name:"Web Browser",value:at},{id:"fI8onNAO9",name:"Operating System",value:st},{id:"gqprzbRIL",name:"Instance UUID",value:dt}],[]),ze&&(null===Ge||Ge)){if(0!==t.length)throw new Error("Error sending event 'Exported Data': "+t[0].message)}else t.forEach(function(e){console[$e||"error"]("[avo] "+e.message)})}mt.logEvent("Exported Data",{"Origin Page":e.originPage,"Origin Ecosystem":e.originEcosystem,"Origin Action":e.originAction,"Origin Product":e.originProduct,"Origin View":e.originView,"Period Length":e.periodLength,"Number of Selected Filters":e.numberOfSelectedFilters,"Export Type":e.exportType,"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{})}function Ie(e){if(e=e||{},ze||Ke){var t=[];if(t=t.concat(n(e.originPage)),t=t.concat(oe(e.originEcosystem)),t=t.concat(ie(e.originAction)),t=t.concat(g(e.originProduct)),t=t.concat(de(e.originView)),t=t.concat(S(e.taskId)),t=t.concat(X(e.minutesOnTracker)),t=t.concat(f(rt)),t=t.concat(U(at)),t=t.concat(E(ot)),t=t.concat(J(st)),t=t.concat(i(lt)),t=t.concat(p(ut)),t=t.concat(Q(dt)),t=t.concat(L(ct)),t=t.concat(qe.assertNoAdditionalProperties("Reset Tracker",Object.keys(e),["originPage","originEcosystem","originAction","originProduct","originView","taskId","minutesOnTracker"])),Qe(He,"iS85oheh2","d14e30d70973609bdbfcd289682e36c03929f5f2b96c7d4aeea010e24141e907",t.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"event"),Ze.logEventSent("Reset Tracker",{"Origin Page":e.originPage,"Origin Ecosystem":e.originEcosystem,"Origin Action":e.originAction,"Origin Product":e.originProduct,"Origin View":e.originView,"Task ID":e.taskId,"Minutes on Tracker":e.minutesOnTracker,"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{}),Ke&&tt("iS85oheh2","Reset Tracker",t,[{id:"-idVe2KNW",name:"Origin Page",value:e.originPage},{id:"BaiHxFRGS",name:"Origin Product",value:e.originProduct},{id:"Fsiskjkt8",name:"Task ID",value:e.taskId},{id:"jsUSfipIe",name:"Minutes on Tracker",value:e.minutesOnTracker},{id:"osqxFA5-5",name:"Origin Action",value:e.originAction},{id:"sVeluTAcw",name:"Origin Ecosystem",value:e.originEcosystem},{id:"wwY78czJM",name:"Origin View",value:e.originView},{id:"-NL_Je5eV",name:"Operating System Version",value:lt},{id:"AwYJC6mJx",name:"Base URL",value:ut},{id:"BPLIbIM9d",name:"App Version",value:rt},{id:"J1ceb84St",name:"Web Browser Version",value:ot},{id:"NqduxS-oD5",name:"JIRA SEN",value:ct},{id:"RN83SIqkD",name:"Web Browser",value:at},{id:"fI8onNAO9",name:"Operating System",value:st},{id:"gqprzbRIL",name:"Instance UUID",value:dt}],[]),ze&&(null===Ge||Ge)){if(0!==t.length)throw new Error("Error sending event 'Reset Tracker': "+t[0].message)}else t.forEach(function(e){console[$e||"error"]("[avo] "+e.message)})}mt.logEvent("Reset Tracker",{"Origin Page":e.originPage,"Origin Ecosystem":e.originEcosystem,"Origin Action":e.originAction,"Origin Product":e.originProduct,"Origin View":e.originView,"Task ID":e.taskId,"Minutes on Tracker":e.minutesOnTracker,"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{})}function Me(e){if(e=e||{},ze||Ke){var t=[];if(t=t.concat(n(e.originPage)),t=t.concat(oe(e.originEcosystem)),t=t.concat(ie(e.originAction)),t=t.concat(g(e.originProduct)),t=t.concat(de(e.originView)),t=t.concat(S(e.taskId)),t=t.concat(W(e.display)),t=t.concat(r(e.switchedView)),t=t.concat(re(e.summedViewBy)),t=t.concat(f(rt)),t=t.concat(U(at)),t=t.concat(E(ot)),t=t.concat(J(st)),t=t.concat(i(lt)),t=t.concat(p(ut)),t=t.concat(Q(dt)),t=t.concat(L(ct)),t=t.concat(qe.assertNoAdditionalProperties("Modified Display",Object.keys(e),["originPage","originEcosystem","originAction","originProduct","originView","taskId","display","switchedView","summedViewBy"])),Qe(He,"7fdeXBiyV","fddeb3fe26759fa7d59056bf435517bff590d572be5a72ab5e9a37ff2b347a76",t.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"event"),Ze.logEventSent("Modified Display",{"Origin Page":e.originPage,"Origin Ecosystem":e.originEcosystem,"Origin Action":e.originAction,"Origin Product":e.originProduct,"Origin View":e.originView,"Task ID":e.taskId,Display:e.display,"Switched View":e.switchedView,"Summed View By":e.summedViewBy,"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{}),Ke&&tt("7fdeXBiyV","Modified Display",t,[{id:"-idVe2KNW",name:"Origin Page",value:e.originPage},{id:"-qxy1cZvpm",name:"Switched View",value:e.switchedView},{id:"BaiHxFRGS",name:"Origin Product",value:e.originProduct},{id:"Fsiskjkt8",name:"Task ID",value:e.taskId},{id:"WKwBS0qeD",name:"Display",value:e.display},{id:"osqxFA5-5",name:"Origin Action",value:e.originAction},{id:"qy_7nClxwd",name:"Summed View By",value:e.summedViewBy},{id:"sVeluTAcw",name:"Origin Ecosystem",value:e.originEcosystem},{id:"wwY78czJM",name:"Origin View",value:e.originView},{id:"-NL_Je5eV",name:"Operating System Version",value:lt},{id:"AwYJC6mJx",name:"Base URL",value:ut},{id:"BPLIbIM9d",name:"App Version",value:rt},{id:"J1ceb84St",name:"Web Browser Version",value:ot},{id:"NqduxS-oD5",name:"JIRA SEN",value:ct},{id:"RN83SIqkD",name:"Web Browser",value:at},{id:"fI8onNAO9",name:"Operating System",value:st},{id:"gqprzbRIL",name:"Instance UUID",value:dt}],[]),ze&&(null===Ge||Ge)){if(0!==t.length)throw new Error("Error sending event 'Modified Display': "+t[0].message)}else t.forEach(function(e){console[$e||"error"]("[avo] "+e.message)})}mt.logEvent("Modified Display",{"Origin Page":e.originPage,"Origin Ecosystem":e.originEcosystem,"Origin Action":e.originAction,"Origin Product":e.originProduct,"Origin View":e.originView,"Task ID":e.taskId,Display:e.display,"Switched View":e.switchedView,"Summed View By":e.summedViewBy,"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{})}function Le(e){if(e=e||{},ze||Ke){var t=[];if(t=t.concat(n(e.originPage)),t=t.concat(oe(e.originEcosystem)),t=t.concat(ie(e.originAction)),t=t.concat(g(e.originProduct)),t=t.concat(de(e.originView)),t=t.concat(S(e.taskId)),t=t.concat(s(e.startTime)),t=t.concat(A(e.descriptionLength)),t=t.concat(a(e.hoursWorked)),t=t.concat(u(e.measuredTimeInForm)),t=t.concat(Y(e.measuredTimeInIssuePicker)),t=t.concat(x(e.preSelectedTask)),t=t.concat(M(e.remainingEstimateHours)),t=t.concat(ee(e.currentRemainingEstimateUsed)),t=t.concat(V(e.expandedForm)),t=t.concat(O(e.restrictedDescription)),t=t.concat(f(rt)),t=t.concat(U(at)),t=t.concat(E(ot)),t=t.concat(J(st)),t=t.concat(i(lt)),t=t.concat(p(ut)),t=t.concat(Q(dt)),t=t.concat(L(ct)),t=t.concat(qe.assertNoAdditionalProperties("Logged Work",Object.keys(e),["originPage","originEcosystem","originAction","originProduct","originView","taskId","startTime","descriptionLength","hoursWorked","measuredTimeInForm","measuredTimeInIssuePicker","preSelectedTask","remainingEstimateHours","currentRemainingEstimateUsed","expandedForm","restrictedDescription"])),Qe(He,"a0nXw0DOml","bd88da909a4b2a0c06b55e2b0fa1e8210b7ac38434609bad7e9a277903e775e1",t.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"event"),Ze.logEventSent("Logged Work",{"Origin Page":e.originPage,"Origin Ecosystem":e.originEcosystem,"Origin Action":e.originAction,"Origin Product":e.originProduct,"Origin View":e.originView,"Task ID":e.taskId,"Start Time":e.startTime,"Description Length":e.descriptionLength,"Hours Worked":e.hoursWorked,"Measured Time in Form":e.measuredTimeInForm,"Measured Time in Issue Picker":e.measuredTimeInIssuePicker,"Pre-Selected Task":e.preSelectedTask,"Remaining Estimate Hours":e.remainingEstimateHours,"Current Remaining Estimate Used":e.currentRemainingEstimateUsed,"Expanded Form":e.expandedForm,"Restricted Description":e.restrictedDescription,"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{}),Ke&&tt("a0nXw0DOml","Logged Work",t,[{id:"-idVe2KNW",name:"Origin Page",value:e.originPage},{id:"06A95IQR7",name:"Hours Worked",value:e.hoursWorked},{id:"33q7XBTMR",name:"Start Time",value:e.startTime},{id:"50Bnl_4v0F",name:"Measured Time in Form",value:e.measuredTimeInForm},{id:"BaiHxFRGS",name:"Origin Product",value:e.originProduct},{id:"Fsiskjkt8",name:"Task ID",value:e.taskId},{id:"Gzvi1c83T",name:"Description Length",value:e.descriptionLength},{id:"I0rLSEx3El",name:"Restricted Description",value:e.restrictedDescription},{id:"N-lBzNoWDD",name:"Remaining Estimate Hours",value:e.remainingEstimateHours},{id:"Q6asyS0w_",name:"Pre-Selected Task",value:e.preSelectedTask},{id:"SYyz9proYJ",name:"Measured Time in Issue Picker",value:e.measuredTimeInIssuePicker},{id:"Y6dttyB8nW",name:"Expanded Form",value:e.expandedForm},{id:"mrWqcHHllA",name:"Current Remaining Estimate Used",value:e.currentRemainingEstimateUsed},{id:"osqxFA5-5",name:"Origin Action",value:e.originAction},{id:"sVeluTAcw",name:"Origin Ecosystem",value:e.originEcosystem},{id:"wwY78czJM",name:"Origin View",value:e.originView},{id:"-NL_Je5eV",name:"Operating System Version",value:lt},{id:"AwYJC6mJx",name:"Base URL",value:ut},{id:"BPLIbIM9d",name:"App Version",value:rt},{id:"J1ceb84St",name:"Web Browser Version",value:ot},{id:"NqduxS-oD5",name:"JIRA SEN",value:ct},{id:"RN83SIqkD",name:"Web Browser",value:at},{id:"fI8onNAO9",name:"Operating System",value:st},{id:"gqprzbRIL",name:"Instance UUID",value:dt}],[]),ze&&(null===Ge||Ge)){if(0!==t.length)throw new Error("Error sending event 'Logged Work': "+t[0].message)}else t.forEach(function(e){console[$e||"error"]("[avo] "+e.message)})}mt.logEvent("Logged Work",{"Origin Page":e.originPage,"Origin Ecosystem":e.originEcosystem,"Origin Action":e.originAction,"Origin Product":e.originProduct,"Origin View":e.originView,"Task ID":e.taskId,"Start Time":e.startTime,"Description Length":e.descriptionLength,"Hours Worked":e.hoursWorked,"Measured Time in Form":e.measuredTimeInForm,"Measured Time in Issue Picker":e.measuredTimeInIssuePicker,"Pre-Selected Task":e.preSelectedTask,"Remaining Estimate Hours":e.remainingEstimateHours,"Current Remaining Estimate Used":e.currentRemainingEstimateUsed,"Expanded Form":e.expandedForm,"Restricted Description":e.restrictedDescription,"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{})}function Pe(e){if(e=e||{},ze||Ke){var t=[];if(t=t.concat(f(rt)),t=t.concat(U(at)),t=t.concat(E(ot)),t=t.concat(J(st)),t=t.concat(i(lt)),t=t.concat(p(ut)),t=t.concat(Q(dt)),t=t.concat(L(ct)),t=t.concat(qe.assertNoAdditionalProperties("Shared View",Object.keys(e),[])),Qe(He,"HDNhVMEwo","a83d23ec26d0bb3e0da45b9346f4bfd83bc7fd6cc91766e70a798dab27997842",t.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"event"),Ze.logEventSent("Shared View",{"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{}),Ke&&tt("HDNhVMEwo","Shared View",t,[{id:"-NL_Je5eV",name:"Operating System Version",value:lt},{id:"AwYJC6mJx",name:"Base URL",value:ut},{id:"BPLIbIM9d",name:"App Version",value:rt},{id:"J1ceb84St",name:"Web Browser Version",value:ot},{id:"NqduxS-oD5",name:"JIRA SEN",value:ct},{id:"RN83SIqkD",name:"Web Browser",value:at},{id:"fI8onNAO9",name:"Operating System",value:st},{id:"gqprzbRIL",name:"Instance UUID",value:dt}],[]),ze&&(null===Ge||Ge)){if(0!==t.length)throw new Error("Error sending event 'Shared View': "+t[0].message)}else t.forEach(function(e){console[$e||"error"]("[avo] "+e.message)})}mt.logEvent("Shared View",{"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{})}function Ce(e){if(e=e||{},ze||Ke){var t=[];if(t=t.concat(n(e.originPage)),t=t.concat(oe(e.originEcosystem)),t=t.concat(ie(e.originAction)),t=t.concat(g(e.originProduct)),t=t.concat(de(e.originView)),t=t.concat(I(e.numberOfUsersSharedWith)),t=t.concat(_(e.subscriptionPeriod)),t=t.concat($(e.time)),t=t.concat(z(e.sentIfTimesheetIsNotComplete)),t=t.concat(te(e.exportAttached)),t=t.concat(f(rt)),t=t.concat(U(at)),t=t.concat(E(ot)),t=t.concat(J(st)),t=t.concat(i(lt)),t=t.concat(p(ut)),t=t.concat(Q(dt)),t=t.concat(L(ct)),t=t.concat(qe.assertNoAdditionalProperties("Subscribed to View",Object.keys(e),["originPage","originEcosystem","originAction","originProduct","originView","numberOfUsersSharedWith","subscriptionPeriod","time","sentIfTimesheetIsNotComplete","exportAttached"])),Qe(He,"_44gD7-cil","02c4ad06b885972a818202d730e43e3ad3b2c080b5d18d1edf14a2440c7fae01",t.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"event"),Ze.logEventSent("Subscribed to View",{"Origin Page":e.originPage,"Origin Ecosystem":e.originEcosystem,"Origin Action":e.originAction,"Origin Product":e.originProduct,"Origin View":e.originView,"Number of Users Shared With":e.numberOfUsersSharedWith,"Subscription Period":e.subscriptionPeriod,Time:e.time,"Sent if Timesheet Is Not Complete":e.sentIfTimesheetIsNotComplete,"Export Attached":e.exportAttached,"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{}),Ke&&tt("_44gD7-cil","Subscribed to View",t,[{id:"-idVe2KNW",name:"Origin Page",value:e.originPage},{id:"BaiHxFRGS",name:"Origin Product",value:e.originProduct},{id:"DrphZ1TBRu",name:"Subscription Period",value:e.subscriptionPeriod},{id:"LV08dQi_t4",name:"Number of Users Shared With",value:e.numberOfUsersSharedWith},{id:"YKzSpTgfrh",name:"Sent if Timesheet Is Not Complete",value:e.sentIfTimesheetIsNotComplete},{id:"aH6tyjEwUo",name:"Time",value:e.time},{id:"oVP9vA5nh_",name:"Export Attached",value:e.exportAttached},{id:"osqxFA5-5",name:"Origin Action",value:e.originAction},{id:"sVeluTAcw",name:"Origin Ecosystem",value:e.originEcosystem},{id:"wwY78czJM",name:"Origin View",value:e.originView},{id:"-NL_Je5eV",name:"Operating System Version",value:lt},{id:"AwYJC6mJx",name:"Base URL",value:ut},{id:"BPLIbIM9d",name:"App Version",value:rt},{id:"J1ceb84St",name:"Web Browser Version",value:ot},{id:"NqduxS-oD5",name:"JIRA SEN",value:ct},{id:"RN83SIqkD",name:"Web Browser",value:at},{id:"fI8onNAO9",name:"Operating System",value:st},{id:"gqprzbRIL",name:"Instance UUID",value:dt}],[]),ze&&(null===Ge||Ge)){if(0!==t.length)throw new Error("Error sending event 'Subscribed to View': "+t[0].message)}else t.forEach(function(e){console[$e||"error"]("[avo] "+e.message)})}mt.logEvent("Subscribed to View",{"Origin Page":e.originPage,"Origin Ecosystem":e.originEcosystem,"Origin Action":e.originAction,"Origin Product":e.originProduct,"Origin View":e.originView,"Number of Users Shared With":e.numberOfUsersSharedWith,"Subscription Period":e.subscriptionPeriod,Time:e.time,"Sent if Timesheet Is Not Complete":e.sentIfTimesheetIsNotComplete,"Export Attached":e.exportAttached,"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{})}function xe(e){if(e=e||{},ze||Ke){var t=[];if(t=t.concat(n(e.originPage)),t=t.concat(oe(e.originEcosystem)),t=t.concat(ie(e.originAction)),t=t.concat(g(e.originProduct)),t=t.concat(de(e.originView)),t=t.concat(fe(e.columnType)),t=t.concat(k(e.customFieldName)),t=t.concat(f(rt)),t=t.concat(U(at)),t=t.concat(E(ot)),t=t.concat(J(st)),t=t.concat(i(lt)),t=t.concat(p(ut)),t=t.concat(Q(dt)),t=t.concat(L(ct)),t=t.concat(qe.assertNoAdditionalProperties("Added Column",Object.keys(e),["originPage","originEcosystem","originAction","originProduct","originView","columnType","customFieldName"])),Qe(He,"DTNgGGmmgQ","88b17a8da0872c2b35e25901aa87582679975f7879d4ee04c32a3adf8a4c1b1f",t.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"event"),Ze.logEventSent("Added Column",{"Origin Page":e.originPage,"Origin Ecosystem":e.originEcosystem,"Origin Action":e.originAction,"Origin Product":e.originProduct,"Origin View":e.originView,"Column Type":e.columnType,"Custom Field Name":e.customFieldName,"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{}),Ke&&tt("DTNgGGmmgQ","Added Column",t,[{id:"-idVe2KNW",name:"Origin Page",value:e.originPage},{id:"BaiHxFRGS",name:"Origin Product",value:e.originProduct},{id:"EftupLlRxs",name:"Custom Field Name",value:e.customFieldName},{id:"osqxFA5-5",name:"Origin Action",value:e.originAction},{id:"sVeluTAcw",name:"Origin Ecosystem",value:e.originEcosystem},{id:"wwY78czJM",name:"Origin View",value:e.originView},{id:"zxUQjbOBOi",name:"Column Type",value:e.columnType},{id:"-NL_Je5eV",name:"Operating System Version",value:lt},{id:"AwYJC6mJx",name:"Base URL",value:ut},{id:"BPLIbIM9d",name:"App Version",value:rt},{id:"J1ceb84St",name:"Web Browser Version",value:ot},{id:"NqduxS-oD5",name:"JIRA SEN",value:ct},{id:"RN83SIqkD",name:"Web Browser",value:at},{id:"fI8onNAO9",name:"Operating System",value:st},{id:"gqprzbRIL",name:"Instance UUID",value:dt}],[]),ze&&(null===Ge||Ge)){if(0!==t.length)throw new Error("Error sending event 'Added Column': "+t[0].message)}else t.forEach(function(e){console[$e||"error"]("[avo] "+e.message)})}mt.logEvent("Added Column",{"Origin Page":e.originPage,"Origin Ecosystem":e.originEcosystem,"Origin Action":e.originAction,"Origin Product":e.originProduct,"Origin View":e.originView,"Column Type":e.columnType,"Custom Field Name":e.customFieldName,"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{})}function Fe(e){if(e=e||{},ze||Ke){var t=[];if(t=t.concat(n(e.originPage)),t=t.concat(oe(e.originEcosystem)),t=t.concat(ie(e.originAction)),t=t.concat(g(e.originProduct)),t=t.concat(de(e.originView)),t=t.concat(fe(e.columnType)),t=t.concat(k(e.customFieldName)),t=t.concat(f(rt)),t=t.concat(U(at)),t=t.concat(E(ot)),t=t.concat(J(st)),t=t.concat(i(lt)),t=t.concat(p(ut)),t=t.concat(Q(dt)),t=t.concat(L(ct)),t=t.concat(qe.assertNoAdditionalProperties("Removed Column",Object.keys(e),["originPage","originEcosystem","originAction","originProduct","originView","columnType","customFieldName"])),Qe(He,"N3fYqy3BiL","87d387d8761b9a230ffe75dd9cd9cf4adf0db7c2fc34a3bc5067bff6d92b194d",t.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"event"),Ze.logEventSent("Removed Column",{"Origin Page":e.originPage,"Origin Ecosystem":e.originEcosystem,"Origin Action":e.originAction,"Origin Product":e.originProduct,"Origin View":e.originView,"Column Type":e.columnType,"Custom Field Name":e.customFieldName,"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{}),Ke&&tt("N3fYqy3BiL","Removed Column",t,[{id:"-idVe2KNW",name:"Origin Page",value:e.originPage},{id:"BaiHxFRGS",name:"Origin Product",value:e.originProduct},{id:"EftupLlRxs",name:"Custom Field Name",value:e.customFieldName},{id:"osqxFA5-5",name:"Origin Action",value:e.originAction},{id:"sVeluTAcw",name:"Origin Ecosystem",value:e.originEcosystem},{id:"wwY78czJM",name:"Origin View",value:e.originView},{id:"zxUQjbOBOi",name:"Column Type",value:e.columnType},{id:"-NL_Je5eV",name:"Operating System Version",value:lt},{id:"AwYJC6mJx",name:"Base URL",value:ut},{id:"BPLIbIM9d",name:"App Version",value:rt},{id:"J1ceb84St",name:"Web Browser Version",value:ot},{id:"NqduxS-oD5",name:"JIRA SEN",value:ct},{id:"RN83SIqkD",name:"Web Browser",value:at},{id:"fI8onNAO9",name:"Operating System",value:st},{id:"gqprzbRIL",name:"Instance UUID",value:dt}],[]),ze&&(null===Ge||Ge)){if(0!==t.length)throw new Error("Error sending event 'Removed Column': "+t[0].message)}else t.forEach(function(e){console[$e||"error"]("[avo] "+e.message)})}mt.logEvent("Removed Column",{"Origin Page":e.originPage,"Origin Ecosystem":e.originEcosystem,"Origin Action":e.originAction,"Origin Product":e.originProduct,"Origin View":e.originView,"Column Type":e.columnType,"Custom Field Name":e.customFieldName,"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{})}function Ue(e){if(e=e||{},ze||Ke){var t=[];if(t=t.concat(n(e.originPage)),t=t.concat(oe(e.originEcosystem)),t=t.concat(ie(e.originAction)),t=t.concat(g(e.originProduct)),t=t.concat(de(e.originView)),t=t.concat(k(e.customFieldName)),t=t.concat(f(rt)),t=t.concat(U(at)),t=t.concat(E(ot)),t=t.concat(J(st)),t=t.concat(i(lt)),t=t.concat(p(ut)),t=t.concat(Q(dt)),t=t.concat(L(ct)),t=t.concat(qe.assertNoAdditionalProperties("Added Categorization",Object.keys(e),["originPage","originEcosystem","originAction","originProduct","originView","customFieldName"])),Qe(He,"2t7BKG6wY-","cfb6d8c0930b4305e6a94ba42ae3e98a2f9d101f9a53d750a0607a74c4ede096",t.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"event"),Ze.logEventSent("Added Categorization",{"Origin Page":e.originPage,"Origin Ecosystem":e.originEcosystem,"Origin Action":e.originAction,"Origin Product":e.originProduct,"Origin View":e.originView,"Custom Field Name":e.customFieldName,"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{}),Ke&&tt("2t7BKG6wY-","Added Categorization",t,[{id:"-idVe2KNW",name:"Origin Page",value:e.originPage},{id:"BaiHxFRGS",name:"Origin Product",value:e.originProduct},{id:"EftupLlRxs",name:"Custom Field Name",value:e.customFieldName},{id:"osqxFA5-5",name:"Origin Action",value:e.originAction},{id:"sVeluTAcw",name:"Origin Ecosystem",value:e.originEcosystem},{id:"wwY78czJM",name:"Origin View",value:e.originView},{id:"-NL_Je5eV",name:"Operating System Version",value:lt},{id:"AwYJC6mJx",name:"Base URL",value:ut},{id:"BPLIbIM9d",name:"App Version",value:rt},{id:"J1ceb84St",name:"Web Browser Version",value:ot},{id:"NqduxS-oD5",name:"JIRA SEN",value:ct},{id:"RN83SIqkD",name:"Web Browser",value:at},{id:"fI8onNAO9",name:"Operating System",value:st},{id:"gqprzbRIL",name:"Instance UUID",value:dt}],[]),ze&&(null===Ge||Ge)){if(0!==t.length)throw new Error("Error sending event 'Added Categorization': "+t[0].message)}else t.forEach(function(e){console[$e||"error"]("[avo] "+e.message)})}mt.logEvent("Added Categorization",{"Origin Page":e.originPage,"Origin Ecosystem":e.originEcosystem,"Origin Action":e.originAction,"Origin Product":e.originProduct,"Origin View":e.originView,"Custom Field Name":e.customFieldName,"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{})}function Re(e){if(e=e||{},ze||Ke){var t=[];if(t=t.concat(n(e.originPage)),t=t.concat(oe(e.originEcosystem)),t=t.concat(ie(e.originAction)),t=t.concat(g(e.originProduct)),t=t.concat(de(e.originView)),t=t.concat(k(e.customFieldName)),t=t.concat(f(rt)),t=t.concat(U(at)),t=t.concat(E(ot)),t=t.concat(J(st)),t=t.concat(i(lt)),t=t.concat(p(ut)),t=t.concat(Q(dt)),t=t.concat(L(ct)),t=t.concat(qe.assertNoAdditionalProperties("Removed Categorization",Object.keys(e),["originPage","originEcosystem","originAction","originProduct","originView","customFieldName"])),Qe(He,"hbp_XUNjRI","1a745252c0a1a309eed5cc5f8ae8bd614ac47e2b05041b9f3f37bf2eae655bfb",t.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"event"),Ze.logEventSent("Removed Categorization",{"Origin Page":e.originPage,"Origin Ecosystem":e.originEcosystem,"Origin Action":e.originAction,"Origin Product":e.originProduct,"Origin View":e.originView,"Custom Field Name":e.customFieldName,"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{}),Ke&&tt("hbp_XUNjRI","Removed Categorization",t,[{id:"-idVe2KNW",name:"Origin Page",value:e.originPage},{id:"BaiHxFRGS",name:"Origin Product",value:e.originProduct},{id:"EftupLlRxs",name:"Custom Field Name",value:e.customFieldName},{id:"osqxFA5-5",name:"Origin Action",value:e.originAction},{id:"sVeluTAcw",name:"Origin Ecosystem",value:e.originEcosystem},{id:"wwY78czJM",name:"Origin View",value:e.originView},{id:"-NL_Je5eV",name:"Operating System Version",value:lt},{id:"AwYJC6mJx",name:"Base URL",value:ut},{id:"BPLIbIM9d",name:"App Version",value:rt},{id:"J1ceb84St",name:"Web Browser Version",value:ot},{id:"NqduxS-oD5",name:"JIRA SEN",value:ct},{id:"RN83SIqkD",name:"Web Browser",value:at},{id:"fI8onNAO9",name:"Operating System",value:st},{id:"gqprzbRIL",name:"Instance UUID",value:dt}],[]),ze&&(null===Ge||Ge)){if(0!==t.length)throw new Error("Error sending event 'Removed Categorization': "+t[0].message)}else t.forEach(function(e){console[$e||"error"]("[avo] "+e.message)})}mt.logEvent("Removed Categorization",{"Origin Page":e.originPage,"Origin Ecosystem":e.originEcosystem,"Origin Action":e.originAction,"Origin Product":e.originProduct,"Origin View":e.originView,"Custom Field Name":e.customFieldName,"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{})}function Be(e){if(e=e||{},ze||Ke){var t=[];if(t=t.concat(f(rt)),t=t.concat(U(at)),t=t.concat(E(ot)),t=t.concat(J(st)),t=t.concat(i(lt)),t=t.concat(p(ut)),t=t.concat(Q(dt)),t=t.concat(L(ct)),t=t.concat(qe.assertNoAdditionalProperties("Added Gadget",Object.keys(e),[])),Qe(He,"5mMmrFyNT4","01df1af56106dfd23b4e05cef0d8efed46e73e9f6e9ca604ea129eeb90ff736a",t.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"event"),Ze.logEventSent("Added Gadget",{"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{}),
Ke&&tt("5mMmrFyNT4","Added Gadget",t,[{id:"-NL_Je5eV",name:"Operating System Version",value:lt},{id:"AwYJC6mJx",name:"Base URL",value:ut},{id:"BPLIbIM9d",name:"App Version",value:rt},{id:"J1ceb84St",name:"Web Browser Version",value:ot},{id:"NqduxS-oD5",name:"JIRA SEN",value:ct},{id:"RN83SIqkD",name:"Web Browser",value:at},{id:"fI8onNAO9",name:"Operating System",value:st},{id:"gqprzbRIL",name:"Instance UUID",value:dt}],[]),ze&&(null===Ge||Ge)){if(0!==t.length)throw new Error("Error sending event 'Added Gadget': "+t[0].message)}else t.forEach(function(e){console[$e||"error"]("[avo] "+e.message)})}mt.logEvent("Added Gadget",{"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{})}function Ye(e){if(e=e||{},ze||Ke){var t=[];if(t=t.concat(f(rt)),t=t.concat(U(at)),t=t.concat(E(ot)),t=t.concat(J(st)),t=t.concat(i(lt)),t=t.concat(p(ut)),t=t.concat(Q(dt)),t=t.concat(L(ct)),t=t.concat(qe.assertNoAdditionalProperties("Modified Gadget",Object.keys(e),[])),Qe(He,"2eU3llGAYB","52b2a577f69499eae1dd1d359340806e1452cfde233890afe1a351e5ee6bd684",t.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"event"),Ze.logEventSent("Modified Gadget",{"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{}),Ke&&tt("2eU3llGAYB","Modified Gadget",t,[{id:"-NL_Je5eV",name:"Operating System Version",value:lt},{id:"AwYJC6mJx",name:"Base URL",value:ut},{id:"BPLIbIM9d",name:"App Version",value:rt},{id:"J1ceb84St",name:"Web Browser Version",value:ot},{id:"NqduxS-oD5",name:"JIRA SEN",value:ct},{id:"RN83SIqkD",name:"Web Browser",value:at},{id:"fI8onNAO9",name:"Operating System",value:st},{id:"gqprzbRIL",name:"Instance UUID",value:dt}],[]),ze&&(null===Ge||Ge)){if(0!==t.length)throw new Error("Error sending event 'Modified Gadget': "+t[0].message)}else t.forEach(function(e){console[$e||"error"]("[avo] "+e.message)})}mt.logEvent("Modified Gadget",{"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{})}function Ne(e){if(e=e||{},ze||Ke){var t=[];if(t=t.concat(f(rt)),t=t.concat(U(at)),t=t.concat(E(ot)),t=t.concat(J(st)),t=t.concat(i(lt)),t=t.concat(p(ut)),t=t.concat(Q(dt)),t=t.concat(L(ct)),t=t.concat(qe.assertNoAdditionalProperties("Removed Gadget",Object.keys(e),[])),Qe(He,"WHxJwog7T-","af14045f2cdc6d4e633f754f7281f2ae3ea1aad99d61af474a26a8af6b865623",t.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"event"),Ze.logEventSent("Removed Gadget",{"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{}),Ke&&tt("WHxJwog7T-","Removed Gadget",t,[{id:"-NL_Je5eV",name:"Operating System Version",value:lt},{id:"AwYJC6mJx",name:"Base URL",value:ut},{id:"BPLIbIM9d",name:"App Version",value:rt},{id:"J1ceb84St",name:"Web Browser Version",value:ot},{id:"NqduxS-oD5",name:"JIRA SEN",value:ct},{id:"RN83SIqkD",name:"Web Browser",value:at},{id:"fI8onNAO9",name:"Operating System",value:st},{id:"gqprzbRIL",name:"Instance UUID",value:dt}],[]),ze&&(null===Ge||Ge)){if(0!==t.length)throw new Error("Error sending event 'Removed Gadget': "+t[0].message)}else t.forEach(function(e){console[$e||"error"]("[avo] "+e.message)})}mt.logEvent("Removed Gadget",{"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{})}function We(e){if(e=e||{},ze||Ke){var t=[];if(t=t.concat(n(e.originPage)),t=t.concat(oe(e.originEcosystem)),t=t.concat(ie(e.originAction)),t=t.concat(g(e.originProduct)),t=t.concat(de(e.originView)),t=t.concat(N(e.groupType)),t=t.concat(l(e.filterType)),t=t.concat(me(e.numberOfSelectedFilters)),t=t.concat(ce(e.periodLength)),t=t.concat(D(e.reportingDay)),t=t.concat(se(e.orderType)),t=t.concat(f(rt)),t=t.concat(U(at)),t=t.concat(E(ot)),t=t.concat(J(st)),t=t.concat(i(lt)),t=t.concat(p(ut)),t=t.concat(Q(dt)),t=t.concat(L(ct)),t=t.concat(qe.assertNoAdditionalProperties("Viewed Report",Object.keys(e),["originPage","originEcosystem","originAction","originProduct","originView","groupType","filterType","numberOfSelectedFilters","periodLength","reportingDay","orderType"])),Qe(He,"D_H2QSv9W0","642894384f7ae9cbe817f75d1b464f55e1fdc7ce6678013d2681d0cebb9643db",t.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"event"),Ze.logEventSent("Viewed Report",{"Origin Page":e.originPage,"Origin Ecosystem":e.originEcosystem,"Origin Action":e.originAction,"Origin Product":e.originProduct,"Origin View":e.originView,"Group Type":e.groupType,"Filter Type":e.filterType,"Number of Selected Filters":e.numberOfSelectedFilters,"Period Length":e.periodLength,"Reporting Day":e.reportingDay,"Order Type":e.orderType,"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{}),Ke&&tt("D_H2QSv9W0","Viewed Report",t,[{id:"-idVe2KNW",name:"Origin Page",value:e.originPage},{id:"3heoTeLSh",name:"Filter Type",value:e.filterType},{id:"BaiHxFRGS",name:"Origin Product",value:e.originProduct},{id:"HkYwSDT3Me",name:"Reporting Day",value:e.reportingDay},{id:"UBLSMH5RB",name:"Group Type",value:e.groupType},{id:"osqxFA5-5",name:"Origin Action",value:e.originAction},{id:"sVeluTAcw",name:"Origin Ecosystem",value:e.originEcosystem},{id:"t40d_MVfV",name:"Order Type",value:e.orderType},{id:"wwY78czJM",name:"Origin View",value:e.originView},{id:"ykCQ73j7j",name:"Period Length",value:e.periodLength},{id:"yuPm5B4CV",name:"Number of Selected Filters",value:e.numberOfSelectedFilters},{id:"-NL_Je5eV",name:"Operating System Version",value:lt},{id:"AwYJC6mJx",name:"Base URL",value:ut},{id:"BPLIbIM9d",name:"App Version",value:rt},{id:"J1ceb84St",name:"Web Browser Version",value:ot},{id:"NqduxS-oD5",name:"JIRA SEN",value:ct},{id:"RN83SIqkD",name:"Web Browser",value:at},{id:"fI8onNAO9",name:"Operating System",value:st},{id:"gqprzbRIL",name:"Instance UUID",value:dt}],[]),ze&&(null===Ge||Ge)){if(0!==t.length)throw new Error("Error sending event 'Viewed Report': "+t[0].message)}else t.forEach(function(e){console[$e||"error"]("[avo] "+e.message)})}mt.logEvent("Viewed Report",{"Origin Page":e.originPage,"Origin Ecosystem":e.originEcosystem,"Origin Action":e.originAction,"Origin Product":e.originProduct,"Origin View":e.originView,"Group Type":e.groupType,"Filter Type":e.filterType,"Number of Selected Filters":e.numberOfSelectedFilters,"Period Length":e.periodLength,"Reporting Day":e.reportingDay,"Order Type":e.orderType,"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{})}function je(e){if(e=e||{},ze||Ke){var t=[];if(t=t.concat(n(e.originPage)),t=t.concat(oe(e.originEcosystem)),t=t.concat(ie(e.originAction)),t=t.concat(g(e.originProduct)),t=t.concat(de(e.originView)),t=t.concat(B(e.exportType)),t=t.concat(me(e.numberOfSelectedFilters)),t=t.concat(ce(e.periodLength)),t=t.concat(f(rt)),t=t.concat(U(at)),t=t.concat(E(ot)),t=t.concat(J(st)),t=t.concat(i(lt)),t=t.concat(p(ut)),t=t.concat(Q(dt)),t=t.concat(L(ct)),t=t.concat(qe.assertNoAdditionalProperties("Exported View",Object.keys(e),["originPage","originEcosystem","originAction","originProduct","originView","exportType","numberOfSelectedFilters","periodLength"])),Qe(He,"RYtJ1-iOEH","6aaedecbf95858b2628abba610c30e30f7ff3891e6222f2755ae2dec2e851aa0",t.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"event"),Ze.logEventSent("Exported View",{"Origin Page":e.originPage,"Origin Ecosystem":e.originEcosystem,"Origin Action":e.originAction,"Origin Product":e.originProduct,"Origin View":e.originView,"Export Type":e.exportType,"Number of Selected Filters":e.numberOfSelectedFilters,"Period Length":e.periodLength,"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{}),Ke&&tt("RYtJ1-iOEH","Exported View",t,[{id:"-idVe2KNW",name:"Origin Page",value:e.originPage},{id:"BaiHxFRGS",name:"Origin Product",value:e.originProduct},{id:"SGjHyysnQq",name:"Export Type",value:e.exportType},{id:"osqxFA5-5",name:"Origin Action",value:e.originAction},{id:"sVeluTAcw",name:"Origin Ecosystem",value:e.originEcosystem},{id:"wwY78czJM",name:"Origin View",value:e.originView},{id:"ykCQ73j7j",name:"Period Length",value:e.periodLength},{id:"yuPm5B4CV",name:"Number of Selected Filters",value:e.numberOfSelectedFilters},{id:"-NL_Je5eV",name:"Operating System Version",value:lt},{id:"AwYJC6mJx",name:"Base URL",value:ut},{id:"BPLIbIM9d",name:"App Version",value:rt},{id:"J1ceb84St",name:"Web Browser Version",value:ot},{id:"NqduxS-oD5",name:"JIRA SEN",value:ct},{id:"RN83SIqkD",name:"Web Browser",value:at},{id:"fI8onNAO9",name:"Operating System",value:st},{id:"gqprzbRIL",name:"Instance UUID",value:dt}],[]),ze&&(null===Ge||Ge)){if(0!==t.length)throw new Error("Error sending event 'Exported View': "+t[0].message)}else t.forEach(function(e){console[$e||"error"]("[avo] "+e.message)})}mt.logEvent("Exported View",{"Origin Page":e.originPage,"Origin Ecosystem":e.originEcosystem,"Origin Action":e.originAction,"Origin Product":e.originProduct,"Origin View":e.originView,"Export Type":e.exportType,"Number of Selected Filters":e.numberOfSelectedFilters,"Period Length":e.periodLength,"App Version":rt,"Web Browser":at,"Web Browser Version":ot,"Operating System":st,"Operating System Version":lt,"Base URL":ut,"Instance UUID":dt,"JIRA SEN":ct},{})}function Ve(e){var t=null,G=null,K=null,ge=void 0!==He&&null!==He?He:e.env;G="undefined"!=typeof window&&window.location.search.indexOf("avo_debug=1")>-1||!1!==e.webDebugger&&"prod"!==ge,G&&function(){if("undefined"!=typeof window){var e=function(){if(null===document.getElementById("avo-debugger")){var e=document.createElement("iframe");document.body.appendChild(e),e.id="avo-debugger",e.src="https://www.avo.app/_debugger",e.style="display: none;"}};document.body?e():document.addEventListener("DOMContentLoaded",e)}}(),void 0!==e.strict&&(t=!1!==e.strict),void 0!==e.reportFailureAs&&(K=e.reportFailureAs);var ye=e.eventName,ve=e.eventProperties||e.properties||{},_e=e.userProperties||{},we=[];switch(ye){case"Modified Time Record":if(we=we.concat(n(ve["Origin Page"])),we=we.concat(oe(ve["Origin Ecosystem"])),we=we.concat(ie(ve["Origin Action"])),we=we.concat(g(ve["Origin Product"])),we=we.concat(de(ve["Origin View"])),we=we.concat(a(ve["Hours Worked"])),we=we.concat(S(ve["Task ID"])),we=we.concat(H(ve.Attribute)),we=we.concat(ue(ve["Date of Time Record"])),we=we.concat(s(ve["Start Time"])),we=we.concat(A(ve["Description Length"])),we=we.concat(Y(ve["Measured Time in Issue Picker"])),we=we.concat(u(ve["Measured Time in Form"])),we=we.concat(f(ve["App Version"])),we=we.concat(U(ve["Web Browser"])),we=we.concat(E(ve["Web Browser Version"])),we=we.concat(J(ve["Operating System"])),we=we.concat(i(ve["Operating System Version"])),we=we.concat(p(ve["Base URL"])),we=we.concat(Q(ve["Instance UUID"])),we=we.concat(L(ve["JIRA SEN"])),we=we.concat(qe.assertNoAdditionalProperties("Modified Time Record",Object.keys(ve),["Origin Page","Origin Ecosystem","Origin Action","Origin Product","Origin View","Hours Worked","Task ID","Attribute","Date of Time Record","Start Time","Description Length","Measured Time in Issue Picker","Measured Time in Form","App Version","Web Browser","Web Browser Version","Operating System","Operating System Version","Base URL","Instance UUID","JIRA SEN"])),Qe(ge,"OUBCYIzGH","135e4bfca4d7515a87855b714a1edcdeea51c846bf0a78d73a50a7a434532284",we.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"validate"),G&&tt("OUBCYIzGH","Modified Time Record",we,[{id:"Origin Page",name:"Origin Page",value:ve["Origin Page"]},{id:"Origin Ecosystem",name:"Origin Ecosystem",value:ve["Origin Ecosystem"]},{id:"Origin Action",name:"Origin Action",value:ve["Origin Action"]},{id:"Origin Product",name:"Origin Product",value:ve["Origin Product"]},{id:"Origin View",name:"Origin View",value:ve["Origin View"]},{id:"Hours Worked",name:"Hours Worked",value:ve["Hours Worked"]},{id:"Task ID",name:"Task ID",value:ve["Task ID"]},{id:"Attribute",name:"Attribute",value:ve.Attribute},{id:"Date of Time Record",name:"Date of Time Record",value:ve["Date of Time Record"]},{id:"Start Time",name:"Start Time",value:ve["Start Time"]},{id:"Description Length",name:"Description Length",value:ve["Description Length"]},{id:"Measured Time in Issue Picker",name:"Measured Time in Issue Picker",value:ve["Measured Time in Issue Picker"]},{id:"Measured Time in Form",name:"Measured Time in Form",value:ve["Measured Time in Form"]},{id:"App Version",name:"App Version",value:ve["App Version"]},{id:"Web Browser",name:"Web Browser",value:ve["Web Browser"]},{id:"Web Browser Version",name:"Web Browser Version",value:ve["Web Browser Version"]},{id:"Operating System",name:"Operating System",value:ve["Operating System"]},{id:"Operating System Version",name:"Operating System Version",value:ve["Operating System Version"]},{id:"Base URL",name:"Base URL",value:ve["Base URL"]},{id:"Instance UUID",name:"Instance UUID",value:ve["Instance UUID"]},{id:"JIRA SEN",name:"JIRA SEN",value:ve["JIRA SEN"]}],[]),"prod"===ge||null!==t&&!t)we.forEach(function(e){console[K||"error"]("[avo] "+e.message)});else if(0!==we.length)throw new Error("Error sending event 'Modified Time Record': "+we[0].message);break;case"Started Tracker":if(we=we.concat(n(ve["Origin Page"])),we=we.concat(oe(ve["Origin Ecosystem"])),we=we.concat(ie(ve["Origin Action"])),we=we.concat(g(ve["Origin Product"])),we=we.concat(de(ve["Origin View"])),we=we.concat(S(ve["Task ID"])),we=we.concat(X(ve["Minutes on Tracker"])),we=we.concat(f(ve["App Version"])),we=we.concat(U(ve["Web Browser"])),we=we.concat(E(ve["Web Browser Version"])),we=we.concat(J(ve["Operating System"])),we=we.concat(i(ve["Operating System Version"])),we=we.concat(p(ve["Base URL"])),we=we.concat(Q(ve["Instance UUID"])),we=we.concat(L(ve["JIRA SEN"])),we=we.concat(qe.assertNoAdditionalProperties("Started Tracker",Object.keys(ve),["Origin Page","Origin Ecosystem","Origin Action","Origin Product","Origin View","Task ID","Minutes on Tracker","App Version","Web Browser","Web Browser Version","Operating System","Operating System Version","Base URL","Instance UUID","JIRA SEN"])),Qe(ge,"T7021dcM3","d11c27cfe6875bc6b989d80f51e38173032717d9bc335f1d7a0f351f69b27861",we.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"validate"),G&&tt("T7021dcM3","Started Tracker",we,[{id:"Origin Page",name:"Origin Page",value:ve["Origin Page"]},{id:"Origin Ecosystem",name:"Origin Ecosystem",value:ve["Origin Ecosystem"]},{id:"Origin Action",name:"Origin Action",value:ve["Origin Action"]},{id:"Origin Product",name:"Origin Product",value:ve["Origin Product"]},{id:"Origin View",name:"Origin View",value:ve["Origin View"]},{id:"Task ID",name:"Task ID",value:ve["Task ID"]},{id:"Minutes on Tracker",name:"Minutes on Tracker",value:ve["Minutes on Tracker"]},{id:"App Version",name:"App Version",value:ve["App Version"]},{id:"Web Browser",name:"Web Browser",value:ve["Web Browser"]},{id:"Web Browser Version",name:"Web Browser Version",value:ve["Web Browser Version"]},{id:"Operating System",name:"Operating System",value:ve["Operating System"]},{id:"Operating System Version",name:"Operating System Version",value:ve["Operating System Version"]},{id:"Base URL",name:"Base URL",value:ve["Base URL"]},{id:"Instance UUID",name:"Instance UUID",value:ve["Instance UUID"]},{id:"JIRA SEN",name:"JIRA SEN",value:ve["JIRA SEN"]}],[]),"prod"===ge||null!==t&&!t)we.forEach(function(e){console[K||"error"]("[avo] "+e.message)});else if(0!==we.length)throw new Error("Error sending event 'Started Tracker': "+we[0].message);break;case"Paused Tracker":if(we=we.concat(n(ve["Origin Page"])),we=we.concat(oe(ve["Origin Ecosystem"])),we=we.concat(ie(ve["Origin Action"])),we=we.concat(g(ve["Origin Product"])),we=we.concat(de(ve["Origin View"])),we=we.concat(S(ve["Task ID"])),we=we.concat(X(ve["Minutes on Tracker"])),we=we.concat(f(ve["App Version"])),we=we.concat(U(ve["Web Browser"])),we=we.concat(E(ve["Web Browser Version"])),we=we.concat(J(ve["Operating System"])),we=we.concat(i(ve["Operating System Version"])),we=we.concat(p(ve["Base URL"])),we=we.concat(Q(ve["Instance UUID"])),we=we.concat(L(ve["JIRA SEN"])),we=we.concat(qe.assertNoAdditionalProperties("Paused Tracker",Object.keys(ve),["Origin Page","Origin Ecosystem","Origin Action","Origin Product","Origin View","Task ID","Minutes on Tracker","App Version","Web Browser","Web Browser Version","Operating System","Operating System Version","Base URL","Instance UUID","JIRA SEN"])),Qe(ge,"9G04yzCLN","65299c08406a33e35e1d7c944dc43449a15ba9a350469b736f7ecd52f90c0dc5",we.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"validate"),G&&tt("9G04yzCLN","Paused Tracker",we,[{id:"Origin Page",name:"Origin Page",value:ve["Origin Page"]},{id:"Origin Ecosystem",name:"Origin Ecosystem",value:ve["Origin Ecosystem"]},{id:"Origin Action",name:"Origin Action",value:ve["Origin Action"]},{id:"Origin Product",name:"Origin Product",value:ve["Origin Product"]},{id:"Origin View",name:"Origin View",value:ve["Origin View"]},{id:"Task ID",name:"Task ID",value:ve["Task ID"]},{id:"Minutes on Tracker",name:"Minutes on Tracker",value:ve["Minutes on Tracker"]},{id:"App Version",name:"App Version",value:ve["App Version"]},{id:"Web Browser",name:"Web Browser",value:ve["Web Browser"]},{id:"Web Browser Version",name:"Web Browser Version",value:ve["Web Browser Version"]},{id:"Operating System",name:"Operating System",value:ve["Operating System"]},{id:"Operating System Version",name:"Operating System Version",value:ve["Operating System Version"]},{id:"Base URL",name:"Base URL",value:ve["Base URL"]},{id:"Instance UUID",name:"Instance UUID",value:ve["Instance UUID"]},{id:"JIRA SEN",name:"JIRA SEN",value:ve["JIRA SEN"]}],[]),"prod"===ge||null!==t&&!t)we.forEach(function(e){console[K||"error"]("[avo] "+e.message)});else if(0!==we.length)throw new Error("Error sending event 'Paused Tracker': "+we[0].message);break;case"Navigated":if(we=we.concat(n(ve["Origin Page"])),we=we.concat(oe(ve["Origin Ecosystem"])),we=we.concat(ie(ve["Origin Action"])),we=we.concat(g(ve["Origin Product"])),we=we.concat(de(ve["Origin View"])),we=we.concat(pe(ve["Page From"])),we=we.concat(ae(ve["Page To"])),we=we.concat(v(ve["Selected View"])),we=we.concat(h(ve["Onboarding Message"])),we=we.concat(f(ve["App Version"])),we=we.concat(U(ve["Web Browser"])),we=we.concat(E(ve["Web Browser Version"])),we=we.concat(J(ve["Operating System"])),we=we.concat(i(ve["Operating System Version"])),we=we.concat(p(ve["Base URL"])),we=we.concat(Q(ve["Instance UUID"])),we=we.concat(L(ve["JIRA SEN"])),we=we.concat(qe.assertNoAdditionalProperties("Navigated",Object.keys(ve),["Origin Page","Origin Ecosystem","Origin Action","Origin Product","Origin View","Page From","Page To","Selected View","Onboarding Message","App Version","Web Browser","Web Browser Version","Operating System","Operating System Version","Base URL","Instance UUID","JIRA SEN"])),Qe(ge,"hxILuqj19","d578353577b52114ae7c9a8050aeeafa284e1051503bccfc95c3460bce681e6f",we.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"validate"),G&&tt("hxILuqj19","Navigated",we,[{id:"Origin Page",name:"Origin Page",value:ve["Origin Page"]},{id:"Origin Ecosystem",name:"Origin Ecosystem",value:ve["Origin Ecosystem"]},{id:"Origin Action",name:"Origin Action",value:ve["Origin Action"]},{id:"Origin Product",name:"Origin Product",value:ve["Origin Product"]},{id:"Origin View",name:"Origin View",value:ve["Origin View"]},{id:"Page From",name:"Page From",value:ve["Page From"]},{id:"Page To",name:"Page To",value:ve["Page To"]},{id:"Selected View",name:"Selected View",value:ve["Selected View"]},{id:"Onboarding Message",name:"Onboarding Message",value:ve["Onboarding Message"]},{id:"App Version",name:"App Version",value:ve["App Version"]},{id:"Web Browser",name:"Web Browser",value:ve["Web Browser"]},{id:"Web Browser Version",name:"Web Browser Version",value:ve["Web Browser Version"]},{id:"Operating System",name:"Operating System",value:ve["Operating System"]},{id:"Operating System Version",name:"Operating System Version",value:ve["Operating System Version"]},{id:"Base URL",name:"Base URL",value:ve["Base URL"]},{id:"Instance UUID",name:"Instance UUID",value:ve["Instance UUID"]},{id:"JIRA SEN",name:"JIRA SEN",value:ve["JIRA SEN"]}],[]),"prod"===ge||null!==t&&!t)we.forEach(function(e){console[K||"error"]("[avo] "+e.message)});else if(0!==we.length)throw new Error("Error sending event 'Navigated': "+we[0].message);break;case"Identified User":if(we=we.concat(f(ve["App Version"])),we=we.concat(U(ve["Web Browser"])),we=we.concat(E(ve["Web Browser Version"])),we=we.concat(J(ve["Operating System"])),we=we.concat(i(ve["Operating System Version"])),we=we.concat(p(ve["Base URL"])),we=we.concat(Q(ve["Instance UUID"])),we=we.concat(L(ve["JIRA SEN"])),we=we.concat(j(_e.ID)),we=we.concat(ne(_e["User Timezone"])),we=we.concat(le(_e["User Continent"])),we=we.concat(b(_e["User Locale"])),we=we.concat(d(_e["Weekend Type"])),we=we.concat(Z(_e["Reporting Day Default Value"])),we=we.concat(w(_e["Duration Type Default Value"])),we=we.concat(C(_e["Maximum Fraction Digits"])),we=we.concat(he(_e["Duration Type For Export"])),we=we.concat(y(_e["Started Time In Status"])),we=we.concat(T(_e["In Progress Issues Jql"])),we=we.concat(o(_e["Show Details Count"])),we=we.concat(R(_e["Show Category Row"])),we=we.concat(P(_e["Show Total In Front"])),we=we.concat(m(_e["Tempo Token"])),we=we.concat(F(_e["Working Time In Status From"])),we=we.concat(c(_e["Working Time In Status To"])),we=we.concat(q(_e["Jira Administrator"])),we=we.concat(qe.assertNoAdditionalProperties("Identified User",Object.keys(ve),["App Version","Web Browser","Web Browser Version","Operating System","Operating System Version","Base URL","Instance UUID","JIRA SEN"])),we=we.concat(qe.assertNoAdditionalUserProperties("Identified User",Object.keys(_e),["ID","User Timezone","User Continent","User Locale","Weekend Type","Reporting Day Default Value","Duration Type Default Value","Maximum Fraction Digits","Duration Type For Export","Started Time In Status","In Progress Issues Jql","Show Details Count","Show Category Row","Show Total In Front","Tempo Token","Working Time In Status From","Working Time In Status To","Jira Administrator"])),Qe(ge,"D_vI8GsYA","28650ebe6b892bc25dd6397820c813d7b0a6028245120aead42c5891226a4af7",we.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"validate"),G&&tt("D_vI8GsYA","Identified User",we,[{id:"App Version",name:"App Version",value:ve["App Version"]},{id:"Web Browser",name:"Web Browser",value:ve["Web Browser"]},{id:"Web Browser Version",name:"Web Browser Version",value:ve["Web Browser Version"]},{id:"Operating System",name:"Operating System",value:ve["Operating System"]},{id:"Operating System Version",name:"Operating System Version",value:ve["Operating System Version"]},{id:"Base URL",name:"Base URL",value:ve["Base URL"]},{id:"Instance UUID",name:"Instance UUID",value:ve["Instance UUID"]},{id:"JIRA SEN",name:"JIRA SEN",value:ve["JIRA SEN"]}],[{id:"ID",name:"ID",value:_e.ID},{id:"User Timezone",name:"User Timezone",value:_e["User Timezone"]},{id:"User Continent",name:"User Continent",value:_e["User Continent"]},{id:"User Locale",name:"User Locale",value:_e["User Locale"]},{id:"Weekend Type",name:"Weekend Type",value:_e["Weekend Type"]},{id:"Reporting Day Default Value",name:"Reporting Day Default Value",value:_e["Reporting Day Default Value"]},{id:"Duration Type Default Value",name:"Duration Type Default Value",value:_e["Duration Type Default Value"]},{id:"Maximum Fraction Digits",name:"Maximum Fraction Digits",value:_e["Maximum Fraction Digits"]},{id:"Duration Type For Export",name:"Duration Type For Export",value:_e["Duration Type For Export"]},{id:"Started Time In Status",name:"Started Time In Status",value:_e["Started Time In Status"]},{id:"In Progress Issues Jql",name:"In Progress Issues Jql",value:_e["In Progress Issues Jql"]},{id:"Show Details Count",name:"Show Details Count",value:_e["Show Details Count"]},{id:"Show Category Row",name:"Show Category Row",value:_e["Show Category Row"]},{id:"Show Total In Front",name:"Show Total In Front",value:_e["Show Total In Front"]},{id:"Tempo Token",name:"Tempo Token",value:_e["Tempo Token"]},{id:"Working Time In Status From",name:"Working Time In Status From",value:_e["Working Time In Status From"]},{id:"Working Time In Status To",name:"Working Time In Status To",value:_e["Working Time In Status To"]},{id:"Jira Administrator",name:"Jira Administrator",value:_e["Jira Administrator"]}]),"prod"===ge||null!==t&&!t)we.forEach(function(e){console[K||"error"]("[avo] "+e.message)});else if(0!==we.length)throw new Error("Error sending event 'Identified User': "+we[0].message);break;case"Applied Filter":if(we=we.concat(n(ve["Origin Page"])),we=we.concat(oe(ve["Origin Ecosystem"])),we=we.concat(ie(ve["Origin Action"])),we=we.concat(g(ve["Origin Product"])),we=we.concat(de(ve["Origin View"])),we=we.concat(me(ve["Number of Selected Filters"])),we=we.concat(l(ve["Filter Type"])),we=we.concat(f(ve["App Version"])),we=we.concat(U(ve["Web Browser"])),we=we.concat(E(ve["Web Browser Version"])),we=we.concat(J(ve["Operating System"])),we=we.concat(i(ve["Operating System Version"])),we=we.concat(p(ve["Base URL"])),we=we.concat(Q(ve["Instance UUID"])),we=we.concat(L(ve["JIRA SEN"])),we=we.concat(qe.assertNoAdditionalProperties("Applied Filter",Object.keys(ve),["Origin Page","Origin Ecosystem","Origin Action","Origin Product","Origin View","Number of Selected Filters","Filter Type","App Version","Web Browser","Web Browser Version","Operating System","Operating System Version","Base URL","Instance UUID","JIRA SEN"])),Qe(ge,"cW2er9QYn","efbe928354f03a3a8d7fb9f8c0c9cacca6ea782c899e28f9cff01b26263a3da1",we.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"validate"),G&&tt("cW2er9QYn","Applied Filter",we,[{id:"Origin Page",name:"Origin Page",value:ve["Origin Page"]},{id:"Origin Ecosystem",name:"Origin Ecosystem",value:ve["Origin Ecosystem"]},{id:"Origin Action",name:"Origin Action",value:ve["Origin Action"]},{id:"Origin Product",name:"Origin Product",value:ve["Origin Product"]},{id:"Origin View",name:"Origin View",value:ve["Origin View"]},{id:"Number of Selected Filters",name:"Number of Selected Filters",value:ve["Number of Selected Filters"]},{id:"Filter Type",name:"Filter Type",value:ve["Filter Type"]},{id:"App Version",name:"App Version",value:ve["App Version"]},{id:"Web Browser",name:"Web Browser",value:ve["Web Browser"]},{id:"Web Browser Version",name:"Web Browser Version",value:ve["Web Browser Version"]},{id:"Operating System",name:"Operating System",value:ve["Operating System"]},{id:"Operating System Version",name:"Operating System Version",value:ve["Operating System Version"]},{id:"Base URL",name:"Base URL",value:ve["Base URL"]},{id:"Instance UUID",name:"Instance UUID",value:ve["Instance UUID"]},{id:"JIRA SEN",name:"JIRA SEN",value:ve["JIRA SEN"]}],[]),"prod"===ge||null!==t&&!t)we.forEach(function(e){console[K||"error"]("[avo] "+e.message)});else if(0!==we.length)throw new Error("Error sending event 'Applied Filter': "+we[0].message);break;case"Applied Grouping":if(we=we.concat(n(ve["Origin Page"])),we=we.concat(oe(ve["Origin Ecosystem"])),we=we.concat(ie(ve["Origin Action"])),we=we.concat(g(ve["Origin Product"])),we=we.concat(de(ve["Origin View"])),we=we.concat(N(ve["Group Type"])),we=we.concat(k(ve["Custom Field Name"])),we=we.concat(f(ve["App Version"])),we=we.concat(U(ve["Web Browser"])),we=we.concat(E(ve["Web Browser Version"])),we=we.concat(J(ve["Operating System"])),we=we.concat(i(ve["Operating System Version"])),we=we.concat(p(ve["Base URL"])),we=we.concat(Q(ve["Instance UUID"])),we=we.concat(L(ve["JIRA SEN"])),we=we.concat(qe.assertNoAdditionalProperties("Applied Grouping",Object.keys(ve),["Origin Page","Origin Ecosystem","Origin Action","Origin Product","Origin View","Group Type","Custom Field Name","App Version","Web Browser","Web Browser Version","Operating System","Operating System Version","Base URL","Instance UUID","JIRA SEN"])),Qe(ge,"gpxLKNh5k","bc0720a0ca475ad1099ef16fa76c7e80400275513e5b2ee64d0a33992946d1ba",we.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"validate"),G&&tt("gpxLKNh5k","Applied Grouping",we,[{id:"Origin Page",name:"Origin Page",value:ve["Origin Page"]},{id:"Origin Ecosystem",name:"Origin Ecosystem",value:ve["Origin Ecosystem"]},{id:"Origin Action",name:"Origin Action",value:ve["Origin Action"]},{id:"Origin Product",name:"Origin Product",value:ve["Origin Product"]},{id:"Origin View",name:"Origin View",value:ve["Origin View"]},{id:"Group Type",name:"Group Type",value:ve["Group Type"]},{id:"Custom Field Name",name:"Custom Field Name",value:ve["Custom Field Name"]},{id:"App Version",name:"App Version",value:ve["App Version"]},{id:"Web Browser",name:"Web Browser",value:ve["Web Browser"]},{id:"Web Browser Version",name:"Web Browser Version",value:ve["Web Browser Version"]},{id:"Operating System",name:"Operating System",value:ve["Operating System"]},{id:"Operating System Version",name:"Operating System Version",value:ve["Operating System Version"]},{id:"Base URL",name:"Base URL",value:ve["Base URL"]},{id:"Instance UUID",name:"Instance UUID",value:ve["Instance UUID"]},{id:"JIRA SEN",name:"JIRA SEN",value:ve["JIRA SEN"]}],[]),"prod"===ge||null!==t&&!t)we.forEach(function(e){console[K||"error"]("[avo] "+e.message)});else if(0!==we.length)throw new Error("Error sending event 'Applied Grouping': "+we[0].message);break;case"Removed Grouping":if(we=we.concat(n(ve["Origin Page"])),we=we.concat(oe(ve["Origin Ecosystem"])),we=we.concat(ie(ve["Origin Action"])),we=we.concat(g(ve["Origin Product"])),we=we.concat(de(ve["Origin View"])),we=we.concat(N(ve["Group Type"])),we=we.concat(k(ve["Custom Field Name"])),we=we.concat(f(ve["App Version"])),we=we.concat(U(ve["Web Browser"])),we=we.concat(E(ve["Web Browser Version"])),we=we.concat(J(ve["Operating System"])),we=we.concat(i(ve["Operating System Version"])),we=we.concat(p(ve["Base URL"])),we=we.concat(Q(ve["Instance UUID"])),we=we.concat(L(ve["JIRA SEN"])),we=we.concat(qe.assertNoAdditionalProperties("Removed Grouping",Object.keys(ve),["Origin Page","Origin Ecosystem","Origin Action","Origin Product","Origin View","Group Type","Custom Field Name","App Version","Web Browser","Web Browser Version","Operating System","Operating System Version","Base URL","Instance UUID","JIRA SEN"])),Qe(ge,"FpPTZEwsT","425fd5cac8ffb7826c6ba70dbd3bc7ff7b0ada854d2be67f430d0fd2ef891819",we.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,
additionalProperties:e.additionalProperties,actualType:e.actualType})}),"validate"),G&&tt("FpPTZEwsT","Removed Grouping",we,[{id:"Origin Page",name:"Origin Page",value:ve["Origin Page"]},{id:"Origin Ecosystem",name:"Origin Ecosystem",value:ve["Origin Ecosystem"]},{id:"Origin Action",name:"Origin Action",value:ve["Origin Action"]},{id:"Origin Product",name:"Origin Product",value:ve["Origin Product"]},{id:"Origin View",name:"Origin View",value:ve["Origin View"]},{id:"Group Type",name:"Group Type",value:ve["Group Type"]},{id:"Custom Field Name",name:"Custom Field Name",value:ve["Custom Field Name"]},{id:"App Version",name:"App Version",value:ve["App Version"]},{id:"Web Browser",name:"Web Browser",value:ve["Web Browser"]},{id:"Web Browser Version",name:"Web Browser Version",value:ve["Web Browser Version"]},{id:"Operating System",name:"Operating System",value:ve["Operating System"]},{id:"Operating System Version",name:"Operating System Version",value:ve["Operating System Version"]},{id:"Base URL",name:"Base URL",value:ve["Base URL"]},{id:"Instance UUID",name:"Instance UUID",value:ve["Instance UUID"]},{id:"JIRA SEN",name:"JIRA SEN",value:ve["JIRA SEN"]}],[]),"prod"===ge||null!==t&&!t)we.forEach(function(e){console[K||"error"]("[avo] "+e.message)});else if(0!==we.length)throw new Error("Error sending event 'Removed Grouping': "+we[0].message);break;case"Exported Data":if(we=we.concat(n(ve["Origin Page"])),we=we.concat(oe(ve["Origin Ecosystem"])),we=we.concat(ie(ve["Origin Action"])),we=we.concat(g(ve["Origin Product"])),we=we.concat(de(ve["Origin View"])),we=we.concat(ce(ve["Period Length"])),we=we.concat(me(ve["Number of Selected Filters"])),we=we.concat(B(ve["Export Type"])),we=we.concat(f(ve["App Version"])),we=we.concat(U(ve["Web Browser"])),we=we.concat(E(ve["Web Browser Version"])),we=we.concat(J(ve["Operating System"])),we=we.concat(i(ve["Operating System Version"])),we=we.concat(p(ve["Base URL"])),we=we.concat(Q(ve["Instance UUID"])),we=we.concat(L(ve["JIRA SEN"])),we=we.concat(qe.assertNoAdditionalProperties("Exported Data",Object.keys(ve),["Origin Page","Origin Ecosystem","Origin Action","Origin Product","Origin View","Period Length","Number of Selected Filters","Export Type","App Version","Web Browser","Web Browser Version","Operating System","Operating System Version","Base URL","Instance UUID","JIRA SEN"])),Qe(ge,"MFKDcwYbp","18f2891ab5f1f00a37c9e6b8050918b31ca95e6b0410ce37e133bdc5bd1f4b8d",we.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"validate"),G&&tt("MFKDcwYbp","Exported Data",we,[{id:"Origin Page",name:"Origin Page",value:ve["Origin Page"]},{id:"Origin Ecosystem",name:"Origin Ecosystem",value:ve["Origin Ecosystem"]},{id:"Origin Action",name:"Origin Action",value:ve["Origin Action"]},{id:"Origin Product",name:"Origin Product",value:ve["Origin Product"]},{id:"Origin View",name:"Origin View",value:ve["Origin View"]},{id:"Period Length",name:"Period Length",value:ve["Period Length"]},{id:"Number of Selected Filters",name:"Number of Selected Filters",value:ve["Number of Selected Filters"]},{id:"Export Type",name:"Export Type",value:ve["Export Type"]},{id:"App Version",name:"App Version",value:ve["App Version"]},{id:"Web Browser",name:"Web Browser",value:ve["Web Browser"]},{id:"Web Browser Version",name:"Web Browser Version",value:ve["Web Browser Version"]},{id:"Operating System",name:"Operating System",value:ve["Operating System"]},{id:"Operating System Version",name:"Operating System Version",value:ve["Operating System Version"]},{id:"Base URL",name:"Base URL",value:ve["Base URL"]},{id:"Instance UUID",name:"Instance UUID",value:ve["Instance UUID"]},{id:"JIRA SEN",name:"JIRA SEN",value:ve["JIRA SEN"]}],[]),"prod"===ge||null!==t&&!t)we.forEach(function(e){console[K||"error"]("[avo] "+e.message)});else if(0!==we.length)throw new Error("Error sending event 'Exported Data': "+we[0].message);break;case"Reset Tracker":if(we=we.concat(n(ve["Origin Page"])),we=we.concat(oe(ve["Origin Ecosystem"])),we=we.concat(ie(ve["Origin Action"])),we=we.concat(g(ve["Origin Product"])),we=we.concat(de(ve["Origin View"])),we=we.concat(S(ve["Task ID"])),we=we.concat(X(ve["Minutes on Tracker"])),we=we.concat(f(ve["App Version"])),we=we.concat(U(ve["Web Browser"])),we=we.concat(E(ve["Web Browser Version"])),we=we.concat(J(ve["Operating System"])),we=we.concat(i(ve["Operating System Version"])),we=we.concat(p(ve["Base URL"])),we=we.concat(Q(ve["Instance UUID"])),we=we.concat(L(ve["JIRA SEN"])),we=we.concat(qe.assertNoAdditionalProperties("Reset Tracker",Object.keys(ve),["Origin Page","Origin Ecosystem","Origin Action","Origin Product","Origin View","Task ID","Minutes on Tracker","App Version","Web Browser","Web Browser Version","Operating System","Operating System Version","Base URL","Instance UUID","JIRA SEN"])),Qe(ge,"iS85oheh2","d14e30d70973609bdbfcd289682e36c03929f5f2b96c7d4aeea010e24141e907",we.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"validate"),G&&tt("iS85oheh2","Reset Tracker",we,[{id:"Origin Page",name:"Origin Page",value:ve["Origin Page"]},{id:"Origin Ecosystem",name:"Origin Ecosystem",value:ve["Origin Ecosystem"]},{id:"Origin Action",name:"Origin Action",value:ve["Origin Action"]},{id:"Origin Product",name:"Origin Product",value:ve["Origin Product"]},{id:"Origin View",name:"Origin View",value:ve["Origin View"]},{id:"Task ID",name:"Task ID",value:ve["Task ID"]},{id:"Minutes on Tracker",name:"Minutes on Tracker",value:ve["Minutes on Tracker"]},{id:"App Version",name:"App Version",value:ve["App Version"]},{id:"Web Browser",name:"Web Browser",value:ve["Web Browser"]},{id:"Web Browser Version",name:"Web Browser Version",value:ve["Web Browser Version"]},{id:"Operating System",name:"Operating System",value:ve["Operating System"]},{id:"Operating System Version",name:"Operating System Version",value:ve["Operating System Version"]},{id:"Base URL",name:"Base URL",value:ve["Base URL"]},{id:"Instance UUID",name:"Instance UUID",value:ve["Instance UUID"]},{id:"JIRA SEN",name:"JIRA SEN",value:ve["JIRA SEN"]}],[]),"prod"===ge||null!==t&&!t)we.forEach(function(e){console[K||"error"]("[avo] "+e.message)});else if(0!==we.length)throw new Error("Error sending event 'Reset Tracker': "+we[0].message);break;case"Modified Display":if(we=we.concat(n(ve["Origin Page"])),we=we.concat(oe(ve["Origin Ecosystem"])),we=we.concat(ie(ve["Origin Action"])),we=we.concat(g(ve["Origin Product"])),we=we.concat(de(ve["Origin View"])),we=we.concat(S(ve["Task ID"])),we=we.concat(W(ve.Display)),we=we.concat(r(ve["Switched View"])),we=we.concat(re(ve["Summed View By"])),we=we.concat(f(ve["App Version"])),we=we.concat(U(ve["Web Browser"])),we=we.concat(E(ve["Web Browser Version"])),we=we.concat(J(ve["Operating System"])),we=we.concat(i(ve["Operating System Version"])),we=we.concat(p(ve["Base URL"])),we=we.concat(Q(ve["Instance UUID"])),we=we.concat(L(ve["JIRA SEN"])),we=we.concat(qe.assertNoAdditionalProperties("Modified Display",Object.keys(ve),["Origin Page","Origin Ecosystem","Origin Action","Origin Product","Origin View","Task ID","Display","Switched View","Summed View By","App Version","Web Browser","Web Browser Version","Operating System","Operating System Version","Base URL","Instance UUID","JIRA SEN"])),Qe(ge,"7fdeXBiyV","fddeb3fe26759fa7d59056bf435517bff590d572be5a72ab5e9a37ff2b347a76",we.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"validate"),G&&tt("7fdeXBiyV","Modified Display",we,[{id:"Origin Page",name:"Origin Page",value:ve["Origin Page"]},{id:"Origin Ecosystem",name:"Origin Ecosystem",value:ve["Origin Ecosystem"]},{id:"Origin Action",name:"Origin Action",value:ve["Origin Action"]},{id:"Origin Product",name:"Origin Product",value:ve["Origin Product"]},{id:"Origin View",name:"Origin View",value:ve["Origin View"]},{id:"Task ID",name:"Task ID",value:ve["Task ID"]},{id:"Display",name:"Display",value:ve.Display},{id:"Switched View",name:"Switched View",value:ve["Switched View"]},{id:"Summed View By",name:"Summed View By",value:ve["Summed View By"]},{id:"App Version",name:"App Version",value:ve["App Version"]},{id:"Web Browser",name:"Web Browser",value:ve["Web Browser"]},{id:"Web Browser Version",name:"Web Browser Version",value:ve["Web Browser Version"]},{id:"Operating System",name:"Operating System",value:ve["Operating System"]},{id:"Operating System Version",name:"Operating System Version",value:ve["Operating System Version"]},{id:"Base URL",name:"Base URL",value:ve["Base URL"]},{id:"Instance UUID",name:"Instance UUID",value:ve["Instance UUID"]},{id:"JIRA SEN",name:"JIRA SEN",value:ve["JIRA SEN"]}],[]),"prod"===ge||null!==t&&!t)we.forEach(function(e){console[K||"error"]("[avo] "+e.message)});else if(0!==we.length)throw new Error("Error sending event 'Modified Display': "+we[0].message);break;case"Logged Work":if(we=we.concat(n(ve["Origin Page"])),we=we.concat(oe(ve["Origin Ecosystem"])),we=we.concat(ie(ve["Origin Action"])),we=we.concat(g(ve["Origin Product"])),we=we.concat(de(ve["Origin View"])),we=we.concat(S(ve["Task ID"])),we=we.concat(s(ve["Start Time"])),we=we.concat(A(ve["Description Length"])),we=we.concat(a(ve["Hours Worked"])),we=we.concat(u(ve["Measured Time in Form"])),we=we.concat(Y(ve["Measured Time in Issue Picker"])),we=we.concat(x(ve["Pre-Selected Task"])),we=we.concat(M(ve["Remaining Estimate Hours"])),we=we.concat(ee(ve["Current Remaining Estimate Used"])),we=we.concat(V(ve["Expanded Form"])),we=we.concat(O(ve["Restricted Description"])),we=we.concat(f(ve["App Version"])),we=we.concat(U(ve["Web Browser"])),we=we.concat(E(ve["Web Browser Version"])),we=we.concat(J(ve["Operating System"])),we=we.concat(i(ve["Operating System Version"])),we=we.concat(p(ve["Base URL"])),we=we.concat(Q(ve["Instance UUID"])),we=we.concat(L(ve["JIRA SEN"])),we=we.concat(qe.assertNoAdditionalProperties("Logged Work",Object.keys(ve),["Origin Page","Origin Ecosystem","Origin Action","Origin Product","Origin View","Task ID","Start Time","Description Length","Hours Worked","Measured Time in Form","Measured Time in Issue Picker","Pre-Selected Task","Remaining Estimate Hours","Current Remaining Estimate Used","Expanded Form","Restricted Description","App Version","Web Browser","Web Browser Version","Operating System","Operating System Version","Base URL","Instance UUID","JIRA SEN"])),Qe(ge,"a0nXw0DOml","bd88da909a4b2a0c06b55e2b0fa1e8210b7ac38434609bad7e9a277903e775e1",we.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"validate"),G&&tt("a0nXw0DOml","Logged Work",we,[{id:"Origin Page",name:"Origin Page",value:ve["Origin Page"]},{id:"Origin Ecosystem",name:"Origin Ecosystem",value:ve["Origin Ecosystem"]},{id:"Origin Action",name:"Origin Action",value:ve["Origin Action"]},{id:"Origin Product",name:"Origin Product",value:ve["Origin Product"]},{id:"Origin View",name:"Origin View",value:ve["Origin View"]},{id:"Task ID",name:"Task ID",value:ve["Task ID"]},{id:"Start Time",name:"Start Time",value:ve["Start Time"]},{id:"Description Length",name:"Description Length",value:ve["Description Length"]},{id:"Hours Worked",name:"Hours Worked",value:ve["Hours Worked"]},{id:"Measured Time in Form",name:"Measured Time in Form",value:ve["Measured Time in Form"]},{id:"Measured Time in Issue Picker",name:"Measured Time in Issue Picker",value:ve["Measured Time in Issue Picker"]},{id:"Pre-Selected Task",name:"Pre-Selected Task",value:ve["Pre-Selected Task"]},{id:"Remaining Estimate Hours",name:"Remaining Estimate Hours",value:ve["Remaining Estimate Hours"]},{id:"Current Remaining Estimate Used",name:"Current Remaining Estimate Used",value:ve["Current Remaining Estimate Used"]},{id:"Expanded Form",name:"Expanded Form",value:ve["Expanded Form"]},{id:"Restricted Description",name:"Restricted Description",value:ve["Restricted Description"]},{id:"App Version",name:"App Version",value:ve["App Version"]},{id:"Web Browser",name:"Web Browser",value:ve["Web Browser"]},{id:"Web Browser Version",name:"Web Browser Version",value:ve["Web Browser Version"]},{id:"Operating System",name:"Operating System",value:ve["Operating System"]},{id:"Operating System Version",name:"Operating System Version",value:ve["Operating System Version"]},{id:"Base URL",name:"Base URL",value:ve["Base URL"]},{id:"Instance UUID",name:"Instance UUID",value:ve["Instance UUID"]},{id:"JIRA SEN",name:"JIRA SEN",value:ve["JIRA SEN"]}],[]),"prod"===ge||null!==t&&!t)we.forEach(function(e){console[K||"error"]("[avo] "+e.message)});else if(0!==we.length)throw new Error("Error sending event 'Logged Work': "+we[0].message);break;case"Shared View":if(we=we.concat(f(ve["App Version"])),we=we.concat(U(ve["Web Browser"])),we=we.concat(E(ve["Web Browser Version"])),we=we.concat(J(ve["Operating System"])),we=we.concat(i(ve["Operating System Version"])),we=we.concat(p(ve["Base URL"])),we=we.concat(Q(ve["Instance UUID"])),we=we.concat(L(ve["JIRA SEN"])),we=we.concat(qe.assertNoAdditionalProperties("Shared View",Object.keys(ve),["App Version","Web Browser","Web Browser Version","Operating System","Operating System Version","Base URL","Instance UUID","JIRA SEN"])),Qe(ge,"HDNhVMEwo","a83d23ec26d0bb3e0da45b9346f4bfd83bc7fd6cc91766e70a798dab27997842",we.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"validate"),G&&tt("HDNhVMEwo","Shared View",we,[{id:"App Version",name:"App Version",value:ve["App Version"]},{id:"Web Browser",name:"Web Browser",value:ve["Web Browser"]},{id:"Web Browser Version",name:"Web Browser Version",value:ve["Web Browser Version"]},{id:"Operating System",name:"Operating System",value:ve["Operating System"]},{id:"Operating System Version",name:"Operating System Version",value:ve["Operating System Version"]},{id:"Base URL",name:"Base URL",value:ve["Base URL"]},{id:"Instance UUID",name:"Instance UUID",value:ve["Instance UUID"]},{id:"JIRA SEN",name:"JIRA SEN",value:ve["JIRA SEN"]}],[]),"prod"===ge||null!==t&&!t)we.forEach(function(e){console[K||"error"]("[avo] "+e.message)});else if(0!==we.length)throw new Error("Error sending event 'Shared View': "+we[0].message);break;case"Subscribed to View":if(we=we.concat(n(ve["Origin Page"])),we=we.concat(oe(ve["Origin Ecosystem"])),we=we.concat(ie(ve["Origin Action"])),we=we.concat(g(ve["Origin Product"])),we=we.concat(de(ve["Origin View"])),we=we.concat(I(ve["Number of Users Shared With"])),we=we.concat(_(ve["Subscription Period"])),we=we.concat($(ve.Time)),we=we.concat(z(ve["Sent if Timesheet Is Not Complete"])),we=we.concat(te(ve["Export Attached"])),we=we.concat(f(ve["App Version"])),we=we.concat(U(ve["Web Browser"])),we=we.concat(E(ve["Web Browser Version"])),we=we.concat(J(ve["Operating System"])),we=we.concat(i(ve["Operating System Version"])),we=we.concat(p(ve["Base URL"])),we=we.concat(Q(ve["Instance UUID"])),we=we.concat(L(ve["JIRA SEN"])),we=we.concat(qe.assertNoAdditionalProperties("Subscribed to View",Object.keys(ve),["Origin Page","Origin Ecosystem","Origin Action","Origin Product","Origin View","Number of Users Shared With","Subscription Period","Time","Sent if Timesheet Is Not Complete","Export Attached","App Version","Web Browser","Web Browser Version","Operating System","Operating System Version","Base URL","Instance UUID","JIRA SEN"])),Qe(ge,"_44gD7-cil","02c4ad06b885972a818202d730e43e3ad3b2c080b5d18d1edf14a2440c7fae01",we.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"validate"),G&&tt("_44gD7-cil","Subscribed to View",we,[{id:"Origin Page",name:"Origin Page",value:ve["Origin Page"]},{id:"Origin Ecosystem",name:"Origin Ecosystem",value:ve["Origin Ecosystem"]},{id:"Origin Action",name:"Origin Action",value:ve["Origin Action"]},{id:"Origin Product",name:"Origin Product",value:ve["Origin Product"]},{id:"Origin View",name:"Origin View",value:ve["Origin View"]},{id:"Number of Users Shared With",name:"Number of Users Shared With",value:ve["Number of Users Shared With"]},{id:"Subscription Period",name:"Subscription Period",value:ve["Subscription Period"]},{id:"Time",name:"Time",value:ve.Time},{id:"Sent if Timesheet Is Not Complete",name:"Sent if Timesheet Is Not Complete",value:ve["Sent if Timesheet Is Not Complete"]},{id:"Export Attached",name:"Export Attached",value:ve["Export Attached"]},{id:"App Version",name:"App Version",value:ve["App Version"]},{id:"Web Browser",name:"Web Browser",value:ve["Web Browser"]},{id:"Web Browser Version",name:"Web Browser Version",value:ve["Web Browser Version"]},{id:"Operating System",name:"Operating System",value:ve["Operating System"]},{id:"Operating System Version",name:"Operating System Version",value:ve["Operating System Version"]},{id:"Base URL",name:"Base URL",value:ve["Base URL"]},{id:"Instance UUID",name:"Instance UUID",value:ve["Instance UUID"]},{id:"JIRA SEN",name:"JIRA SEN",value:ve["JIRA SEN"]}],[]),"prod"===ge||null!==t&&!t)we.forEach(function(e){console[K||"error"]("[avo] "+e.message)});else if(0!==we.length)throw new Error("Error sending event 'Subscribed to View': "+we[0].message);break;case"Added Column":if(we=we.concat(n(ve["Origin Page"])),we=we.concat(oe(ve["Origin Ecosystem"])),we=we.concat(ie(ve["Origin Action"])),we=we.concat(g(ve["Origin Product"])),we=we.concat(de(ve["Origin View"])),we=we.concat(fe(ve["Column Type"])),we=we.concat(k(ve["Custom Field Name"])),we=we.concat(f(ve["App Version"])),we=we.concat(U(ve["Web Browser"])),we=we.concat(E(ve["Web Browser Version"])),we=we.concat(J(ve["Operating System"])),we=we.concat(i(ve["Operating System Version"])),we=we.concat(p(ve["Base URL"])),we=we.concat(Q(ve["Instance UUID"])),we=we.concat(L(ve["JIRA SEN"])),we=we.concat(qe.assertNoAdditionalProperties("Added Column",Object.keys(ve),["Origin Page","Origin Ecosystem","Origin Action","Origin Product","Origin View","Column Type","Custom Field Name","App Version","Web Browser","Web Browser Version","Operating System","Operating System Version","Base URL","Instance UUID","JIRA SEN"])),Qe(ge,"DTNgGGmmgQ","88b17a8da0872c2b35e25901aa87582679975f7879d4ee04c32a3adf8a4c1b1f",we.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"validate"),G&&tt("DTNgGGmmgQ","Added Column",we,[{id:"Origin Page",name:"Origin Page",value:ve["Origin Page"]},{id:"Origin Ecosystem",name:"Origin Ecosystem",value:ve["Origin Ecosystem"]},{id:"Origin Action",name:"Origin Action",value:ve["Origin Action"]},{id:"Origin Product",name:"Origin Product",value:ve["Origin Product"]},{id:"Origin View",name:"Origin View",value:ve["Origin View"]},{id:"Column Type",name:"Column Type",value:ve["Column Type"]},{id:"Custom Field Name",name:"Custom Field Name",value:ve["Custom Field Name"]},{id:"App Version",name:"App Version",value:ve["App Version"]},{id:"Web Browser",name:"Web Browser",value:ve["Web Browser"]},{id:"Web Browser Version",name:"Web Browser Version",value:ve["Web Browser Version"]},{id:"Operating System",name:"Operating System",value:ve["Operating System"]},{id:"Operating System Version",name:"Operating System Version",value:ve["Operating System Version"]},{id:"Base URL",name:"Base URL",value:ve["Base URL"]},{id:"Instance UUID",name:"Instance UUID",value:ve["Instance UUID"]},{id:"JIRA SEN",name:"JIRA SEN",value:ve["JIRA SEN"]}],[]),"prod"===ge||null!==t&&!t)we.forEach(function(e){console[K||"error"]("[avo] "+e.message)});else if(0!==we.length)throw new Error("Error sending event 'Added Column': "+we[0].message);break;case"Removed Column":if(we=we.concat(n(ve["Origin Page"])),we=we.concat(oe(ve["Origin Ecosystem"])),we=we.concat(ie(ve["Origin Action"])),we=we.concat(g(ve["Origin Product"])),we=we.concat(de(ve["Origin View"])),we=we.concat(fe(ve["Column Type"])),we=we.concat(k(ve["Custom Field Name"])),we=we.concat(f(ve["App Version"])),we=we.concat(U(ve["Web Browser"])),we=we.concat(E(ve["Web Browser Version"])),we=we.concat(J(ve["Operating System"])),we=we.concat(i(ve["Operating System Version"])),we=we.concat(p(ve["Base URL"])),we=we.concat(Q(ve["Instance UUID"])),we=we.concat(L(ve["JIRA SEN"])),we=we.concat(qe.assertNoAdditionalProperties("Removed Column",Object.keys(ve),["Origin Page","Origin Ecosystem","Origin Action","Origin Product","Origin View","Column Type","Custom Field Name","App Version","Web Browser","Web Browser Version","Operating System","Operating System Version","Base URL","Instance UUID","JIRA SEN"])),Qe(ge,"N3fYqy3BiL","87d387d8761b9a230ffe75dd9cd9cf4adf0db7c2fc34a3bc5067bff6d92b194d",we.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"validate"),G&&tt("N3fYqy3BiL","Removed Column",we,[{id:"Origin Page",name:"Origin Page",value:ve["Origin Page"]},{id:"Origin Ecosystem",name:"Origin Ecosystem",value:ve["Origin Ecosystem"]},{id:"Origin Action",name:"Origin Action",value:ve["Origin Action"]},{id:"Origin Product",name:"Origin Product",value:ve["Origin Product"]},{id:"Origin View",name:"Origin View",value:ve["Origin View"]},{id:"Column Type",name:"Column Type",value:ve["Column Type"]},{id:"Custom Field Name",name:"Custom Field Name",value:ve["Custom Field Name"]},{id:"App Version",name:"App Version",value:ve["App Version"]},{id:"Web Browser",name:"Web Browser",value:ve["Web Browser"]},{id:"Web Browser Version",name:"Web Browser Version",value:ve["Web Browser Version"]},{id:"Operating System",name:"Operating System",value:ve["Operating System"]},{id:"Operating System Version",name:"Operating System Version",value:ve["Operating System Version"]},{id:"Base URL",name:"Base URL",value:ve["Base URL"]},{id:"Instance UUID",name:"Instance UUID",value:ve["Instance UUID"]},{id:"JIRA SEN",name:"JIRA SEN",value:ve["JIRA SEN"]}],[]),"prod"===ge||null!==t&&!t)we.forEach(function(e){console[K||"error"]("[avo] "+e.message)});else if(0!==we.length)throw new Error("Error sending event 'Removed Column': "+we[0].message);break;case"Added Categorization":if(we=we.concat(n(ve["Origin Page"])),we=we.concat(oe(ve["Origin Ecosystem"])),we=we.concat(ie(ve["Origin Action"])),we=we.concat(g(ve["Origin Product"])),we=we.concat(de(ve["Origin View"])),we=we.concat(k(ve["Custom Field Name"])),we=we.concat(f(ve["App Version"])),we=we.concat(U(ve["Web Browser"])),we=we.concat(E(ve["Web Browser Version"])),we=we.concat(J(ve["Operating System"])),we=we.concat(i(ve["Operating System Version"])),we=we.concat(p(ve["Base URL"])),we=we.concat(Q(ve["Instance UUID"])),we=we.concat(L(ve["JIRA SEN"])),we=we.concat(qe.assertNoAdditionalProperties("Added Categorization",Object.keys(ve),["Origin Page","Origin Ecosystem","Origin Action","Origin Product","Origin View","Custom Field Name","App Version","Web Browser","Web Browser Version","Operating System","Operating System Version","Base URL","Instance UUID","JIRA SEN"])),Qe(ge,"2t7BKG6wY-","cfb6d8c0930b4305e6a94ba42ae3e98a2f9d101f9a53d750a0607a74c4ede096",we.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"validate"),G&&tt("2t7BKG6wY-","Added Categorization",we,[{id:"Origin Page",name:"Origin Page",value:ve["Origin Page"]},{id:"Origin Ecosystem",name:"Origin Ecosystem",value:ve["Origin Ecosystem"]},{id:"Origin Action",name:"Origin Action",value:ve["Origin Action"]},{id:"Origin Product",name:"Origin Product",value:ve["Origin Product"]},{id:"Origin View",name:"Origin View",value:ve["Origin View"]},{id:"Custom Field Name",name:"Custom Field Name",value:ve["Custom Field Name"]},{id:"App Version",name:"App Version",value:ve["App Version"]},{id:"Web Browser",name:"Web Browser",value:ve["Web Browser"]},{id:"Web Browser Version",name:"Web Browser Version",value:ve["Web Browser Version"]},{id:"Operating System",name:"Operating System",value:ve["Operating System"]},{id:"Operating System Version",name:"Operating System Version",value:ve["Operating System Version"]},{id:"Base URL",name:"Base URL",value:ve["Base URL"]},{id:"Instance UUID",name:"Instance UUID",value:ve["Instance UUID"]},{id:"JIRA SEN",name:"JIRA SEN",value:ve["JIRA SEN"]}],[]),"prod"===ge||null!==t&&!t)we.forEach(function(e){console[K||"error"]("[avo] "+e.message)});else if(0!==we.length)throw new Error("Error sending event 'Added Categorization': "+we[0].message);break;case"Removed Categorization":if(we=we.concat(n(ve["Origin Page"])),we=we.concat(oe(ve["Origin Ecosystem"])),we=we.concat(ie(ve["Origin Action"])),we=we.concat(g(ve["Origin Product"])),we=we.concat(de(ve["Origin View"])),we=we.concat(k(ve["Custom Field Name"])),we=we.concat(f(ve["App Version"])),we=we.concat(U(ve["Web Browser"])),we=we.concat(E(ve["Web Browser Version"])),we=we.concat(J(ve["Operating System"])),we=we.concat(i(ve["Operating System Version"])),we=we.concat(p(ve["Base URL"])),we=we.concat(Q(ve["Instance UUID"])),we=we.concat(L(ve["JIRA SEN"])),we=we.concat(qe.assertNoAdditionalProperties("Removed Categorization",Object.keys(ve),["Origin Page","Origin Ecosystem","Origin Action","Origin Product","Origin View","Custom Field Name","App Version","Web Browser","Web Browser Version","Operating System","Operating System Version","Base URL","Instance UUID","JIRA SEN"])),Qe(ge,"hbp_XUNjRI","1a745252c0a1a309eed5cc5f8ae8bd614ac47e2b05041b9f3f37bf2eae655bfb",we.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"validate"),G&&tt("hbp_XUNjRI","Removed Categorization",we,[{id:"Origin Page",name:"Origin Page",value:ve["Origin Page"]},{id:"Origin Ecosystem",name:"Origin Ecosystem",value:ve["Origin Ecosystem"]},{id:"Origin Action",name:"Origin Action",value:ve["Origin Action"]},{id:"Origin Product",name:"Origin Product",value:ve["Origin Product"]},{id:"Origin View",name:"Origin View",value:ve["Origin View"]},{id:"Custom Field Name",name:"Custom Field Name",value:ve["Custom Field Name"]},{id:"App Version",name:"App Version",value:ve["App Version"]},{id:"Web Browser",name:"Web Browser",value:ve["Web Browser"]},{id:"Web Browser Version",name:"Web Browser Version",value:ve["Web Browser Version"]},{id:"Operating System",name:"Operating System",value:ve["Operating System"]},{id:"Operating System Version",name:"Operating System Version",value:ve["Operating System Version"]},{id:"Base URL",name:"Base URL",value:ve["Base URL"]},{id:"Instance UUID",name:"Instance UUID",value:ve["Instance UUID"]},{id:"JIRA SEN",name:"JIRA SEN",value:ve["JIRA SEN"]}],[]),"prod"===ge||null!==t&&!t)we.forEach(function(e){console[K||"error"]("[avo] "+e.message)});else if(0!==we.length)throw new Error("Error sending event 'Removed Categorization': "+we[0].message);break;case"Added Gadget":if(we=we.concat(f(ve["App Version"])),we=we.concat(U(ve["Web Browser"])),we=we.concat(E(ve["Web Browser Version"])),we=we.concat(J(ve["Operating System"])),we=we.concat(i(ve["Operating System Version"])),we=we.concat(p(ve["Base URL"])),we=we.concat(Q(ve["Instance UUID"])),we=we.concat(L(ve["JIRA SEN"])),we=we.concat(qe.assertNoAdditionalProperties("Added Gadget",Object.keys(ve),["App Version","Web Browser","Web Browser Version","Operating System","Operating System Version","Base URL","Instance UUID","JIRA SEN"])),Qe(ge,"5mMmrFyNT4","01df1af56106dfd23b4e05cef0d8efed46e73e9f6e9ca604ea129eeb90ff736a",we.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"validate"),G&&tt("5mMmrFyNT4","Added Gadget",we,[{id:"App Version",name:"App Version",value:ve["App Version"]},{id:"Web Browser",name:"Web Browser",value:ve["Web Browser"]},{id:"Web Browser Version",name:"Web Browser Version",value:ve["Web Browser Version"]},{id:"Operating System",name:"Operating System",value:ve["Operating System"]},{id:"Operating System Version",name:"Operating System Version",value:ve["Operating System Version"]},{id:"Base URL",name:"Base URL",value:ve["Base URL"]},{id:"Instance UUID",name:"Instance UUID",value:ve["Instance UUID"]},{id:"JIRA SEN",name:"JIRA SEN",value:ve["JIRA SEN"]}],[]),"prod"===ge||null!==t&&!t)we.forEach(function(e){console[K||"error"]("[avo] "+e.message)});else if(0!==we.length)throw new Error("Error sending event 'Added Gadget': "+we[0].message);break;case"Modified Gadget":if(we=we.concat(f(ve["App Version"])),we=we.concat(U(ve["Web Browser"])),we=we.concat(E(ve["Web Browser Version"])),we=we.concat(J(ve["Operating System"])),we=we.concat(i(ve["Operating System Version"])),we=we.concat(p(ve["Base URL"])),we=we.concat(Q(ve["Instance UUID"])),we=we.concat(L(ve["JIRA SEN"])),we=we.concat(qe.assertNoAdditionalProperties("Modified Gadget",Object.keys(ve),["App Version","Web Browser","Web Browser Version","Operating System","Operating System Version","Base URL","Instance UUID","JIRA SEN"])),Qe(ge,"2eU3llGAYB","52b2a577f69499eae1dd1d359340806e1452cfde233890afe1a351e5ee6bd684",we.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"validate"),G&&tt("2eU3llGAYB","Modified Gadget",we,[{id:"App Version",name:"App Version",value:ve["App Version"]},{id:"Web Browser",name:"Web Browser",value:ve["Web Browser"]},{id:"Web Browser Version",name:"Web Browser Version",value:ve["Web Browser Version"]},{id:"Operating System",name:"Operating System",value:ve["Operating System"]},{id:"Operating System Version",name:"Operating System Version",value:ve["Operating System Version"]},{id:"Base URL",name:"Base URL",value:ve["Base URL"]},{id:"Instance UUID",name:"Instance UUID",value:ve["Instance UUID"]},{id:"JIRA SEN",name:"JIRA SEN",value:ve["JIRA SEN"]}],[]),"prod"===ge||null!==t&&!t)we.forEach(function(e){console[K||"error"]("[avo] "+e.message)});else if(0!==we.length)throw new Error("Error sending event 'Modified Gadget': "+we[0].message);break;case"Removed Gadget":if(we=we.concat(f(ve["App Version"])),we=we.concat(U(ve["Web Browser"])),we=we.concat(E(ve["Web Browser Version"])),we=we.concat(J(ve["Operating System"])),we=we.concat(i(ve["Operating System Version"])),we=we.concat(p(ve["Base URL"])),we=we.concat(Q(ve["Instance UUID"])),we=we.concat(L(ve["JIRA SEN"])),we=we.concat(qe.assertNoAdditionalProperties("Removed Gadget",Object.keys(ve),["App Version","Web Browser","Web Browser Version","Operating System","Operating System Version","Base URL","Instance UUID","JIRA SEN"])),Qe(ge,"WHxJwog7T-","af14045f2cdc6d4e633f754f7281f2ae3ea1aad99d61af474a26a8af6b865623",we.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"validate"),G&&tt("WHxJwog7T-","Removed Gadget",we,[{id:"App Version",name:"App Version",value:ve["App Version"]},{id:"Web Browser",name:"Web Browser",value:ve["Web Browser"]},{id:"Web Browser Version",name:"Web Browser Version",value:ve["Web Browser Version"]},{id:"Operating System",name:"Operating System",value:ve["Operating System"]},{id:"Operating System Version",name:"Operating System Version",value:ve["Operating System Version"]},{id:"Base URL",name:"Base URL",value:ve["Base URL"]},{id:"Instance UUID",name:"Instance UUID",value:ve["Instance UUID"]},{id:"JIRA SEN",name:"JIRA SEN",value:ve["JIRA SEN"]}],[]),"prod"===ge||null!==t&&!t)we.forEach(function(e){console[K||"error"]("[avo] "+e.message)});else if(0!==we.length)throw new Error("Error sending event 'Removed Gadget': "+we[0].message);break;case"Viewed Report":if(we=we.concat(n(ve["Origin Page"])),we=we.concat(oe(ve["Origin Ecosystem"])),we=we.concat(ie(ve["Origin Action"])),we=we.concat(g(ve["Origin Product"])),we=we.concat(de(ve["Origin View"])),
we=we.concat(N(ve["Group Type"])),we=we.concat(l(ve["Filter Type"])),we=we.concat(me(ve["Number of Selected Filters"])),we=we.concat(ce(ve["Period Length"])),we=we.concat(D(ve["Reporting Day"])),we=we.concat(se(ve["Order Type"])),we=we.concat(f(ve["App Version"])),we=we.concat(U(ve["Web Browser"])),we=we.concat(E(ve["Web Browser Version"])),we=we.concat(J(ve["Operating System"])),we=we.concat(i(ve["Operating System Version"])),we=we.concat(p(ve["Base URL"])),we=we.concat(Q(ve["Instance UUID"])),we=we.concat(L(ve["JIRA SEN"])),we=we.concat(qe.assertNoAdditionalProperties("Viewed Report",Object.keys(ve),["Origin Page","Origin Ecosystem","Origin Action","Origin Product","Origin View","Group Type","Filter Type","Number of Selected Filters","Period Length","Reporting Day","Order Type","App Version","Web Browser","Web Browser Version","Operating System","Operating System Version","Base URL","Instance UUID","JIRA SEN"])),Qe(ge,"D_H2QSv9W0","642894384f7ae9cbe817f75d1b464f55e1fdc7ce6678013d2681d0cebb9643db",we.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"validate"),G&&tt("D_H2QSv9W0","Viewed Report",we,[{id:"Origin Page",name:"Origin Page",value:ve["Origin Page"]},{id:"Origin Ecosystem",name:"Origin Ecosystem",value:ve["Origin Ecosystem"]},{id:"Origin Action",name:"Origin Action",value:ve["Origin Action"]},{id:"Origin Product",name:"Origin Product",value:ve["Origin Product"]},{id:"Origin View",name:"Origin View",value:ve["Origin View"]},{id:"Group Type",name:"Group Type",value:ve["Group Type"]},{id:"Filter Type",name:"Filter Type",value:ve["Filter Type"]},{id:"Number of Selected Filters",name:"Number of Selected Filters",value:ve["Number of Selected Filters"]},{id:"Period Length",name:"Period Length",value:ve["Period Length"]},{id:"Reporting Day",name:"Reporting Day",value:ve["Reporting Day"]},{id:"Order Type",name:"Order Type",value:ve["Order Type"]},{id:"App Version",name:"App Version",value:ve["App Version"]},{id:"Web Browser",name:"Web Browser",value:ve["Web Browser"]},{id:"Web Browser Version",name:"Web Browser Version",value:ve["Web Browser Version"]},{id:"Operating System",name:"Operating System",value:ve["Operating System"]},{id:"Operating System Version",name:"Operating System Version",value:ve["Operating System Version"]},{id:"Base URL",name:"Base URL",value:ve["Base URL"]},{id:"Instance UUID",name:"Instance UUID",value:ve["Instance UUID"]},{id:"JIRA SEN",name:"JIRA SEN",value:ve["JIRA SEN"]}],[]),"prod"===ge||null!==t&&!t)we.forEach(function(e){console[K||"error"]("[avo] "+e.message)});else if(0!==we.length)throw new Error("Error sending event 'Viewed Report': "+we[0].message);break;case"Exported View":if(we=we.concat(n(ve["Origin Page"])),we=we.concat(oe(ve["Origin Ecosystem"])),we=we.concat(ie(ve["Origin Action"])),we=we.concat(g(ve["Origin Product"])),we=we.concat(de(ve["Origin View"])),we=we.concat(B(ve["Export Type"])),we=we.concat(me(ve["Number of Selected Filters"])),we=we.concat(ce(ve["Period Length"])),we=we.concat(f(ve["App Version"])),we=we.concat(U(ve["Web Browser"])),we=we.concat(E(ve["Web Browser Version"])),we=we.concat(J(ve["Operating System"])),we=we.concat(i(ve["Operating System Version"])),we=we.concat(p(ve["Base URL"])),we=we.concat(Q(ve["Instance UUID"])),we=we.concat(L(ve["JIRA SEN"])),we=we.concat(qe.assertNoAdditionalProperties("Exported View",Object.keys(ve),["Origin Page","Origin Ecosystem","Origin Action","Origin Product","Origin View","Export Type","Number of Selected Filters","Period Length","App Version","Web Browser","Web Browser Version","Operating System","Operating System Version","Base URL","Instance UUID","JIRA SEN"])),Qe(ge,"RYtJ1-iOEH","6aaedecbf95858b2628abba610c30e30f7ff3891e6222f2755ae2dec2e851aa0",we.map(function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})}),"validate"),G&&tt("RYtJ1-iOEH","Exported View",we,[{id:"Origin Page",name:"Origin Page",value:ve["Origin Page"]},{id:"Origin Ecosystem",name:"Origin Ecosystem",value:ve["Origin Ecosystem"]},{id:"Origin Action",name:"Origin Action",value:ve["Origin Action"]},{id:"Origin Product",name:"Origin Product",value:ve["Origin Product"]},{id:"Origin View",name:"Origin View",value:ve["Origin View"]},{id:"Export Type",name:"Export Type",value:ve["Export Type"]},{id:"Number of Selected Filters",name:"Number of Selected Filters",value:ve["Number of Selected Filters"]},{id:"Period Length",name:"Period Length",value:ve["Period Length"]},{id:"App Version",name:"App Version",value:ve["App Version"]},{id:"Web Browser",name:"Web Browser",value:ve["Web Browser"]},{id:"Web Browser Version",name:"Web Browser Version",value:ve["Web Browser Version"]},{id:"Operating System",name:"Operating System",value:ve["Operating System"]},{id:"Operating System Version",name:"Operating System Version",value:ve["Operating System Version"]},{id:"Base URL",name:"Base URL",value:ve["Base URL"]},{id:"Instance UUID",name:"Instance UUID",value:ve["Instance UUID"]},{id:"JIRA SEN",name:"JIRA SEN",value:ve["JIRA SEN"]}],[]),"prod"===ge||null!==t&&!t)we.forEach(function(e){console[K||"error"]("[avo] "+e.message)});else if(0!==we.length)throw new Error("Error sending event 'Exported View': "+we[0].message);break;default:we.push({tag:"unexpectedEvent",eventName:ye,shape:Object.keys(ve).map(function(e){return[e,typeof ve[e]]}).reduce(function(e,t){return e[t[0]]=t[1],e},{}),shapeUserProps:Object.keys(_e).map(function(e){return[e,typeof _e[e]]}).reduce(function(e,t){return e[t[0]]=t[1],e},{})}),Xe(ge,"unexpectedEvent",we,"validate"),G&&tt(ye,ye,we,Object.keys(ve).map(function(e){return{id:e,name:e,value:ve[e]}}),Object.keys(_e).map(function(e){return{id:e,name:e,value:_e[e]}}))}}var ze=!1,He=null,$e=null,Ge=null,Ke=!0;Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])}return i},writable:!0,configurable:!0}),Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=i.length;return function(r){if("function"!=typeof r&&("object"!=typeof r||null===r))throw new TypeError("Object.keys called on non-object");var a,o,s=[];for(a in r)e.call(r,a)&&s.push(a);if(t)for(o=0;o<n;o++)e.call(r,i[o])&&s.push(i[o]);return s}}()),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t,i){return function(n,r){if(null===this||void 0===this)throw TypeError("Array.prototype.indexOf called on null or undefined");var a=e(this),o=a.length>>>0,s=i(0|r,o);if(s<0)s=t(0,o+s);else if(s>=o)return-1;if(void 0===n){for(;s!==o;++s)if(void 0===a[s]&&s in a)return s}else if(n!==n){for(;s!==o;++s)if(a[s]!==a[s])return s}else for(;s!==o;++s)if(a[s]===n)return s;return-1}}(Object,Math.max,Math.min));var Je,qe,Ze;Je=function(e,t){for(var i=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&i.push(e[n]);return i},qe={assertObject:function(e,t,i){if("object"!=typeof i){return[{tag:"expectedObjectType",propertyId:e,message:t+" should be of type object but you provided type "+typeof i+" with value "+JSON.stringify(i),actualType:typeof i}]}return[]},assertString:function(e,t,i){if("string"!=typeof i){return[{tag:"expectedStringType",propertyId:e,message:t+" should be of type string but you provided type "+typeof i+" with value "+JSON.stringify(i),actualType:typeof i}]}return[]},assertInt:function(e,t,i){if("number"==typeof i&&i!==Math.round(i)){JSON.stringify(i);return[{tag:"expectedIntType",propertyId:e,actualType:"float"}]}if("number"!=typeof i){return[{tag:"expectedIntType",propertyId:e,message:t+" should be of type int but you provided type "+typeof i+" with value "+JSON.stringify(i),actualType:typeof i}]}return[]},assertLong:function(e,t,i){if("number"==typeof i&&i!==Math.round(i)){JSON.stringify(i);return[{tag:"expectedLongType",propertyId:e,actualType:"float"}]}if("number"!=typeof i){return[{tag:"expectedLongType",propertyId:e,message:t+" should be of type long but you provided type "+typeof i+" with value "+JSON.stringify(i),actualType:typeof i}]}return[]},assertFloat:function(e,t,i){if("number"!=typeof i){return[{tag:"expectedFloatType",propertyId:e,message:t+" should be of type float but you provided type "+typeof i+" with value "+JSON.stringify(i),actualType:typeof i}]}return[]},assertBool:function(e,t,i){if("boolean"!=typeof i){return[{tag:"expectedBoolType",propertyId:e,message:t+" should be of type boolean but you provided type "+typeof i+" with value "+JSON.stringify(i),actualType:typeof i}]}return[]},assertMax:function(e,t,i,n){if(n>i){return[{tag:"expectedMax",propertyId:e,message:t+" has a maximum value of "+i+" but you provided the value "+JSON.stringify(n)}]}return[]},assertMin:function(e,t,i,n){if(n<i){return[{tag:"expectedMin",propertyId:e,message:t+" has a minimum value of "+i+" but you provided the value "+JSON.stringify(n)}]}return[]},assertList:function(e,t,i){return Array.isArray(i)?[]:[{tag:"expectedList",propertyId:e,message:t+" should be of type list but you provided type "+typeof i,actualType:typeof i}]},assertNoAdditionalProperties:function(e,t,i){var n=Je(t,i);if(n.length){return[{tag:"expectedNoAdditionalProperties",additionalProperties:n,message:"Additional properties when sending event "+e+": "+JSON.stringify(n)}]}return[]},assertNoAdditionalUserProperties:function(e,t,i){var n=Je(t,i);if(n.length){return[{tag:"expectedNoAdditionalUserProperties",additionalProperties:n,message:"Additional user properties when sending event "+e+": "+JSON.stringify(n)}]}return[]}},Ze={logEventSent:function(e,t,i){console.log("[avo] Event Sent:",e,"Event Props:",t,"User Props:",i)}};var Qe,Xe,et=1;Qe=function(e,i,n,r,a){t({ac:"uNGfST30pYyDCcEbgEq7",br:"master",en:e,ev:i,ha:n,sc:"7JBjRhWGgpbREMm61E1Y",se:(new Date).toISOString(),so:"6toI-GLBZ",va:0===r.length,me:r,or:a})},Xe=function(e,i,n,r){t({ac:"uNGfST30pYyDCcEbgEq7",br:"master",en:e,ty:i,sc:"7JBjRhWGgpbREMm61E1Y",se:(new Date).toISOString(),so:"6toI-GLBZ",va:0===n.length,me:n,or:r})};var tt,it=[],nt=!1;"undefined"!=typeof window&&window.addEventListener("message",function(e){if("https://www.avo.app"===e.origin){var t=document.getElementById("avo-debugger");if(t&&e&&e.data&&"avo-debugger-update-style"===e.data.type_)t.style=e.data.style;else if(t&&e&&e.data&&"avo-debugger-ready"===e.data.type_){var i={type_:"avo-debugger-boot-events",schemaId:"7JBjRhWGgpbREMm61E1Y",href:window.location.href,events:it};it=[],nt=!0,t.contentWindow.postMessage(i,"https://www.avo.app/_debugger")}}}),tt=function(e,t,i,n,r){if("undefined"!=typeof window){var a={eventId:e,eventName:t,messages:i,timestamp:Date.now(),eventProperties:n,userProperties:r};if(nt){var o={type_:"avo-debugger-events",events:[a]};document.getElementById("avo-debugger").contentWindow.postMessage(o,"https://www.avo.app/_debugger")}else it.push(a)}};var rt,at,ot,st,lt,ut,dt,ct,mt={make:function(e,t){if("undefined"==typeof window)return void console.warn("window.analytics is not available in Node.js");var i=window.analytics=window.analytics||[];if(!i.initialize){if(i.invoked)return void(window.console&&console.error&&console.error("Segment snippet included twice."));i.invoked=!0,i.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"],i.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(e),i.push(t),i}};for(var n=0;n<i.methods.length;n++){var r=i.methods[n];i[r]=i.factory(r)}i.load=function(e,t){var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src="https://cdn.segment.com/analytics.js/v1/"+e+"/analytics.min.js";var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(n,r),i._loadOptions=t},i.SNIPPET_VERSION="4.1.0",i.load(e,t)}},logEvent:function(e,t,i){"undefined"!=typeof window&&window.analytics.track(e,t,Object.assign({context:{ip:"0.0.0.0"}},{integrations:i}))},setUserProperties:function(e,t){"undefined"!=typeof window&&window.analytics.identify(e,Object.assign({context:{ip:"0.0.0.0"}},{integrations:t}))},identify:function(e,t){"undefined"!=typeof window&&window.analytics.identify(e,{},Object.assign({context:{ip:"0.0.0.0"}},{integrations:t}))},unidentify:function(e){"undefined"!=typeof window&&window.analytics.identify(null,{},Object.assign({context:{ip:"0.0.0.0"}},{integrations:e}))},page:function(e,t,i){"undefined"!=typeof window&&window.analytics.page(e,t,Object.assign({context:{ip:"0.0.0.0"}},{integrations:i}))}},pt={JIRA_ISSUE_VIEW:"Jira Issue View",PROJECT_TIMESHEET:"Project Timesheet",BOARD_SIDEBAR:"Board Sidebar",JIRA_ISSUE_SEARCH:"Jira Issue Search"},ht={DAY:"Day",MONTH:"Month",WEEK:"Week"},ft={USER:"User",GROUP:"Group",TEMPO_ACCOUNT:"Tempo Account",PROJECT:"Project",ALL_USERS:"All Users",EXCLUDED_GROUPS:"Excluded Groups",FILTER:"Filter"},gt={TIME_REPORTS:"Time Reports",TIMESHEET_REPORTS_AND_GADGETS:"Timesheet Reports and Gadgets"},yt={DAY:"Day",WEEK:"Week",TIME_ENTRY:"Time Entry",TIMESHEET:"Timesheet",TIME_SPENT:"Time Spent",PIVOT_BY_USER:"Pivot by User",PIVOT_BY_STATUS:"Pivot by Status",PIVOT_BY_LABEL:"Pivot by Label",RESOLUTION_TIME:"Resolution Time",TIME_BALANCE:"Time Balance",TIME_TRACKING:"Time Tracking",TIME_IN_STATUS:"Time in Status"},vt={DAILY:"Daily",EVERY_MONDAY:"Every Monday",EVERY_TUESDAY:"Every Tuesday",EVERY_WEDNESDAY:"Every Wednesday",EVERY_THURSDAY:"Every Thursday",EVERY_FRIDAY:"Every Friday",EVERY_SATURDAY:"Every Saturday",EVERY_SUNDAY:"Every Sunday"},_t={SUNDAY:"Sunday",MONDAY:"Monday",TUESDAY:"Tuesday",WEDNESDAY:"Wednesday",THURSDAY:"Thursday",FRIDAY:"Friday",SATURDAY:"Saturday"},wt={_XLS:".xls",_CSV:".csv"},Tt={TEMPO_ACCOUNT:"Tempo Account",DATE_OF_FIRST_RESPONSE:"Date of First Response",AFFECTS_VERSIONS:"Affects Versions",APPROVERS:"Approvers",ASSIGNEE:"Assignee",CHANGE_COMPLETION_DATE:"Change Completion Date",CHANGE_REASON:"Change Reason",CHANGE_RISK:"Change Risk",CHANGE_START_DATE:"Change Start Date",CHANGE_TYPE:"Change Type",COMPONENTS:"Components",CREATED:"Created",CREATOR:"Creator",DESCRIPTION:"Description",DUE_DATE:"Due Date",ENVIRONMENT:"Environment",EPIC_COLOR:"Epic Color",EPIC_LINK:"Epic Link",EPIC_NAME:"Epic Name",EPIC_STATUS:"Epic Status",ESTIMATE:"Estimate",FIX_VERSIONS:"Fix Versions",FLAGGED:"Flagged",IMPACT:"Impact",ISSUE_COLOR:"Issue Color",ISSUE_TYPE:"Issue Type",ITERATION_FIELD:"Iteration Field",LABELS:"Labels",LAST_VIEWED:"Last Viewed",LINKED_ISSUES:"Linked Issues",ORIGINAL_ESTIMATE:"Original Estimate",ORIGINAL_ESTIMATE_REMAINING:"Original Estimate Remaining",PARENT_ISSUE:"Parent Issue",PARENT_LINK:"Parent Link",PRIORITY:"Priority",PROJECT:"Project",PROJECT_CATEGORY:"Project Category",RANK:"Rank",REMAINING_ESTIMATE:"Remaining Estimate",REPORTER:"Reporter",REQUEST_PARTICIPANTS:"Request Participants",REQUEST_TYPE:"Request Type",RESOLUTION:"Resolution",RESOLVED:"Resolved",SATISFACTION_DATE:"Satisfaction Date",SECURITY_LEVEL:"Security Level",SPRINT:"Sprint",START_DATE:"Start Date",STATUS:"Status",STATUS_CATEGORY_CHANGED:"Status Category Changed",STORY_POINT_ESTIMATE:"Story Point Estimate",STORY_POINTS:"Story Points",SUB_MINUSTASKS:"Sub-tasks",SUMMARY:"Summary",TIME_SPENT:"Time Spent",TIME_TRACKING:"Time Tracking",UPDATED:"Updated",VARIANCE:"Variance",WORK_RATIO:"Work Ratio",SUM_OF_ORIGINAL_ESTIMATE:"Sum of Original Estimate",SUM_OF_REMAINING_ESTIMATE:"Sum of Remaining Estimate",CUSTOM_FIELD:"Custom Field",NO_GROUPING:"No Grouping"},bt={COLLAPSED:"Collapsed",EXPANDED:"Expanded"},kt={DATE:"Date",START_TIME:"Start Time",TASK:"Task",HOURS_WORKED:"Hours Worked",DESCRIPTION:"Description",CATEGORY:"Category",TEMPO_ACCOUNT:"Tempo Account"},St={CLICKED_ON_LOG_TIME_BUTTON:"Clicked on Log Time button",CREATED_FROM_TRACKER:"Created from Tracker",CLICKED_ON_BACK_ARROW:"Clicked on Back Arrow",CLICKED_ON_FORWARD_ARROW:"Clicked on Forward Arrow",CLICKED_CANCEL:"Clicked Cancel",CLICKED_X_ON_FORM:"Clicked X on Form"},At={DAYS:"Days",WEEKS:"Weeks",MONTH:"Month"},Dt={MY_WORK:"My Work",REPORT_OVERVIEW:"Report Overview",INSTALLATION_PAGE:"Installation Page",INSTALLATION_SUCCESS_PAGE:"Installation Success Page",INSTALLATION_FAILURE_PAGE:"Installation Failure Page",LOGGED_TIME_REPORT:"Logged Time Report",CUSTOMER_REPORT:"Customer Report"},Ot={JIRA:"Jira"},Et={DATE_OF_FIRST_RESPONSE:"Date of First Response",AFFECTS_VERSIONS:"Affects Versions",APPROVERS:"Approvers",ASSIGNEE:"Assignee",CHANGE_COMPLETION_DATE:"Change Completion Date",CHANGE_REASON:"Change Reason",CHANGE_RISK:"Change Risk",CHANGE_START_DATE:"Change Start Date",CHANGE_TYPE:"Change Type",COMPONENTS:"Components",CREATED:"Created",CREATOR:"Creator",DESCRIPTION:"Description",DUE_DATE:"Due Date",ENVIRONMENT:"Environment",EPIC_COLOR:"Epic Color",EPIC_LINK:"Epic Link",EPIC_NAME:"Epic Name",EPIC_STATUS:"Epic Status",ESTIMATE:"Estimate",FIX_VERSIONS:"Fix Versions",FLAGGED:"Flagged",IMPACT:"Impact",ISSUE_COLOR:"Issue Color",ISSUE_TYPE:"Issue Type",ITERATION_FIELD:"Iteration Field",LABELS:"Labels",LAST_VIEWED:"Last Viewed",LINKED_ISSUES:"Linked Issues",ORGANIZATIONS:"Organizations",ORIGINAL_ESTIMATE:"Original Estimate",ORIGINAL_ESTIMATE_REMAINING:"Original Estimate Remaining",PARENT_ISSUE:"Parent Issue",PARENT_LINK:"Parent Link",PRIORITY:"Priority",PROJECT:"Project",PROJECT_CATEGORY:"Project Category",RANK:"Rank",REMAINING_ESTIMATE:"Remaining Estimate",REPORTER:"Reporter",REQUEST_PARTICIPANTS:"Request Participants",REQUEST_TYPE:"Request Type",RESOLUTION:"Resolution",RESOLVED:"Resolved",SATISFACTION_DATE:"Satisfaction Date",SECURITY_LEVEL:"Security Level",SPRINT:"Sprint",START_DATE:"Start Date",STATUS:"Status",STATUS_CATEGORY_CHANGED:"Status Category Changed",STORY_POINT_ESTIMATE:"Story Point Estimate",STORY_POINTS:"Story Points",SUB_MINUSTASKS:"Sub-tasks",SUMMARY:"Summary",TIME_SPENT:"Time Spent",TIME_TRACKING:"Time Tracking",UPDATED:"Updated",VARIANCE:"Variance",WORK_RATIO:"Work Ratio",SUM_OF_ORIGINAL_ESTIMATE:"Sum of Original Estimate",SUM_OF_REMAINING_ESTIMATE:"Sum of Remaining Estimate",CUSTOM_FIELD:"Custom Field"},It={TIME_ENTRY:"Time Entry",TIMESHEET:"Timesheet",TIME_SPENT:"Time Spent",PIVOT_BY_USER:"Pivot by User",PIVOT_BY_STATUS:"Pivot by Status",PIVOT_BY_LABEL:"Pivot by Label",RESOLUTION_TIME:"Resolution Time",TIME_BALANCE:"Time Balance",TIME_TRACKING:"Time Tracking",TIME_IN_STATUS:"Time in Status"},Mt={MY_WORK:"My Work",REPORT_OVERVIEW:"Report Overview",INSTALLATION_PAGE:"Installation Page",TICKET_VIEW:"Ticket View",LOGGED_TIME_REPORT:"Logged Time Report",CUSTOMER_REPORT:"Customer Report"},Lt={DATE_OF_FIRST_RESPONSE:"Date of First Response",AFFECTS_VERSIONS:"Affects Versions",APPROVERS:"Approvers",ASSIGNEE:"Assignee",CHANGE_COMPLETION_DATE:"Change Completion Date",CHANGE_REASON:"Change Reason",CHANGE_RISK:"Change Risk",CHANGE_START_DATE:"Change Start Date",CHANGE_TYPE:"Change Type",COMPONENTS:"Components",CREATED:"Created",CREATOR:"Creator",DESCRIPTION:"Description",DUE_DATE:"Due Date",ENVIRONMENT:"Environment",EPIC_COLOR:"Epic Color",EPIC_LINK:"Epic Link",EPIC_NAME:"Epic Name",EPIC_STATUS:"Epic Status",ESTIMATE:"Estimate",FIX_VERSIONS:"Fix Versions",FLAGGED:"Flagged",IMPACT:"Impact",ISSUE_COLOR:"Issue Color",ISSUE_TYPE:"Issue Type",ITERATION_FIELD:"Iteration Field",LABELS:"Labels",LAST_VIEWED:"Last Viewed",LINKED_ISSUES:"Linked Issues",ORGANIZATIONS:"Organizations",ORIGINAL_ESTIMATE:"Original Estimate",ORIGINAL_ESTIMATE_REMAINING:"Original Estimate Remaining",PARENT_ISSUE:"Parent Issue",PARENT_LINK:"Parent Link",PRIORITY:"Priority",PROJECT:"Project",PROJECT_CATEGORY:"Project Category",RANK:"Rank",REMAINING_ESTIMATE:"Remaining Estimate",REPORTER:"Reporter",REQUEST_PARTICIPANTS:"Request Participants",REQUEST_TYPE:"Request Type",RESOLUTION:"Resolution",RESOLVED:"Resolved",SATISFACTION_DATE:"Satisfaction Date",SECURITY_LEVEL:"Security Level",SPRINT:"Sprint",START_DATE:"Start Date",STATUS:"Status",STATUS_CATEGORY_CHANGED:"Status Category Changed",STORY_POINT_ESTIMATE:"Story Point Estimate",STORY_POINTS:"Story Points",SUB_MINUSTASKS:"Sub-tasks",SUMMARY:"Summary",TIME_SPENT:"Time Spent",TIME_TRACKING:"Time Tracking",UPDATED:"Updated",VARIANCE:"Variance",WORK_RATIO:"Work Ratio",SUM_OF_ORIGINAL_ESTIMATE:"Sum of Original Estimate",SUM_OF_REMAINING_ESTIMATE:"Sum of Remaining Estimate",CUSTOM_FIELD:"Custom Field"};e.validateAvoEvent=Ve,e.OriginPage=pt,e.SwitchedView=ht,e.FilterType=ft,e.OriginProduct=gt,e.SelectedView=yt,e.SubscriptionPeriod=vt,e.ReportingDay=_t,e.ExportType=wt,e.GroupType=Tt,e.Display=bt,e.Attribute=kt,e.OriginAction=St,e.SummedViewBy=At,e.PageTo=Dt,e.OriginEcosystem=Ot,e.OrderType=Et,e.OriginView=It,e.PageFrom=Mt,e.ColumnType=Lt,e.modifiedTimeRecord=we,e.startedTracker=Te,e.pausedTracker=be,e.navigated=ke,e.identifiedUser=Se,e.appliedFilter=Ae,e.appliedGrouping=De,e.removedGrouping=Oe,e.exportedData=Ee,e.resetTracker=Ie,e.modifiedDisplay=Me,e.loggedWork=Le,e.sharedView=Pe,e.subscribedToView=Ce,e.addedColumn=xe,e.removedColumn=Fe,e.addedCategorization=Ue,e.removedCategorization=Re,e.addedGadget=Be,e.modifiedGadget=Ye,e.removedGadget=Ne,e.viewedReport=We,e.exportedView=je,e.setSystemProperties_=ye,e.setSystemProperties=ge,e.setup_=ve,e.initAvo=_e}("undefined"==typeof exports?this.Avo={}:exports);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};if("object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports)var CsvView=require("./CsvView");if(ExcelView.prototype.fieldValue=CsvView.fieldValueFn(function(e,t){var i=t.hostBaseUrl||"",n=e.displayName||e.name||e.accountId;return"<a href='"+i+"/people/"+e.accountId+"' title='"+e.emailAddress+"'>"+n+"</a>"},function(e,t){var i=t.hostBaseUrl||"",n=e.hasOwnProperty("fields")&&e.fields.hasOwnProperty("summary")?e.fields.summary:"";return n=n.replace(/'/,"&#39;"),"<a href='"+i+"/browse/"+e.key+"' title='"+n+"'>"+e.key+"</a>"},function(e,t){return DrawHelper.formatDecimal(e/t.periodDuration,t.jiraConfig.maxFractionDigits)}),ExcelView.prototype.enquote=function(e){return e?(e=""+e,(-1==="=+-@".indexOf(e.substring(0,1))?e:"'"+e).replace(/\r?\n/g," ")):""},ExcelView.prototype.generate=function(e){var t,i=this,n=e.jiraConfig.maxFractionDigits,r=e.hostBaseUrl||"",a=function(e,t){return"<a href='"+r+e+"'>"+t+"</a>"},o=PivotTableFactory.createPivotTable(e),s=["TimeTracking","TimeBalance"].indexOf(e.pivotTableType)>=0;"TimeTracking"===e.pivotTableType?t=e.timeTrackingColumns:"TimeBalance"===e.pivotTableType&&(t=e.timeBalanceColumns);var l=e.configOptions.exportColumns,u=e.configOptions.durationTypeForExport||"h";e.periodDuration="d"===u?3600*parseFloat(e.jiraConfig.workingHoursPerDay||8):"m"===u?60:3600;var d=["project","issuetype","key","summary","priority"].filter(function(e){return l.indexOf(e)>=0}),c="<style>\n";c+="\x3c!--br\n",c+="    {mso-data-placement:same-cell;}\n",c+="\x3c!--table\n";var m=1234.5.toLocaleString().match(/\d+(\D)?\d+(\D)\d+/);c+='    {mso-displayed-decimal-separator:"\\'+m[2]+'";',c+=(m[1]?'\n    mso-displayed-thousand-separator:"\\'+m[1]+'";':"")+"}\n",c+="--\x3e\n",c+="</style>\n",c+="<table>\n",c+="  <tr>\n",c+=d.map(function(t){return"    <td>"+e.translations[t]+"</td>\n"}).join("");var p=l.indexOf("descriptionstatus")>=0;"TimeBalance"===e.pivotTableType&&(l.indexOf("datestarted")>=0&&(c+="    <td>"+e.translations["Date Started"]+"</td>\n"),l.indexOf("displayname")>=0&&(c+="    <td>"+e.translations["Display Name"]+"</td>\n"),c+="    <td>"+e.translations.Changed+"</td>\n");for(var h=l.indexOf("workcreated")>=0,f=0;f<e.moreFields.length;f++){var g=e.moreFields[f];["timeestimate","timeoriginalestimate","timespent"].indexOf(g.id)>=0?c+="    <td>"+g.name+" ("+u+")</td>\n":c+="    <td>"+this.enquote(g.name)+"</td>\n","workcreated"===g.id&&(h=!1)}if(s)for(var f in t)"6progress"===t[f]?c+="    <td>"+e.translations[t[f]]+"</td>\n":c+="    <td>"+e.translations[t[f]]+" ("+u+")</td>\n";else h&&(c+="    <td>"+e.translations["Work Created"]+"</td>\n"),l.indexOf("worklogid")>=0&&(c+="    <td>"+e.translations["Worklog Id"]+"</td>\n"),l.indexOf("datestarted")>=0&&(c+="    <td>"+e.translations["Date Started"]+"</td>\n"),["IssuePassedTimeByStatus","IssuePassedTimeByResolution"].indexOf(e.pivotTableType)>=0&&(c+="    <td>"+e.translations["Date Ended"]+"</td>\n"),l.indexOf("displayname")>=0&&(c+="    <td>"+e.translations["Display Name"]+"</td>\n"),l.indexOf("emailaddress")>=0&&(c+="    <td>"+e.translations["Email Address"]+"</td>\n"),l.indexOf("accountid")>=0&&(c+="    <td>"+e.translations["Account Id"]+"</td>\n"),c+="    <td>"+e.translations["Time Spent"]+" ("+u+")</td>\n",p&&("IssuePassedTimeByStatus"===e.pivotTableType?c+="    <td>"+e.translations.Status+"</td>\n":"IssuePassedTimeByResolution"===e.pivotTableType?c+="    <td>"+e.translations.Resolution+"</td>\n":c+="    <td>"+e.translations["Work Description"]+"</td>\n");c+="  </tr>\n";var y=0,v=Promise.resolve(c);return this.allIssues.forEach(function(r){v=v.then(function(u){return new Promise(function(r){return function(o){r.forEach(function(r){u+="  <tr>\n";var o=r.rowKey._issue||r.rowKey.issue,d=r.rowKey.worklog||r.worklog||{};d.comment=d.comment?d.comment.replace(/<([^>]+)>/g,"&lt;$1&gt;"):"",l.indexOf("project")>=0&&(u+="    <td>"+i.enquote(o.fields.project.name)+"</td>\n"),l.indexOf("issuetype")>=0&&(u+="    <td>"+i.enquote(o.fields.issuetype.name)+"</td>\n"),l.indexOf("key")>=0&&(u+="    <td>"+a("/browse/"+o.key,o.key)+"</td>\n"),l.indexOf("summary")>=0&&(u+="    <td>"+a("/browse/"+o.key,o.fields.summary)+"</td>\n"),l.indexOf("priority")>=0&&(u+="    <td>"+i.enquote(i.fieldValue(o,"priority",e))+"</td>\n"),"TimeBalance"===e.pivotTableType&&(l.indexOf("datestarted")>=0&&(u+="    <td>"+(d.started?moment(d.started).format(TimesheetUtils.dateTimeFormat):"")+"</td>\n"),l.indexOf("displayname")>=0&&(u+="    <td>"+(d.author?i.enquote(d.author.displayName):"")+"</td>\n"),u+="    <td>"+i.enquote(d.comment)+"</td>\n");for(var c=0;c<e.moreFields.length;c++){var m=e.moreFields[c];u+="    <td>"+i.enquote(i.fieldValue(o,m,e,d))+"</td>\n"}if(s)for(var c in t)if("6progress"===t[c]){var f=r.values["6progress"];if(f.timespent+f.estimate===0)u+="    <td></td>\n";else{var g=Math.round(100*f.timespent/(f.estimate+f.timespent));u+="    <td>"+DrawHelper.formatDecimal(g,n)+"%</td>\n"}}else"5originalestimateremaining"===t[c]?u+="    <td>"+DrawHelper.formatDecimal(r.values[t[c]].value/e.periodDuration,n)+"</td>\n":u+="    <td>"+DrawHelper.formatDecimal(r.values[t[c]]/e.periodDuration,n)+"</td>\n";else h&&(u+="    <td>"+(d.created?moment(d.created).format(TimesheetUtils.dateTimeFormat):"")+"</td>\n"),l.indexOf("worklogid")>=0&&(u+="    <td>"+(d.id||"")+"</td>\n"),l.indexOf("datestarted")>=0&&(u+="    <td>"+(d.workDate?moment(d.workDate).format(TimesheetUtils.dateTimeFormat):"")+"</td>\n"),["IssuePassedTimeByStatus","IssuePassedTimeByResolution"].indexOf(e.pivotTableType)>=0&&(u+="    <td>"+(d.toDate?moment(d.toDate).format(TimesheetUtils.dateTimeFormat):"")+"</td>\n"),l.indexOf("displayname")>=0&&(u+="    <td>"+(d.author?i.enquote(d.author.displayName):"")+"</td>\n"),l.indexOf("emailaddress")>=0&&(u+="    <td>"+(d.author?i.enquote(d.author.emailAddress):"")+"</td>\n"),l.indexOf("accountid")>=0&&(u+="    <td>"+(d.author?d.author.accountId:"")+"</td>\n"),u+="    <td>"+(d.timeSpentSeconds?DrawHelper.formatDecimal(d.timeSpentSeconds/e.periodDuration,n):"")+"</td>\n",p&&(u+="    <td>"+(d._issue?a("/browse/"+d._issue.key,d._issue.key)+" ":"")+i.enquote(["IssuePassedTimeByStatus","IssuePassedTimeByResolution"].indexOf(e.pivotTableType)>=0?r.columnKey.keyValue:d.comment)+"</td>\n"),u+="  </tr>\n",y+=d.timeSpentSeconds||0}),o(u)}}(o.add(r)))})}),v.then(function(i){var r=l.length;p&&r--,l.indexOf("timespentd")>=0&&r--,l.indexOf("workcreated")>=0&&!h&&r--,i+="  <tr>\n";var a=e.moreFields.length,u=s?d.length:r;if(u>0&&(u--,i+="    <td>Total</td>\n"),"TimeBalance"===e.pivotTableType&&(l.indexOf("datestarted")>=0&&u++,l.indexOf("displayname")>=0&&u++,u++),i+=TimesheetUtils.repeat("    <td></td>\n",u+a),["IssuePassedTimeByStatus","IssuePassedTimeByResolution"].indexOf(e.pivotTableType)>=0&&(i+="    <td></td>\n"),s)for(var c in t)if("6progress"===t[c]){var m=o.totals["6progress"].value;if(m.timespent+m.estimate===0)i+="    <td></td>\n";else{var f=Math.round(100*m.timespent/(m.estimate+m.timespent));i+="    <td>"+DrawHelper.formatDecimal(f,n)+"%</td>\n"}}else"5originalestimateremaining"===t[c]?i+="    <td>"+DrawHelper.formatDecimal(o.totals[t[c]].value.value/e.periodDuration,n)+"</td>\n":i+="    <td>"+DrawHelper.formatDecimal(o.totals[t[c]].sum/e.periodDuration,n)+"</td>\n";else i+="    <td>"+DrawHelper.formatDecimal(y/e.periodDuration,n)+"</td>\n",p&&(i+="    <td></td>\n");i+="  </tr>\n";var g=e.restrictedProjects&&e.restrictedProjects.join(",");g&&(i+="<tr><td class='nav border total' colspan="+u+">"+e.translations["Data is limited by Auditors Roles"]+" "+g+"</td></tr>");var v=e.restrictedGroups&&e.restrictedGroups.join(",");return v&&(i+="<tr><td class='nav border total' colspan="+u+">"+e.translations["Data is limited to Restricted Groups"]+" "+v+"</td></tr>"),i+="</table>\n"})},ExcelView.prototype.download=function(e){this.generate(e).then(function(t){var i='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40">\n';i+='<meta http-equiv="content-type" content="application/vnd.ms-excel; charset=utf-8">',i+="<head>\n",i+="\x3c!--[if gte mso 9]>\n",i+="<xml>\n",i+="<x:ExcelWorkbook>",i+="<x:ExcelWorksheets>",i+="<x:ExcelWorksheet>",i+="<x:Name>",i+="{worksheet}",i+="</x:Name>",i+="<x:WorksheetOptions>",i+="<x:DisplayGridlines/>",i+="</x:WorksheetOptions>",i+="</x:ExcelWorksheet>",i+="</x:ExcelWorksheets>",i+="</x:ExcelWorkbook>\n",i+="</xml>\n",i+="<![endif]--\x3e\n",i+="</head>\n",i+="<body>\n",i+=t,i+="</body>\n",i+="</html>\n";var n=e.fileName?e.fileName:"exportData.xls",r=[i],a=new Blob(r,{encoding:"utf-8",type:"application/vnd.ms-excel;charset=utf-8;"});if(!document.documentMode){var o;o=navigator.userAgent.indexOf("Safari")>=0&&navigator.userAgent.indexOf("Chrome")<0?"data:application/vnd.ms-excel;charset=utf-8;filename="+n+";base64,"+AJS.$.base64.encode(i):URL.createObjectURL(a);var s=document.createElement("a");"string"==typeof s.download?(s.href=o,s.download=n,document.body.appendChild(s),s.click(),setTimeout(function(){document.body.removeChild(s)},100)):window.open(o)}else window.navigator.msSaveOrOpenBlob(a,n)})},"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports){module.exports=ExcelView;var PivotTableFactory=require("./PivotTable"),TimesheetUtils=require("../../timesheetUtils"),DrawHelper=require("../../app/directives/DrawHelper"),moment=require("moment-timezone")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};if("object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports)var CsvView=require("./CsvView"),ExcelView=require("./ExcelView");var htmlUserFieldFormatter=function(e,t){var i=t.hostBaseUrl||"",n=e.displayName||e.name||e.accountId;return"<a target='_blank' href='"+i+"/people/"+e.accountId+"' title='"+e.emailAddress+"'>"+n+"</a>"},htmlKeyFieldFormatter=function(e,t){var i=t.hostBaseUrl||"",n=e.hasOwnProperty("fields")&&e.fields.hasOwnProperty("summary")?e.fields.summary:""
;return n=n.replace(/'/,"&#39;"),"<a target='_blank' href='"+i+"/browse/"+e.key+"' title='"+n+"'>"+e.key+(n?" "+n:"")+"</a>"},getFormattedTime=function(e,t,i){return e?DrawHelper.getFormattedTime(e,t||{},i):""},currency=function(e,t){return(t||"")+parseFloat(parseFloat(e&&angular.isObject(e)?e.sum:e||0).toFixed(2)).toLocaleString()};if(HtmlView.prototype.fieldValue=CsvView.fieldValueFn(htmlUserFieldFormatter,htmlKeyFieldFormatter,function(e,t){return getFormattedTime(e,t.jiraConfig,t.isElapsedTime)}),HtmlView.prototype.generate=function(e){var t,i=this,n=e.hostBaseUrl||"",r=e.jiraConfig.maxFractionDigits,a=e.isElapsedTime="IssuePassedTimeByStatus"===e.pivotTableType&&!(e.configOptions.workingTimeInStatus.from&&e.configOptions.workingTimeInStatus.to),o=function(e,t){return"<a target='_blank' href='"+n+e+"'>"+t+"</a>"};if(e.pivotTable)t=e.pivotTable,"TimeEntry"!==e.pivotTableType&&(e.groupByField=e._groupByField,e.categorizeByField=e._categorizeByField);else{t=PivotTableFactory.createPivotTable(e);for(var s in this.allIssues)t.add(this.allIssues[s])}t.showOnce=[];var l=t.sortedColumns(),u=t.sortedRows(),d="<style>\n";d+="\x3c!--br\n",d+="    {mso-data-placement:same-cell;}\n",d+="\x3c!--table\n";var c=1234.5.toLocaleString().match(/\d+(\D)?\d+(\D)\d+/);d+='    {mso-displayed-decimal-separator:"\\'+c[2]+'";',d+=(c[1]?'\n    mso-displayed-thousand-separator:"\\'+c[1]+'";':"")+"}\n",d+="--\x3e\n",d+="</style>\n",d+='<table class="aui aui-table-list">\n',d+=" <thead> <tr class='rowFooter'>\n",e.categorizeByField&&e.groupByField&&(d+="    <th class='nav border total'>"+(e.categorizeByFieldOption?e.categorizeByFieldOption.label:e.categorizeByField)+"</th>\n"),e.groupByField&&(d+="    <th class='nav border total'>"+(e.groupByFieldOption?e.groupByFieldOption.label:e.groupByField)+"</th>\n");var m=e.compressed||"TimeTracking"===e.pivotTableType;(!e.groupByField||e.groupByField&&!e.compressed||"issue"===e.groupByField)&&(d+="    <th class='nav border total'>"+e.translations["Issue Type"]+"</th>\n",d+="    <th class='nav border total'>"+e.translations.Parent+"</th>\n",d+="    <th class='nav border total'>"+e.translations.Key+"</th>\n",d+="    <th class='nav border total'>"+e.translations.Summary+"</th>\n",d+="    <th class='nav border total'>"+e.translations.Priority+"</th>\n");var p;for(var s in t.moreFields){var h=t.moreFields[s];p=e.moreFieldsOptions.findOption(h),d+="    <th class='nav border total'>"+(p?p.label:h)+"</th>\n"}m||(d+="    <th class='nav border total'>"+e.translations["Work Description"]+"</th>\n");for(var s in l)d+="    <th class='nav border total'>"+function(t){if(t.user){var i=t.user.displayName||t.user.name||t.user.accountId;return"<a target='_blank' href='"+n+"/people/"+t.user.accountId+"' title='"+t.user.emailAddress+"'>"+i+"</a>"}return t.date?moment(t.date).format("DD/MMM"):t.weekNumber?t.weekNumber:t.monthKey?moment(t.keyValue).format("MMM"):["TimeTracking","TimeEntry","IssueTime","Timespent","CostReport","TimeBalance"].indexOf(e.pivotTableType)>=0?e.translations[t.keyValue]:t.keyValue}(l[s].columnKey)+"</th>\n";var f=["TimeTracking","TimeBalance","Timespent","CostReport","TimeEntry"].indexOf(e.pivotTableType)>=0;f||(d+="    <th class='nav border total'>"+e.translations.Total+"</th>\n"),d+="  </tr></thead><tbody>\n";var g=Promise.resolve(d);return u.forEach(function(n){g=g.then(function(s){return new Promise(function(u){s+="  <tr>\n";var d=n.rowKey._issue||n.rowKey.issue||n.rowKey.field;if(e.categorizeByField&&e.groupByField){var c;c="workeduser"===e.categorizeByField?htmlUserFieldFormatter(n.rowKey.project,e):["issue","project"].indexOf(e.categorizeByField)>=0?htmlKeyFieldFormatter(n.rowKey.project,e):["workeddate","workcreated"].indexOf(e.categorizeByField)>=0?moment(n.rowKey.project).format(TimesheetUtils.dateTimeFormat):["commentfirstword","worklabel","workedusergroup"].indexOf(e.categorizeByField)>=0?n.rowKey._project:["workedweek"].indexOf(e.categorizeByField)>=0?e.translations.Week+" "+n.rowKey.field.weekNumber:i.fieldValue(d,e.categorizeByField,e),s+="    <td class='nav border'>"+c+"</td>\n"}if(e.groupByField)if(n.categoryRow)s+="    <td class='nav border'> ("+n.num+" "+e.translations[1===n.num?"issue_n":"issues_n"]+")</td>\n";else{var p;p="workeduser"===e.groupByField?htmlUserFieldFormatter(n.rowKey.field,e):["issue","parent","project"].indexOf(e.groupByField)>=0?htmlKeyFieldFormatter(n.rowKey.field,e):["workeddate","workcreated"].indexOf(e.groupByField)>=0?moment(n.rowKey.field).format(TimesheetUtils.dateTimeFormat):["commentfirstword","worklabel","workedusergroup"].indexOf(e.groupByField)>=0?n.rowKey._field:["workedweek"].indexOf(e.groupByField)>=0?e.translations.Week+" "+n.rowKey.field.weekNumber:i.fieldValue(d,e.groupByField,e),s+="    <td class='nav border'>"+p+" ("+n.num+" "+e.translations[1===n.num?"issue_n":"issues_n"]+")</td>\n"}n.rowKey.issue||"issue"===e.groupByField?(s+="    <td class='nav border'>"+d.fields.issuetype.name+"</td>\n",s+="    <td class='nav border' nowrap>"+(d.fields.parent?o("/browse/"+d.fields.parent.key,d.fields.parent.key):"")+"</td>\n",s+="    <td class='nav border' nowrap>"+o("/browse/"+d.key,d.key)+"</td>\n",s+="    <td class='nav border'>"+o("/browse/"+d.key,d.fields.summary)+"</td>\n",s+="    <td class='nav border'>"+i.fieldValue(d,"priority",e)+"</td>\n"):e.compressed||(s+=TimesheetUtils.repeat("    <td class='nav border'>&nbsp;</td>\n",5));for(var h in n.moreFields){var g=n.moreFields[h],y=n.rowKey._issue&&n.rowKey._issue.fields[g]||n.rowKey.issue&&n.rowKey.issue.fields[g]||n.rowKey.field&&n.rowKey.field.fields&&n.rowKey.field.fields[g];s+="    <td class='nav border'>"+i.fieldValue(d,g,e,null,y)+"</td>\n"}m||(s+="    <td class='nav border'>&nbsp</td>\n");for(var h in l){var v=l[h].columnKey.keyValue,_=n.columns[v];if(_)if("6progress"===v){var w=_.value;if(w.timespent+w.estimate===0)s+="    <td class='nav border'></td>\n";else{var T=Math.round(100*w.timespent/(w.estimate+w.timespent));s+="    <td class='nav border'>"+DrawHelper.formatDecimal(T,r)+"%</td>\n"}}else"5originalestimateremaining"===v?s+="    <td class='nav border'>"+getFormattedTime(_.value.value,e.jiraConfig,a)+"</td>\n":["1started","3action"].indexOf(v)>=0?s+="    <td class='nav border'></td>\n":s+="7cost"===v?"    <td class='nav border'>"+currency(_,e.configOptions.currencySymbol)+"</td>\n":"    <td class='nav border'>"+getFormattedTime(_.sum,e.jiraConfig,a)+(e.showDetailsCount?" "+n.columns[v].detailsNum+" "+getFormattedTime(n.columns[v].avg,e.jiraConfig,a):"")+"</td>\n";else s+="    <td class='nav border'></td>\n"}if(f||(s+="    <td class='nav border total'>"+getFormattedTime(n.sum,e.jiraConfig,a)+(e.showDetailsCount?" "+n.detailsNum+" "+getFormattedTime(n.avg,e.jiraConfig,a):"")+"</td>\n"),s+="  </tr>\n",!e.compressed&&!n.categoryRow&&("TimeTracking"!==e.pivotTableType||e.groupByField))for(var b in n.data){s+="  <tr>\n",e.categorizeByField&&e.groupByField&&(s+="    <td class='nav border'>&nbsp;</td>\n"),e.groupByField&&(s+="    <td class='nav border'>&nbsp;</td>\n");var k=n.data[b],S=k.rowKey._issue;S?(s+="    <td class='nav border'>"+S.fields.issuetype.name+"</td>\n",s+="    <td class='nav border'>"+(S.fields.parent?o("/browse/"+S.fields.parent.key,S.fields.parent.key):"")+"</td>\n",s+="    <td class='nav border'>"+o("/browse/"+S.key,S.key)+"</td>\n",s+="    <td class='nav border'>"+o("/browse/"+S.key,S.fields.summary)+"</td>\n",s+="    <td class='nav border'>"+i.fieldValue(S,"priority",e)+"</td>\n"):s+=TimesheetUtils.repeat("    <td class='nav border'>&nbsp;</td>\n",5);for(var h in n.moreFields)if(n.data[b].rowKey._issue){var A=n.data[b].rowKey._issue.key+"/"+h;if(t.showOnce.indexOf(A)<0){var w=n.data[b].rowKey._issue.fields[n.moreFields[h]];"number"==typeof w&&t.showOnce.push(A),s+="    <td class='nav border'>"+i.fieldValue(n.data[b].rowKey._issue,n.moreFields[h],e)+"</td>\n"}else s+="    <td class='nav border'>&nbsp;</td>\n"}else s+="    <td class='nav border'>&nbsp;</td>\n";m||(s+="    <td class='nav border'>"+(k.worklog&&k.worklog.comment?k.worklog.comment.replace(/<([^>]+)>/g,"&lt;$1&gt;"):"")+"</td>\n");for(var h in l){var v=l[h].columnKey.keyValue,w=k.values[v];if("6progress"===v)if(w.timespent+w.estimate===0)s+="    <td class='nav border'></td>\n";else{var T=Math.round(100*w.timespent/(w.estimate+w.timespent));s+="    <td class='nav border'>"+DrawHelper.formatDecimal(T,r)+"%</td>\n"}else"5originalestimateremaining"===v?s+="    <td class='nav border'>"+getFormattedTime(w.value,e.jiraConfig,a)+"</td>\n":["1timeoriginalestimate","2esttimeremaining","3timespent","4diff","2timespent"].indexOf(v)>=0?s+="    <td class='nav border'>"+getFormattedTime(w,e.jiraConfig,a)+"</td>\n":"1started"===v?s+="    <td class='nav border'>"+moment(w).format("LT")+"</td>\n":k.columnKey.keyValue===v?s+="    <td class='nav border'>"+getFormattedTime(w,e.jiraConfig,a)+"</td>\n":s+="7cost"===v?"    <td class='nav border'>"+currency(w,e.configOptions.currencySymbol)+"</td>\n":"    <td class='nav border'>&nbsp;</td>\n"}f||(s+="    <td class='nav border'>&nbsp;</td>\n"),s+="  </tr>\n"}u(s)})})}),g.then(function(n){n+="  </tbody><tfoot><tr class='rowFooter'>\n";var o=0;e.categorizeByField&&e.groupByField&&o++,e.groupByField&&o++,e.groupByField&&e.compressed&&"issue"!==e.groupByField||(o+=5),n+="    <th class='nav border total' colspan="+o+">"+e.translations.Total+" ("+t.num+" "+e.translations[1===t.num?"issue_n":"issues_n"]+")</th>\n";for(var s in t.moreFields)n+="    <th class='nav border total'>"+i.fieldValue({fields:t.fieldTotals},t.moreFields[s],e)+"</th>\n";m||(n+="    <th class='nav border total'>&nbsp;</th>\n");for(var s in l){var u=l[s].columnKey.keyValue,d=t.totals[u];if("6progress"===u){var c=d.value;if(c.timespent+c.estimate===0)n+="    <th class='nav border total'></th>\n";else{var p=Math.round(100*c.timespent/(c.estimate+c.timespent));n+="    <th class='nav border total'>"+DrawHelper.formatDecimal(p,r)+"%</th>\n"}}else"5originalestimateremaining"===u?n+="    <th class='nav border total'>"+getFormattedTime(d.value.value,e.jiraConfig,a)+"</th>\n":["1started","3action"].indexOf(u)>=0?n+="    <th class='nav border total'></th>\n":n+="7cost"===u?"    <th class='nav border total'>"+currency(d,e.configOptions.currencySymbol)+"</th>\n":"    <th class='nav border total'>"+getFormattedTime(d.sum,e.jiraConfig,a)+(e.showDetailsCount?" "+d.detailsNum+" "+getFormattedTime(d.avg,e.jiraConfig,a):"")+"</th>\n"}f||(n+="    <th class='nav border total'>"+getFormattedTime(t.sum,e.jiraConfig,a)+(e.showDetailsCount?" "+t.detailsNum+" "+getFormattedTime(t.avg,e.jiraConfig,a):"")+"</th>\n"),n+="  </tr>\n";var h=e.restrictedProjects&&e.restrictedProjects.join(",");h&&(n+="<tr><td class='nav border total' colspan="+o+">"+e.translations["Data is limited by Auditors Roles"]+" "+h+"</td></tr>");var g=e.restrictedGroups&&e.restrictedGroups.join(",");return g&&(n+="<tr><td class='nav border total' colspan="+o+">"+e.translations["Data is limited to Restricted Groups"]+" "+g+"</td></tr>"),n+="</tfoot></table>\n"})},HtmlView.prototype.download=ExcelView.prototype.download,"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports){module.exports=HtmlView;var PivotTableFactory=require("./PivotTable"),TimesheetUtils=require("../../timesheetUtils"),DrawHelper=require("../../app/directives/DrawHelper"),moment=require("moment-timezone")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};PivotColumn.prototype.add=function(e,t){if(this.entries.push(e),this.detailsNum+=1,"number"==typeof t)e.isTotalLast?e.isLast&&(this.sum+=t):this.sum+=t;else if(t&&"object"===(void 0===t?"undefined":_typeof(t))&&Object.keys(t).length>0){this.value=this.value||{};for(var i in t)"number"==typeof t[i]&&(e.isTotalLast?e.isLast&&(this.value[i]=t[i]+(this.value[i]||0)):this.value[i]=t[i]+(this.value[i]||0))}},"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports=PivotColumn);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};PivotEntry.prototype.addColumn=function(e,t){this.columnKeys.push(e),this.values[e.keyValue]=t},WorkedTimePivotEntry.prototype=new PivotEntry,"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports.PivotEntry=PivotEntry,module.exports.WorkedTimePivotEntry=WorkedTimePivotEntry,module.exports.EmptyPivotEntry=EmptyPivotEntry);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PivotKey={};PivotKey.Generic=function(e,t,i,n){this.keyName=e,this.keyValue=t,this.filterName=i,this.order=n},PivotKey.Generic.comparator=function(e,t){return null==e.order||null==t.order?StringComparator(e.keyValue,t.keyValue):e.order-t.order},PivotKey.Issue=function(e,t){this.issue=e,this.keyName="issue",this.keyValue=this.issue.key,this.worklog=t},PivotKey.Issue.comparator=KeyComparator,PivotKey.User=function(e,t,i){this.user=e.author,this.keyName="user",this.keyValue=e.author?e.author.accountId||e.author.key||e.author.name||e.author:"",this.options=i},PivotKey.User.comparator=function(e,t){return StringComparator(e.keyValue,t.keyValue)},PivotKey.Issue.getRowComparator=function(e){return function(t,i){var n=t.rowKey.issue,r=i.rowKey.issue;if(TimesheetUtils.FIELDS.TIME_TRACKING_PROGRESS_FIELD.id===e&&n&&r)var a=n.fields.timespent||0,o=n.fields.timeestimate||0,s=a+o,l=s?a/s:null,u=r.fields.timespent||0,d=r.fields.timeestimate||0,c=u+d,m=c?u/c:null;else if(TimesheetUtils.FIELDS.TIME_TRACKING_ESTIMATE_FIELD.id===e&&n&&r)var a=n.fields.timespent||0,o=n.fields.timeestimate||0,l=a+o,u=r.fields.timespent||0,d=r.fields.timeestimate||0,m=u+d;else if(TimesheetUtils.FIELDS.TIME_TRACKING_VARIANCE_FIELD.id===e&&n&&r)var p=n.fields.timeoriginalestimate||0,a=n.fields.timespent||0,o=n.fields.timeestimate||0,s=a+o,l=p-s,h=r.fields.timeoriginalestimate||0,u=r.fields.timespent||0,d=r.fields.timeestimate||0,c=u+d,m=h-c;else if(TimesheetUtils.FIELDS.TIME_TRACKING_ORIGINAL_ESTIMATE_REMAINING_FIELD.id===e&&n&&r)var p=n.fields.timeoriginalestimate||0,a=n.fields.timespent||0,l=p-a,h=r.fields.timeoriginalestimate||0,u=r.fields.timespent||0,m=h-u;else var l=n?PivotKey.getValue(n.fields[e],e):null,m=r?PivotKey.getValue(r.fields[e],e):null;return"string"==typeof l||"string"==typeof m?StringComparator(l,m):isDate(l)||isDate(m)?DateComparator(l,m):"number"==typeof l||"number"==typeof m?NumberComparator(l,m):0}},PivotKey.getStatuses=function(e,t){var i=e.changelog?e.changelog:{},n=i.histories?i.histories:[],r=e.fields.creator,a=[],o=function(e){for(var t=a.length-1;t>=0;t--)if(e.id&&!a[t].id)a[t].id=e.id,a[t].name=e.name;else{if(!e.hasOwnProperty("assignee")||a[t].hasOwnProperty("assignee"))break;a[t].assignee=e.assignee}};n.map(function(e){var i,n,s=TimesheetUtils.convertDate(e.created,!t.preserveStartedTime&&e.author&&e.author.timeZone),l=e.items||[];l.map(function(t){"jira"===t.fieldtype&&"status"===t.field?(i={id:t.from,name:t.fromString,date:s.getTime(),author:r},r=e.author):"jira"===t.fieldtype&&"assignee"===t.field&&(n={assignee:t.fromString,date:s.getTime(),auhtor:r},r=e.author)}),i&&(o(i),a.push(i)),n&&(o(n),i||a.push(n))});var s={id:e.fields.status.id,name:e.fields.status.name,date:Date.now(),author:r};return o(s),a.push(s),o({assignee:e.fields.assignee?e.fields.assignee.displayName:null}),a};var checkStatusCategory=function(e,t){return!t.timeInStatusCategories||!t.timeInStatusCategories.length||t.timeInStatusCategories.indexOf(e.categoryId)>=0};if(PivotKey.getStatusKeys=function(e,t,i){var n=PivotKey.getStatuses(t,i);return PivotKey.getStatusKeysEx(e,t,i,n)},PivotKey.getStatusKeysEx=function(e,t,i,n){for(var r=e.timeSpentSeconds,a=e.workDate.getTime(),o=[],s=0;s<n.length-1&&a>n[s].date;)s++;for(;s<n.length-1&&r>0&&a<n[s].date;s++){var l=n[s],u=i.startedTimeInStatus?r:PivotKey.getTimeInStatus(new Date(a),new Date(l.date),i),d=i.statuses[l.id]||l,c={key:new PivotKey.Status(l.name,l.id,l.date,l.author,d.order,d.categoryId,l.assignee,a),timespent:Math.min(r,u)};checkStatusCategory(c.key,i)&&o.push(c),a=l.date,r-=c.timespent}if(r>0){var l=n[n.length-1],u=i.startedTimeInStatus?r:PivotKey.getTimeInStatus(new Date(a),new Date(l.date),i),d=i.statuses[l.id]||l,c={key:new PivotKey.Status(l.name,l.id,l.date,l.author,d.order,d.categoryId,l.assignee,a),timespent:Math.min(r,u)};checkStatusCategory(c.key,i)&&o.push(c)}return o},PivotKey.getLabelKeys=function(e){var t=e.timeSpentSeconds,i=[],n=TimesheetUtils.getTags(e.comment);n.sort(),n.length||n.push("");for(var r=0;r<n.length;r++)i.push({key:new PivotKey.Generic("Label",n[r]),timespent:t});return i},PivotKey.getTimeInStatus=function(e,t,i){if(i.workingTimeInStatus.from&&i.workingTimeInStatus.to){var n=e.getTime();e.setHours(i.workingTimeInStatus.from,0,0,0),n=Math.max(n,e.getTime());var r=t.getTime();t.setHours(i.workingTimeInStatus.to,0,0,0),n=Math.min(n,t.getTime()),r=Math.min(r,t.getTime()),e.setTime(n),t.setTime(r);var a=new Date(n),o=new Date(n);o.setHours(i.workingTimeInStatus.to,0,0,0);for(var s=0;a.getTime()<r;){if(!TimesheetUtils.isWeekend(a,i)){s+=(Math.min(o.getTime(),r)-Math.min(o.getTime(),a.getTime()))/1e3}var l=a.getDate()+1;a.setDate(l),a.setHours(i.workingTimeInStatus.from,0,0,0,0),o.setDate(l)}return s}return(t.getTime()-e.getTime())/1e3},PivotKey.Status=function(e,t,i,n,r,a,o,s){this.keyValue=e,this.statusId=t,this.statusDate=i,this.author=n,this.order=r,this.categoryId=a,this.assignee=o,this.fromDate=s},PivotKey.Status.comparator=function(e,t){return e.order-t.order},PivotKey.getResolutions=function(e,t){var i=e.changelog?e.changelog:{},n=i.histories?i.histories:[],r=e.fields.creator,a=[];return n.map(function(e){var i=TimesheetUtils.convertDate(e.created,!t.preserveStartedTime&&e.author&&e.author.timeZone);(e.items||[]).map(function(e){if("jira"===e.fieldtype&&"resolution"===e.field){var t={id:e.from?1:0,name:e.from?"Resolved":"Unresolved",date:i.getTime(),author:r};a.push(t)}}),r=e.author}),a.push({id:e.fields.resolution?1:0,name:e.fields.resolution?"Resolved":"Unresolved",date:Date.now(),author:r}),a},PivotKey.HourOfTheDay=function(e){this.keyName="dayOfTheWeek",this.date=TimesheetUtils.truncateMinutes(e),this.keyValue=this.date.getTime()},PivotKey.DayOfTheWeek=function(e){this.keyName="dayOfTheWeek",this.date=TimesheetUtils.truncateTime(e),this.keyValue=this.date.getTime()},PivotKey.WeekOfTheYear=function(e,t){this.keyName="weekOfTheYear",this.startDate=TimesheetUtils.getPrevMonday(e,t.reportingDay),this.endDate=TimesheetUtils.addDays(this.startDate,7),this.weekNumber=TimesheetUtils.getNormalizedWeekNumber(this.startDate),this.keyValue=this.startDate.getTime()},PivotKey.MonthOfTheYear=function(e){this.keyName="monthOfTheYear",this.startDate=TimesheetUtils.getFirstDayOfTheMonth(e),this.endDate=TimesheetUtils.getLastDayOfTheMonth(e),this.monthKey=TimesheetUtils.getMonthKey(e),this.keyValue=this.startDate.getTime()},PivotKey.NULL_VALUE="&nbsp;",PivotKey.sprintRegex=/com\.atlassian\.greenhopper\.service\.sprint\.Sprint@[\d\w]+\[([\s\S]*)?\]/,PivotKey.getNameOrKey=function(e){var t;if(e&&"object"===(void 0===e?"undefined":_typeof(e))&&/\/rest\/api(\/\d+)\/user/.test(e.self))return e.displayName||e.name||e.key||e.accountId||PivotKey.NULL_VALUE;if(e&&"object"===(void 0===e?"undefined":_typeof(e))&&e.hasOwnProperty("name"))return e.name;if(e&&"object"===(void 0===e?"undefined":_typeof(e))&&e.hasOwnProperty("key"))return e.key;if(e&&"object"===(void 0===e?"undefined":_typeof(e))&&e.hasOwnProperty("value"))return e.value+(e.hasOwnProperty("child")?":"+PivotKey.getNameOrKey(e.child):"");if(e&&"object"===(void 0===e?"undefined":_typeof(e))&&e.hasOwnProperty("hasEpicLinkFieldDependency"))return e.showField&&e.data?e.data.key:PivotKey.NULL_VALUE;if("string"==typeof e&&(t=e.match(PivotKey.sprintRegex))){for(var i=t[1].split(","),n=0;n<i.length;n++){var r=i[n];if(0===r.indexOf("name="))return r.substr(5)}return PivotKey.NULL_VALUE}return e},PivotKey.getValue=function(e,t){if(e){if(TimesheetUtils.isDate(e))return TimesheetUtils.truncateTime(moment(e).toDate());if(Array.isArray(e)){var i="";return e.forEach(function(e){i.length>0&&(i+=", "),i+=PivotKey.getNameOrKey(e)}),i}return"priority"===t?e.id:PivotKey.getNameOrKey(e)}return e},PivotKey.isFieldType=function(e,t){return e&&e.schema&&e.schema.custom===t},PivotKey.getFieldValueObject=function(e,t,i){var n=i.fields[e];return PivotKey.isFieldType(t,"com.pyxis.greenhopper.jira:gh-epic-link")?n?n={key:n}:TimesheetUtils.isIssueEpic(i)&&(n={key:i.key}):PivotKey.isFieldType(t,"com.atlassian.servicedesk:vp-origin")&&n&&(n=n.requestType),n||(n="issue"===e?i:"parent"===e?{key:i.key,fields:{summary:i.fields.summary,resolution:i.fields.resolution,issuetype:i.fields.issuetype,priority:i.fields.priority}}:"projectcategory"===e&&i.fields.project.projectCategory?i.fields.project.projectCategory:PivotKey.NULL_VALUE),n},PivotKey.getFieldAndValue=function(e,t,i,n,r){var a,o;switch(t){case"workeduser":a=n&&n.author?n.author:PivotKey.NULL_VALUE,o=a.displayName||a.key||a.name||a.accountId||PivotKey.NULL_VALUE;break;case"workedusergroup":a=o=n&&n.author&&r.userInfos[n.author.accountId]&&r.userInfos[n.author.accountId].groups&&r.userInfos[n.author.accountId].groups.items.length?r.userInfos[n.author.accountId].groups.items[0].name:PivotKey.NULL_VALUE;break;case"workeddate":a=o=n?n.started:PivotKey.NULL_VALUE;break;case"workedweek":n?(a=new PivotKey.WeekOfTheYear(new Date(n.started),r),o=moment(a.startDate).format("YYYYMMDD")):a=o=PivotKey.NULL_VALUE;break;case"workcreated":a=o=n?n.created:PivotKey.NULL_VALUE;break;case"commentfirstword":if(n&&n.comment){var s=n.comment.replace(/\n/g," "),l=s.indexOf(" ");a=l>0?s.substring(0,l):s}else a=PivotKey.NULL_VALUE;o=a;break;case"worklabel":var u=TimesheetUtils.getTags(n.comment);u&&u.length>0?(u.sort(),a=u.join(", ")):a=PivotKey.NULL_VALUE,o=a;break;case TimesheetUtils.FIELDS.TIME_TRACKING_PROGRESS_FIELD.id:var d=e.fields.timespent||0,c=e.fields.timeestimate||0;o={estimate:c,timespent:d};break;case TimesheetUtils.FIELDS.TIME_TRACKING_ESTIMATE_FIELD.id:var d=e.fields.timespent||0,c=e.fields.timeestimate||0;o=d+c;break;case TimesheetUtils.FIELDS.TIME_TRACKING_VARIANCE_FIELD.id:var m=e.fields.timeoriginalestimate||0,d=e.fields.timespent||0,c=e.fields.timeestimate||0;o=m-(d+c);break;case TimesheetUtils.FIELDS.TIME_TRACKING_ORIGINAL_ESTIMATE_REMAINING_FIELD.id:var m=e.fields.timeoriginalestimate||0,d=e.fields.timespent||0;o={issue:e,value:m-d};break;default:a=PivotKey.getFieldValueObject(t,i,e),o=PivotKey.getValue(a,t)}return[a,o]},PivotKey.GroupByField=function(e,t,i){var n=i.groupByField,r=i.groupByFieldObject;"issue"!==n&&(this._issue=e),this._worklog=t;var a=i.categorizeByField?PivotKey.getFieldAndValue(e,i.categorizeByField,i.categorizeByFieldObject,t,i):[{name:""},""];this.project=a[0];var o=PivotKey.getFieldAndValue(e,n,r,t,i);this.field=o[0],this.keyValue=(i.categorizeByField?a[1]+":":"")+o[1],this.keyName=n,this._project=a[1],this._field=o[1]},PivotKey.StringComparator=StringComparator,PivotKey.GroupByField.comparator=StringComparator,PivotKey.GroupByField.dataComparator=function(e,t){return e.rowKey._issue&&t.rowKey._issue?KeyComparator(e.rowKey._issue.key,t.rowKey._issue.key):0},"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports){module.exports=PivotKey;var TimesheetUtils=require("../../timesheetUtils"),moment=require("moment-timezone")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};if(PivotRow.prototype.add=function(e){for(var t=0;t<e.columnKeys.length;t++){var i=e.columnKeys[t],n=e.values[i.keyValue];TimesheetUtils.getOrCreate(this.columns,i,PivotColumn).add(e,n)}if(this.detailsNum+=e.columnKeys.length,"number"==typeof e.value&&(this.sum+=e.value),this.rowKey._issue){var r=this.rowKey._issue.fields;if(this.rowKey._issue.key!==e.rowKey._issue.key&&this.rowKey._issue._sumIssuesIds.indexOf(e.rowKey._issue.id)<0){this.rowKey._issue._sumIssuesIds.push(e.rowKey._issue.id);for(var a in e.rowKey._issue.fields){var o=e.rowKey._issue.fields[a];o&&"number"==typeof o&&(r[a]=r[a]||0,r[a]+=o)}}else if(!this.rowKey._issue._sumIssuesIds&&(this.rowKey=TimesheetUtils.clone(this.rowKey),this.rowKey._issue._sumIssuesIds=[],this.moreFields))for(var t=0;t<this.moreFields.length;t++){var s=this.moreFields[t],o=this.rowKey._issue.fields[s];"number"!=typeof o&&delete this.rowKey._issue.fields[s]}}void 0!==e.value&&this.data.push(e);var l=e.rowKey._issue?e.rowKey._issue.key:e.rowKey.keyValue;this._issueKeys.indexOf(l)<0&&(this.num++,this._issueKeys.push(l))},"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports){module.exports=PivotRow;var TimesheetUtils=require("../../timesheetUtils"),PivotColumn=require("./PivotColumn")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};if("object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports)var PivotKey=require("./PivotKey");if(WorkedTimePivotStrategy.getStrategyOptions=function(e){var t={startDate:e.startDate?moment(e.startDate).toDate():null,endDate:e.endDate?moment(e.endDate).toDate():null};return e.worklogAuthors?t.worklogAuthors=e.worklogAuthors:e.user&&(t.worklogAuthors=[e.user]),e.restrictedProjects&&(t.restrictedProjects=e.restrictedProjects),t.loggedInUser=e.loggedInUser,t.groupByField=e.groupByField,t.groupByFieldObject=e.groupByFieldObject,t.categorizeByField=e.categorizeByField,t.categorizeByFieldObject=e.categorizeByFieldObject,t.orderByField=e.orderByField,t.pivotByStatus="IssueWorkedTimeByStatus"===e.pivotTableType,t.includeEmpty=e.includeEmpty,t.userInfos=e.userInfos,t},WorkedTimePivotStrategy.prototype.getEntries=function(e){for(var t=[],i=[],n=e.worklog||e.fields.worklog,r=0;r<n.worklogs.length;r++){var a=n.worklogs[r],o=new this.rowKeyClass(e,a,this.options),s=!0,l=a.workDate=TimesheetUtils.convertDate(a.started,!this.configOptions.preserveStartedTime&&a.author?a.author.timeZone:this.options.loggedInUser.timeZone);if(this.options.startDate&&(s=l>=this.options.startDate),this.options.endDate){var u=TimesheetUtils.addDays(this.options.endDate,1);s=s&&l<u}var d=!this.options.worklogAuthors||a.author&&this.options.worklogAuthors.indexOf(a.author.accountId)>=0,c=!!this.options.restrictedProjects&&this.options.restrictedProjects.indexOf(a._issue?a._issue.fields.project.key:e.fields.project.key)>=0;if(c=c&&(!a.author||a.author.accountId!==this.options.loggedInUser.accountId),s&&d&&!c){var m;if(this.options.pivotByStatus){var p=PivotKey.getStatusKeys(a,e,this.configOptions);m=new PivotEntry(o,p[0].key,a.timeSpentSeconds),m.values[p[0].key.keyValue]=p[0].timespent,m.worklog=a;for(var h=1;h<p.length;h++)m.addColumn(p[h].key,p[h].timespent)}else{var f=new this.columnKeyClass(a,e,this.options);if(this.options.includeEmpty&&e._subTasks&&(o._issue=e,a._issue&&i.indexOf(a._issue.key)<0)){i.push(a._issue.key);for(var g in a._issue.fields){var y=a._issue.fields[g];y&&"number"==typeof y&&(e.fields[g]=(e.fields[g]||0)+y)}}m=new WorkedTimePivotEntry(o,f,a)}t.push(m)}}if(!this.options.pivotByStatus&&this.options.includeEmpty&&["workeduser","workedusergroup","workeddate","workedweek","workcreated","commentfirstword","worklabel"].indexOf(this.options.groupByField)<0){var o=new this.rowKeyClass(e,null,this.options),v=function(e,i){o=TimesheetUtils.clone(o),o._issue=e;var n=new EmptyPivotEntry(o);n.value=i,t.push(n)};t.length||(o._issue=e,v(e,this.options.groupByField?{}:void 0)),e._subTasks&&e._subTasks.length>0&&e._subTasks.forEach(function(e){i.indexOf(e.key)<0&&v(e,{})})}return t},LabelPivotStrategy.getStrategyOptions=function(e){var t={startDate:e.startDate?moment(e.startDate).toDate():null,endDate:e.endDate?moment(e.endDate).toDate():null};return e.worklogAuthors?t.worklogAuthors=e.worklogAuthors:e.user&&(t.worklogAuthors=[e.user]),e.restrictedProjects&&(t.restrictedProjects=e.restrictedProjects),t.loggedInUser=e.loggedInUser,t.groupByField=e.groupByField,t.groupByFieldObject=e.groupByFieldObject,t.categorizeByField=e.categorizeByField,t.categorizeByFieldObject=e.categorizeByFieldObject,t.orderByField=e.orderByField,t.includeEmpty=e.includeEmpty,t.userInfos=e.userInfos,t},LabelPivotStrategy.prototype.getEntries=function(e){for(var t=[],i=e.worklog||e.fields.worklog,n=0;n<i.worklogs.length;n++){var r=i.worklogs[n],a=new this.rowKeyClass(e,r,this.options),o=!0,s=r.workDate=TimesheetUtils.convertDate(r.started,!this.configOptions.preserveStartedTime&&r.author?r.author.timeZone:this.options.loggedInUser.timeZone);if(this.options.startDate&&(o=s>=this.options.startDate),this.options.endDate){var l=TimesheetUtils.addDays(this.options.endDate,1);o=o&&s<l}var u=!this.options.worklogAuthors||r.author&&this.options.worklogAuthors.indexOf(r.author.accountId)>=0,d=!!this.options.restrictedProjects&&this.options.restrictedProjects.indexOf(r._issue?r._issue.fields.project.key:e.fields.project.key)>=0;if(d=d&&(!r.author||r.author.accountId!==this.options.loggedInUser.accountId),o&&u&&!d){var c,m=PivotKey.getLabelKeys(r,e,this.configOptions);c=new PivotEntry(a,m[0].key,r.timeSpentSeconds),c.values[m[0].key.keyValue]=m[0].timespent,c.worklog=r;for(var p=1;p<m.length;p++)c.addColumn(m[p].key,m[p].timespent);t.push(c)}}return t},TimeEntryStrategy.prototype.addEntry=function(e,t,i,n,r){var a=new PivotKey.Generic("TimeEntry","1started","time"),o=new PivotKey.Generic("TimeEntry","2timespent"),s=new PivotKey.Generic("TimeEntry","3action");s.showStart=TimesheetUtils.sameDay(this.options.startDate,new Date);var l=new PivotEntry(t,a,n);l.worklog=i,l.addColumn(o,r),l.addColumn(s,l),e.push(l)},TimeEntryStrategy.prototype.getEntries=function(e){for(var t=[],i=e.worklog||e.fields.worklog,n=0;n<i.worklogs.length;n++){var r=i.worklogs[n],a=new this.rowKeyClass(e,r,this.options),o=!0,s=r.workDate=TimesheetUtils.convertDate(r.started,r.author?r.author.timeZone:null);if(this.options.startDate&&(o=s>=this.options.startDate),this.options.endDate){var l=TimesheetUtils.addDays(this.options.endDate,1);o=o&&s<l}var u=!this.options.worklogAuthors||r.author&&this.options.worklogAuthors.indexOf(r.author.accountId)>=0;o&&u&&this.addEntry(t,a,r,s,r.timeSpentSeconds)}if((this.options.includeEmpty||e._inProgressIssue)&&!t.length){var a=new this.rowKeyClass(e,null,this.options);this.addEntry(t,a)}return t},IssueTimeStrategy.prototype.getEntries=function(e){for(var t=[],i=e.worklog||e.fields.worklog,n=0;n<i.worklogs.length;n++){var r=i.worklogs[n],a=new this.rowKeyClass(e,r,this.configOptions),o=!0,s=r.workDate=TimesheetUtils.convertDate(r.started,r.author?r.author.timeZone:this.options.loggedInUser.timeZone);if(this.options.startDate&&(o=s>=this.options.startDate),this.options.endDate){var l=TimesheetUtils.addDays(this.options.endDate,1);o=o&&s<l}var u=!this.options.worklogAuthors||r.author&&this.options.worklogAuthors.indexOf(r.author.accountId)>=0,d=!!this.options.restrictedProjects&&this.options.restrictedProjects.indexOf(r._issue?r._issue.fields.project.key:e.fields.project.key)>=0;if(d=d&&(!r.author||r.author.accountId!==this.options.loggedInUser.accountId),o&&u&&!d){var c=new PivotKey.Generic("TimeEntry","1started","time"),m=new PivotKey.Generic("TimeEntry","2timespent"),p=new PivotEntry(a,c,s);p.worklog=r,p.addColumn(m,r.timeSpentSeconds),t.push(p)}}return t},IssueTimeStrategy.prototype.getColumnsFunction=function(){
var e={},t=new PivotKey.Generic("TimeEntry","1started","time"),i=new PivotKey.Generic("TimeEntry","2timespent");return e[t.keyValue]=new PivotColumn(t),e[i.keyValue]=new PivotColumn(i),e},PassedTimePivotStrategy.prototype.getEntries=getElapsedTimeEntriesFn(PivotKey.getStatuses),ResolutionTimePivotStrategy.prototype.getEntries=getElapsedTimeEntriesFn(PivotKey.getResolutions),TimeTrackingStrategy.prototype.getEntries=function(e){var t=this,i=new this.rowKeyClass(e,null,this.options),n=new PivotKey.Generic("PlannedVsActual","1timeoriginalestimate"),r=new PivotKey.Generic("PlannedVsActual","12estimate"),a=new PivotKey.Generic("PlannedVsActual","2esttimeremaining"),o=new PivotKey.Generic("PlannedVsActual","3timespent"),s=new PivotKey.Generic("PlannedVsActual","4diff"),l=new PivotKey.Generic("PlannedVsActual","5originalestimateremaining","originalEstimateRemainingLozenge:jiraConfig"),u=new PivotKey.Generic("PlannedVsActual","6progress","timeTracking"),d=[],c=[];return function e(m){if(!(c.indexOf(m.id)>=0)){c.push(m.id);var p=m.fields.timeoriginalestimate||0;i=TimesheetUtils.clone(i),i._issue=m;var h,f=m.fields.timespent||0,g=m.fields.timeestimate||0,y=f+g,v=function(e,n){e.order=t.options.timeTrackingColumns.indexOf(e.keyValue),e.order<0||(h?h.addColumn(e,n):h=new PivotEntry(i,e,n))};v(n,p),v(r,y),v(a,g),v(o,f),v(s,p-y),v(l,{issue:m,value:p-f}),v(u,{estimate:g,timespent:f}),d.push(h),m._subTasks&&m._subTasks.length>0&&m._subTasks.forEach(e)}}(e),d},TimeBalanceStrategy.prototype.getEntries=function(e){var t,i,n,r,a,o=this,s=new this.rowKeyClass(e,null,this.options),l=new PivotKey.Generic("PlannedVsActual","1timeoriginalestimate"),u=new PivotKey.Generic("PlannedVsActual","12estimate"),d=new PivotKey.Generic("PlannedVsActual","2esttimeremaining"),c=new PivotKey.Generic("PlannedVsActual","3timespent"),m=new PivotKey.Generic("PlannedVsActual","4diff"),p=new PivotKey.Generic("PlannedVsActual","5originalestimateremaining","originalEstimateRemainingLozenge:jiraConfig"),h=new PivotKey.Generic("PlannedVsActual","6progress","timeTracking"),f=[],g=[],y=[],v=!1;return function e(_){var w=function(){var e,i=function(i,l){i.order=o.options.timeBalanceColumns.indexOf(i.keyValue),i.order<0||(e?e.addColumn(i,l):(s=TimesheetUtils.clone(s),o.options.sumSubTasks&&(s._issue=_),e=new PivotEntry(s,i,l),e.isTotalLast=!0,v||(e.isLast=!0,v=!0),e.worklog={author:n.author,comment:r,started:a},t&&y.indexOf(t)<0&&(e.worklog.id=t,e.worklog.ownWorklog=e.worklog.author&&e.worklog.author.accountId===o.options.loggedInUser.accountId)))};return i(c,k),i(u,O),i(m,T-O),i(l,T),i(d,A),i(p,{issue:_,value:T-k}),i(h,{estimate:A,timespent:k}),f.unshift(e),e};if(!(g.indexOf(_.id)>=0)){g.push(_.id);var T,b,k,S,A,D,O;T=_.fields.timeoriginalestimate||0,k=_.fields.timespent||0,A=_.fields.timeestimate||0,O=k+A;for(var E=_.worklog||_.fields.worklog,I=_.changelog?_.changelog:{},M=I.histories?I.histories:[],L=M.length-1;L>=0;L--){n=M[L];var P=n.items;if(a=TimesheetUtils.convertDate(n.created),!P||o.options.startDate&&a<o.options.startDate)break;var C=!1;r="";for(var x=0;x<P.length;x++){var F=P[x];t=null,i=null,"jira"===F.fieldtype&&("timeoriginalestimate"===F.field?(b=F.from,C=!0,r=r||"updated Original Estimate"):"timespent"===F.field?(S=F.from,C=!0,r=r||"updated Timespent"):"timeestimate"===F.field?(D=F.from,C=!0,r=r||"updated Estimate"):"WorklogId"===F.field&&(t=F.to,i=F.from,!t&&i&&y.push(i)))}var U=!o.options.changelogAuthors||n.author&&o.options.changelogAuthors.indexOf(n.author.accountId?n.author.accountId:n.author.name.toLowerCase())>=0;if(U&&C&&(!o.options.endDate||a<o.options.endDate)){if(t||i){var R=k-S;r=R>=0?"logged "+parseFloat((R/3600).toFixed(2)).toLocaleString()+"h":"removed "+parseFloat((-R/3600).toFixed(2)).toLocaleString()+"h"}n.author||(n.author={displayName:"Jira automatically"});var B=w();if(B.worklog.id){var Y=TimesheetUtils.findByProperty("id",B.worklog.id,E.worklogs);Y&&(B.worklog.comment+=" on "+moment(TimesheetUtils.convertDate(Y.started,!o.configOptions.preserveStartedTime&&Y.author?Y.author.timeZone:o.options.loggedInUser.timeZone)).format("DD/MMM"))}}T=null===b?0:b?parseInt(b):T,k=null===S?0:S?parseInt(S):k,A=null===D?0:D?parseInt(D):A,O=k+A}var N=_.fields.creator,W=a=TimesheetUtils.convertDate(_.fields.created);r="created",t=null,U=!o.options.changelogAuthors||N&&o.options.changelogAuthors.indexOf(N.accountId?N.accountId:N.name.toLowerCase())>=0,U&&(!o.options.startDate||W>=o.options.startDate)&&(!o.options.endDate||W<o.options.endDate)&&(n={author:N},w()),_._subTasks&&_._subTasks.length>0&&_._subTasks.forEach(function(t){e(t,_)})}}(e),f},TimespentStrategy.getStrategyOptions=function(e){var t={includeEmpty:e.includeEmpty};return e.startDate&&(t.startDate=moment(e.startDate).toDate()),e.endDate&&(t.endDate=moment(e.endDate).toDate()),e.worklogAuthors?t.worklogAuthors=e.worklogAuthors:e.user&&(t.worklogAuthors=[e.user]),e.restrictedProjects&&(t.restrictedProjects=e.restrictedProjects),t.loggedInUser=e.loggedInUser,t.groupByField=e.groupByField,t.groupByFieldObject=e.groupByFieldObject,t.categorizeByField=e.categorizeByField,t.categorizeByFieldObject=e.categorizeByFieldObject,t.orderByField=e.orderByField,t.includeEmpty=e.includeEmpty,t.userInfos=e.userInfos,t},TimespentStrategy.prototype.getEntries=function(e){for(var t,i=[],n=[],r=e.worklog||e.fields.worklog,a=new PivotKey.Generic("Timespent","3timespent"),o=0;o<r.worklogs.length;o++){var s=r.worklogs[o],l=!0,u=s.workDate=TimesheetUtils.convertDate(s.started,!this.configOptions.preserveStartedTime&&s.author?s.author.timeZone:this.options.loggedInUser.timeZone);if(this.options.startDate&&(l=u>=this.options.startDate),this.options.endDate){var d=TimesheetUtils.addDays(this.options.endDate,1);l=l&&u<d}var c=!this.options.worklogAuthors||s.author&&this.options.worklogAuthors.indexOf(s.author.accountId)>=0,m=!!this.options.restrictedProjects&&this.options.restrictedProjects.indexOf(s._issue?s._issue.fields.project.key:e.fields.project.key)>=0;if(m=m&&(!s.author||s.author.accountId!==this.options.loggedInUser.accountId),l&&c&&!m){var p=new this.rowKeyClass(e,s,this.options);if(this.options.includeEmpty&&e._subTasks&&(p._issue=e,s._issue&&n.indexOf(s._issue.key)<0)){n.push(s._issue.key);for(var h in s._issue.fields){var f=s._issue.fields[h];f&&"number"==typeof f&&(e.fields[h]=(e.fields[h]||0)+f)}}t=new WorkedTimePivotEntry(p,a,s),i.push(t)}}if(this.options.includeEmpty&&["workeduser","workedusergroup","workeddate","workcreated","workedweek","commentfirstword","worklabel"].indexOf(this.options.groupByField)<0){var p=new this.rowKeyClass(e,null,this.options),g=function(e,n){p=TimesheetUtils.clone(p),p._issue=e,t=new WorkedTimePivotEntry(p,a,null),t.value=n,i.push(t)};i.length||(p._issue=e,g(e,this.options.groupByField?{}:void 0)),e._subTasks&&e._subTasks.length>0&&e._subTasks.forEach(function(e){n.indexOf(e.key)<0&&g(e,{})})}return i},CostStrategy.prototype.getEntries=function(e){for(var t,i,n=TimespentStrategy.prototype.getEntries.call(this,e),r=new PivotKey.Generic("Cost","7cost","currency:$parent.currencySymbol"),a=0;a<n.length;a++)t=n[a],i=this.options.hourlyRates&&t.worklog&&Math.round(t.value/36)/100*this.getRate(t.worklog),t.addColumn(r,i);return n},CalendarStrategy.prototype.getEntries=function(e){for(var t,i=[],n=e.worklog||e.fields.worklog,r=0;r<n.worklogs.length;r++){var a=n.worklogs[r],o=!0,s=a.workDate=TimesheetUtils.convertDate(a.started,!this.configOptions.preserveStartedTime&&a.author?a.author.timeZone:this.options.loggedInUser.timeZone);if(this.options.startDate&&(o=s>=this.options.startDate),this.options.endDate){var l=TimesheetUtils.addDays(this.options.endDate,1);o=o&&s<l}var u=!this.options.worklogAuthors||a.author&&this.options.worklogAuthors.indexOf(a.author.accountId)>=0,d=!!this.options.restrictedProjects&&this.options.restrictedProjects.indexOf(a._issue?a._issue.fields.project.key:e.fields.project.key)>=0;if(d=d&&(!a.author||a.author.accountId!==this.options.loggedInUser.accountId),o&&u&&!d){var c=new this.rowKeyClass(e,a,this.options),m=moment(s).diff(moment(TimesheetUtils.getPrevMonday(s,this.options.reportingDay)),"days"),p=new PivotKey.Generic("Calendar",TimesheetUtils.normalizeNumber(m));p.isToday=TimesheetUtils.sameDay(s,new Date),t=new WorkedTimePivotEntry(c,p,a),i.push(t)}}return i},CalendarStrategy.prototype.getColumnsFunction=function(e){for(var t={},i=TimesheetUtils.getPrevMonday(e||new Date,this.options.reportingDay),n=0;n<7;n++){var r=new PivotKey.Generic("Calendar",TimesheetUtils.normalizeNumber(n));r.isWeekend=TimesheetUtils.isWeekend(i,this.configOptions),e&&(r.isToday=TimesheetUtils.sameDay(i,new Date)),r.day=TimesheetUtils.normalizeNumber(i.getDay()),t[r.keyValue]=new PivotColumn(r),i=TimesheetUtils.addDays(i,1)}return t},"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports){var TimesheetUtils=require("../../timesheetUtils"),moment=require("moment-timezone"),PivotEntryModule=require("./PivotEntry"),PivotEntry=PivotEntryModule.PivotEntry,WorkedTimePivotEntry=PivotEntryModule.WorkedTimePivotEntry,EmptyPivotEntry=PivotEntryModule.EmptyPivotEntry;module.exports.WorkedTimePivotStrategy=WorkedTimePivotStrategy,module.exports.TimeEntryStrategy=TimeEntryStrategy,module.exports.IssueTimeStrategy=IssueTimeStrategy,module.exports.PassedTimePivotStrategy=PassedTimePivotStrategy,module.exports.ResolutionTimePivotStrategy=ResolutionTimePivotStrategy,module.exports.TimeTrackingStrategy=TimeTrackingStrategy,module.exports.TimeBalanceStrategy=TimeBalanceStrategy,module.exports.TimespentStrategy=TimespentStrategy,module.exports.LabelPivotStrategy=LabelPivotStrategy,module.exports.CalendarStrategy=CalendarStrategy}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};PivotTable.prototype.sortedColumns=function(){return null==this._sortedColumns&&(this._sortedColumns=TimesheetUtils.objectValues(this.totals),this.pivotStrategy.columnKeyClass&&this.pivotStrategy.columnKeyClass.hasOwnProperty("comparator")&&TimesheetUtils.sortByProperty(this._sortedColumns,"columnKey",!1,this.pivotStrategy.columnKeyClass.comparator)),this._sortedColumns},PivotTable.prototype.sortedRows=function(){if(null==this._sortedRows){var e=Object.keys(this.rows);if(this.pivotStrategy.options.orderByField&&this.pivotStrategy.rowKeyClass.hasOwnProperty("getRowComparator")){var t=TimesheetUtils.objectValues(this.rows);t.sort(this.pivotStrategy.rowKeyClass.getRowComparator(this.pivotStrategy.options.orderByField)),e=t.map(function(e){return e.rowKey.keyValue})}else this.pivotStrategy.rowKeyClass.hasOwnProperty("comparator")&&e.sort(this.pivotStrategy.rowKeyClass.comparator);if(this.fieldTotals={},this._sortedRows=e.map(function(e){var t=this.rows[e];if(this.pivotStrategy.rowKeyClass.hasOwnProperty("dataComparator")&&t.data.sort(this.pivotStrategy.rowKeyClass.dataComparator),"object"===_typeof(t.rowKey)&&!t.categoryRow){var i=t.rowKey._issue||t.rowKey.issue||t.rowKey.field;for(var n in i.fields){var r=i.fields[n];r&&"number"==typeof r&&(this.fieldTotals[n]=this.fieldTotals[n]||0,this.fieldTotals[n]+=r)}}return t},this),!this.pivotStrategy.options.showWeekends)for(var i in this.totals)if(this.totals[i].columnKey.isWeekend&&!this.totals[i].sum){delete this.totals[i];for(var n=0;n<this._sortedRows.length;n++)delete this._sortedRows[n].columns[i];for(var n=0;n<this._sortedColumns.length;n++)this._sortedColumns[n].columnKey.keyValue==i&&this._sortedColumns.splice(n,1)}}return this._sortedRows},PivotTable.prototype.addEntry=function(e){var t=this.pivotStrategy.pivotRowType||PivotRow,i=this;TimesheetUtils.getOrCreate(this.rows,e.rowKey,t,function(){i.pivotStrategy.getColumnsFunction&&(this.columns=i.pivotStrategy.getColumnsFunction(e.worklog&&new Date(e.worklog.started))),this.moreFields=i.moreFields}).add(e);for(var n=0;n<e.columnKeys.length;n++){var r=e.columnKeys[n],a=e.values[r.keyValue];TimesheetUtils.getOrCreate(this.totals,r,PivotColumn,function(){this.isTotalColumn=!0}).add(e,a)}"number"==typeof e.value&&(this.sum+=e.value),this._sortedRows=null},PivotTable.prototype.add=function(e){var t=this.pivotStrategy.getEntries(e);t.length>0&&this.num++;for(var i in t){var n=t[i];this.addEntry(n),this.detailsNum+=n.columnKeys.length}return t};var PivotTableFactory={};if(PivotTableFactory.createPivotTable=function(e,t){var i,n=e.groupByField,r=function(e,t,i,n){return t?new e(PivotKey.GroupByField,i,n):new e(PivotKey.Issue,i,n)};switch(PivotTableType[e.pivotTableType]){case PivotTableType.PieChart:case PivotTableType.IssueWorkedTimeByUser:i=r(WorkedTimePivotStrategy,n,PivotKey.User,e);break;case PivotTableType.IssueWorkedTimeByStatus:i=r(WorkedTimePivotStrategy,n,PivotKey.Status,e);break;case PivotTableType.IssueWorkedTimeByLabel:i=r(LabelPivotStrategy,n,PivotKey.Generic,e);break;case PivotTableType.IssuePassedTimeByStatus:i=r(PassedTimePivotStrategy,n,PivotKey.Status,e);break;case PivotTableType.IssuePassedTimeByResolution:i=r(ResolutionTimePivotStrategy,n,PivotKey.Status,e);break;case PivotTableType.TimeTracking:i=r(TimeTrackingStrategy,n,PivotKey.Generic,e);break;case PivotTableType.Timesheet:var a=e.monthView,o=a?PivotKey.WeekOfTheYear:PivotKey.DayOfTheWeek,s=this.createPivotKey(e,o);i=r(TimesheetStrategy,n,s,e);break;case PivotTableType.Timespent:i=r(TimespentStrategy,n,PivotKey.Generic,e);break;case PivotTableType.CostReport:i=r(CostStrategy,n,PivotKey.Generic,e);break;case PivotTableType.TimeEntry:i=new TimeEntryStrategy(PivotKey.Issue,e);break;case PivotTableType.TimeBalance:i=r(TimeBalanceStrategy,n,PivotKey.Generic,e);break;case PivotTableType.Calendar:i=r(CalendarStrategy,"workedweek",PivotKey.Generic,e);break;default:if("IssueTime"===e.pivotTableType)i=new IssueTimeStrategy(PivotKey.Issue,e);else{if("IssueTimeBalance"!==e.pivotTableType)throw new Error("Unknown PivotTableType "+e.pivotTableType);i=new TimeBalanceStrategy(PivotKey.Issue,PivotKey.Generic,e)}}var l=new PivotTable(i,t);return l.moreFields=e.moreFields,l},PivotTableFactory.createPivotKey=function(e,t){var i=t;if(null!=e)switch(e.sum){case"month":i=PivotKey.MonthOfTheYear;break;case"week":i=PivotKey.WeekOfTheYear;break;case"day":i=PivotKey.DayOfTheWeek}return i},"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports){module.exports=PivotTableFactory;var PivotKey=require("./PivotKey"),PivotRow=require("./PivotRow"),PivotColumn=require("./PivotColumn"),TimesheetStrategy=require("./TimesheetStrategy"),PivotStrategy=require("./PivotStrategy"),PivotTableType=require("./PivotTableType"),WorkedTimePivotStrategy=PivotStrategy.WorkedTimePivotStrategy,TimeEntryStrategy=PivotStrategy.TimeEntryStrategy,IssueTimeStrategy=PivotStrategy.IssueTimeStrategy,PassedTimePivotStrategy=PivotStrategy.PassedTimePivotStrategy,ResolutionTimePivotStrategy=PivotStrategy.ResolutionTimePivotStrategy,TimeTrackingStrategy=PivotStrategy.TimeTrackingStrategy,TimeBalanceStrategy=PivotStrategy.TimeBalanceStrategy,TimespentStrategy=PivotStrategy.TimespentStrategy,LabelPivotStrategy=PivotStrategy.LabelPivotStrategy,CostStrategy=PivotStrategy.CostStrategy,TimesheetUtils=require("../../timesheetUtils")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PivotTableType={TimeEntry:0,Timesheet:1,Calendar:1.5,Timespent:2,IssueWorkedTimeByUser:3,IssueWorkedTimeByStatus:4,IssueWorkedTimeByLabel:4.5,TimeTracking:5,PieChart:6,IssuePassedTimeByStatus:7,IssuePassedTimeByResolution:7.5,TimeBalance:8,CostReport:9};"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports=PivotTableType);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};if(TimesheetStrategy.getStrategyOptions=function(e){var t=e.monthView,i=e.endDate?TimesheetUtils.addDays(e.endDate,-6):TimesheetUtils.getLastMondayDate(e.reportingDay),n=e.startDate?moment(e.startDate).toDate():t?TimesheetUtils.addDays(i,-21):i,r=e.endDate?moment(e.endDate).toDate():t?TimesheetUtils.addDays(n,27):TimesheetUtils.addDays(n,6),a={startDate:n,endDate:r};return e.worklogAuthors?a.worklogAuthors=e.worklogAuthors:e.user&&(a.worklogAuthors=[e.user]),e.restrictedProjects&&(a.restrictedProjects=e.restrictedProjects),a.loggedInUser=e.loggedInUser,a.monthView=e.monthView,a.sum=e.sum,a.includeEmpty=e.includeEmpty,a.reportingDay=e.reportingDay,a.showWeekends=e.showWeekends,a.groupByField=e.groupByField,a.groupByFieldObject=e.groupByFieldObject,a.categorizeByField=e.categorizeByField,a.categorizeByFieldObject=e.categorizeByFieldObject,a.orderByField=e.orderByField,a.userInfos=e.userInfos,a.configOptions=e.configOptions,a},TimesheetStrategy.prototype.getEntries=function(e){for(var t=[],i=e.worklog||e.fields.worklog,n=0;n<i.worklogs.length;n++){var r=i.worklogs[n],a=r.workDate=TimesheetUtils.convertDate(r.started,!this.configOptions.preserveStartedTime&&r.author?r.author.timeZone:this.options.loggedInUser.timeZone),o=TimesheetUtils.addDays(this.options.endDate,1);if(a>=this.options.startDate&&a<o){var s=!this.options.worklogAuthors||r.author&&this.options.worklogAuthors.indexOf(r.author.accountId)>=0,l=!!this.options.restrictedProjects&&this.options.restrictedProjects.indexOf(r._issue?r._issue.fields.project.key:e.fields.project.key)>=0;if(l=l&&(!r.author||r.author.accountId!==this.options.loggedInUser.accountId),s&&!l){var u=new this.rowKeyClass(e,r,this.options);if(this.options.includeEmpty&&e._subTasks&&(u._issue=e,e.nonEmptySubtasks||(e.nonEmptySubtasks=[]),r._issue&&e.nonEmptySubtasks.indexOf(r._issue.key)<0)){e.nonEmptySubtasks.push(r._issue.key);for(var d in r._issue.fields){var c=r._issue.fields[d];c&&"number"==typeof c&&(e.fields["original_"+d]||(e.fields["original_"+d]=e.fields[d]),e.fields[d]=(e.fields[d]||0)+c)}}var m=new this.columnKeyClass(a,this.options),p=new WorkedTimePivotEntry(u,m,r);t.push(p)}}}if((this.options.includeEmpty||e._inProgressIssue)&&["workeduser","workedusergroup","workeddate","workedweek","workcreated","commentfirstword","worklabel"].indexOf(this.options.groupByField)<0){var u=new this.rowKeyClass(e,null,this.options),h=function(e,i){u=TimesheetUtils.clone(u),u._issue=e;var n=new EmptyPivotEntry(u);n.value=i,t.push(n)};t.length||(u._issue=e,h(e,this.options.groupByField?{}:void 0)),e._subTasks&&e._subTasks.length>0&&e._subTasks.forEach(function(t){(!e.nonEmptySubtasks||e.nonEmptySubtasks.indexOf(t.key)<0)&&h(t,{})})}return t},TimesheetStrategy.prototype.getColumnsFunction=function(){if(!this.columnsTemplate){var e;switch(this.options.sum){case"month":e=this.getYearColumns;break;case"week":e=this.getMonthColumns;break;case"day":e=this.getWeekColumns;break;default:e=this.options.monthView?this.getMonthColumns:this.getWeekColumns}this.columnsTemplate=e.apply(this,this.options,this.configOptions)}return TimesheetUtils.clone(this.columnsTemplate)},TimesheetStrategy.prototype.getYearColumns=function(){return this.getColumns(TimesheetUtils.getMonthForYear)},TimesheetStrategy.prototype.getMonthColumns=function(){return this.getColumns(TimesheetUtils.getWeeksForMonth)},TimesheetStrategy.prototype.getWeekColumns=function(){return this.getColumns(TimesheetUtils.getDatesForWeek)},TimesheetStrategy.prototype.getDayColumns=function(){return this.getColumns(TimesheetUtils.getHoursForDay)},TimesheetStrategy.prototype.getColumns=function(e){return e(this.options,this.configOptions).map(function(e){var t=new this.columnKeyClass(moment(e.date).toDate(),this.options);return t.isToday=e.isToday,t.isWeekend=e.isWeekend,t.firstDate=e.firstDate,t.lastDate=e.lastDate,t.workingDays=e.workingDays,t},this).reduce(function(e,t){return e[t.keyValue]=new PivotColumn(t),e},{})},"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports){module.exports=TimesheetStrategy;var TimesheetUtils=require("../../timesheetUtils"),moment=require("moment-timezone"),PivotColumn=require("./PivotColumn"),PivotEntryModule=require("./PivotEntry"),WorkedTimePivotEntry=PivotEntryModule.WorkedTimePivotEntry,EmptyPivotEntry=PivotEntryModule.EmptyPivotEntry}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};TimesheetSelectOptions.prototype.getOptions=function(){var e=this.options,t={};if(this.sections){e=[];for(var i=0;i<this.options.length;i++){var n=this.options[i],r=n.section||n.id.split("_")[0];if(!t.hasOwnProperty(r)){var a=t[r]={label:this.sections[r],children:[]};e.push(a)}t[r].children.push(n)}}return e},TimesheetSelectOptions.prototype.addOption=function(e,t,i,n){var r=new this.optionClass(e,t,n);return i?this.options.unshift(r):this.options.push(r),this},TimesheetSelectOptions.prototype.findOption=function(e,t){for(var i=0;i<this.options.length;i++)if(this.options[i].isOption(e,t))return this.options[i];return null},TimesheetSelectOptions.prototype.sort=function(e){TimesheetUtils.sortByProperty(this.options,this.sortableProperty,e)},TimesheetGeneralOption.prototype.isOption=function(e,t){return t?this.label===e:this.id===e},"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports.TimesheetSelectOptions=TimesheetSelectOptions,module.exports.TimesheetGeneralOption=TimesheetGeneralOption);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};app.factory("flightRecorder",["$http","$q","configurationService","loggedInUser","projectKey","applicationLoggingService","pivottableService",function(e,t,i,n,r,a,o){var s=function(){return moment(new Date).format("YYYY-MMM-DD_HH-mm-ss")+".txt"};this.enabled=!1,this.supportData={},this.fileName=null;var l=t.defer(),u=this;n.then(function(e){u.loggedInUser=e,t.all([i.getUserPreferences(e),i.getConfiguration()]).then(function(e){u.userPreferences=e[0],u.config=e[1],l.resolve(u)})}),r.then(function(e){u.projectKey=e});var d=window.RA||window.AP,c=d.request;return this.setEnabled=function(e){this.enabled=e,e?(u.startFile(),d.request=function(e){c(u.wrapRequest(e))}):(d.request=c,u.supportData={})},this.startFile=function(){for(this.fileName=s();this.supportData.hasOwnProperty(this.fileName);)this.fileName=s();this.supportData[this.fileName]=[]},this.cookie=function(e){this.enabled&&(this.cookies=angular.copy(e))},this.wrapRequest=function(e){var t={action:"rest",request:{url:e.url,data:e.data}},i=e.success,n=e.error;return e.success=function(e){t.response=e,u.supportData[u.fileName].push(t),i(e)},e.error=function(e){t.error=e,u.supportData[u.fileName].push(t),n(e,null,null)},e},this.stringify=function(e){return"object"===(void 0===e?"undefined":_typeof(e))?JSON.stringify(e):"'"+(e||"").replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},this.generateJs=function(){var e="//"+window.deployedDate+"\n";if(e+="AJS = window.AJS || {$: window.$};\n",e+="window.isTimesheet = true;\n",this.config.cacheWorklog&&this.config.cacheWorklog.val&&o.allIssues){var t=window.localStorage.getItem("updatedSince");t&&(e+='window.localStorage.setItem("updatedSince", '+t+");\n");var i=window.localStorage.getItem("deletedSince");i&&(e+='window.localStorage.setItem("deletedSince", '+i+");\n");var n=function(t,i){i&&(e+='window.localStorage.setItem("'+t+'", LZString.compressToUTF16('+u.stringify(LZString.decompressFromUTF16(i))+"));\n")};o.allIssues.forEach(function(e){var t="i"+e.id,i=window.localStorage.getItem(t);if(n(t,i),e._subTaskIds)for(var r=0;r<e._subTaskIds.length;r++)t="i"+e._subTaskIds[r],i=window.localStorage.getItem(t),n(t,i)})}e+="AP = {\n",e+="  flag: {\n",e+="      create: function () {\n",e+="          debugger;\n",e+="      }\n",e+="  },\n",e+="  events: {onPublic: _ => {}, on: _ => {}, offAll: _ => {}},\n",e+="  user: {\n",e+="    getLocale: function (callback) {\n",e+="      setTimeout(function() {\n",e+="        callback('"+this.loggedInUser.locale+"')\n",e+="      });\n",e+="    }\n",e+="  },\n",e+="  getLocation: function (callback) {\n",e+="    setTimeout(function () {\n",e+="      callback('"+a.baseUrl+(this.projectKey?"/?project.key="+this.projectKey:"")+"#!"+$.param(this.routeParams).replace(/'/g,"\\'")+"');\n",e+="    });\n",e+="  },\n",e+="  context: {\n",e+="    getContext: function (callback) {\n",e+="      setTimeout(function() {\n",e+="        callback({license: {active: true}});\n",e+="      });\n",e+="    },\n",e+="    getToken: function (callback) {\n",e+="      setTimeout(function() {\n",e+="        callback('');\n",e+="      });\n",e+="    }\n",e+="  },\n",e+="  request: function(options) {\n",e+="    setTimeout(function() {\n",e+='      if (options.url == "/rest/api/2/myself?expand=groups") {\n',e+="        options.success("+JSON.stringify(this.loggedInUser)+");\n",e+='      } else if (options.url == "/rest/atlassian-connect/1/addons/jira-timesheet-plugin") {\n',e+="        options.success("+JSON.stringify(a.license)+");\n",e+='      } else if (options.url == "/rest/atlassian-connect/1/addons/jira-timesheet-plugin/properties/") {\n',e+="        options.success({keys: [{key: 'configuration'}, {key: 'preferences4"+this.loggedInUser.accountId+"'}]});\n",e+='      } else if (options.url == "/rest/atlassian-connect/1/addons/jira-timesheet-plugin/properties/configuration") {\n';var r={};for(var s in this.config)r[s]=this.config[s].val;e+="        options.success({value: "+JSON.stringify(r)+"});\n",e+='      } else if (options.url == "/rest/atlassian-connect/1/addons/jira-timesheet-plugin/properties/preferences4'+this.loggedInUser.accountId+'") {\n';var l={};for(var s in this.userPreferences)l[s]=this.userPreferences[s].val;e+="        options.success({value: "+JSON.stringify(l)+"});\n";for(var d=u.supportData[Object.keys(u.supportData)[0]],c=0;c<d.length;c++){var m=d[c];"rest"===m.action&&(e+='      } else if (options.url == "'+m.request.url+'") {\n',m.error?e+="        options.error("+this.stringify(m.error)+");\n":e+="        options.success("+this.stringify(m.response)+");\n")}return e+="      } else if (options.url.match(/rest\\/api\\/2\\/worklog\\/.+?since=/)) {\n",e+='        options.success(\'{"values": [], "until": 9000000000000,"lastPage": true}\');\n',e+="      } else if (m = options.url.match(//addons/timereports$/)) {\n",e+="        options.success({});\n",e+="      } else if (m = options.url.match(//serverInfo$/)) {\n",e+="        options.success({baseUrl: 'https://timereports.atlassian.net'});\n",e+="      } else {\n",e+='        throw new Error("Not recorded: " + options.url);\n',e+="      }\n",e+="    });\n",e+="  },\n",e+="  resize: function() {\n",e+="  },\n",e+="  messages: {\n",e+="    error: function() {\n",e+="      console.log.apply(console, arguments);\n",e+="    }\n",e+="  },\n",e+="  cookie: {\n",e+="    read: function(name, callback) {\n",e+="      callback("+JSON.stringify(this.cookies)+");\n",e+="    }\n",e+="  },\n",e+="  history: {\n",e+="    pushState: function(state) {\n",e+="      console.log('history state', state);\n",e+="    }\n",e+="  },\n",e+="  inlineDialog: {\n",e+="    hide: function(state) {\n",e+="    }\n",e+="  },\n",e+="  require: function(what, callback) {\n",e+='    throw new Error("Not implemented: " + what);\n',e+="  }\n",e+="}",e.replace(/timereports\/timereports/g,"jira-timesheet-plugin/timereports").replace(/addons\/timereports/g,"addons/jira-timesheet-plugin")},this.zipBlob=function(){var e=new JSZip,t=this.generateJs();return e.file(this.fileName,t),e.generateAsync({type:"blob"})},this.sendEmail=function(i,n,r,a,o,s){return(i?u.zipBlob():t.resolve()).then(function(t){var i=new FormData;t&&i.append("supportData",t,"supportData.zi_"),i.append("replyTo",n),i.append("title",r);var l=a||"";return s&&(l+="\n--\n"+JSON.stringify(s).replace(/\\n/g,"\n")),i.append("content",l),o&&i.append("screenshot",o,"screen.png"),e.post(window.mailerUrl,i,{transformRequest:angular.identity,headers:{"Content-Type":void 0}})})},l.promise}]),app.service("jobService",["$q","$http",function(e,t){this.data={};var i=function(e){return"jobs4"+e.accountId};this.getJobs=function(n){var r=this,a=e.defer();return Object.keys(r.data).length?a.resolve(r.data.jobs):t.get("/api/configuration/"+i(n)).then(function(e){var t=e.data;r.data.config=t||{},a.resolve(r.data.config)}),a.promise},this.saveJob=function(n,r){var a=e.defer(),o=this;return t.get("/api/configuration/"+i(r)).then(function(e){var s=e.data,l=angular.copy(n);if(s){var u=s.val;if(n.jobId){var d=o.indexById(n.jobId,u);d>=0?u.splice(d,1,l):u.push(l)}else{var c=u[u.length-1];l.jobId=c.jobId+1,u.push(l)}t.put("/api/configuration/"+s.id,s).then(function(e){var t=e.data;angular.copy(t,o.data.config),a.resolve(l)})}else l.jobId=1,s={key:i(r),val:[l]},t.post("/api/configuration/",s).then(function(e){var t=e.data;angular.copy(t,o.data.config),a.resolve(l)})}),a.promise},this.removeJob=function(n,r){var a=e.defer(),o=this;return t.get("/api/configuration/"+i(r)).then(function(e){var i=e.data;if(i){var r=i.val,s=o.indexById(n,r);r.splice(s,1),r.length>0?(i.val=r,t.put("/api/configuration/"+i.id,i).then(function(e){var t=e.data;angular.copy(t,o.data.config),a.resolve(o.data.config)})):t.delete("/api/configuration/"+i.id).then(function(){angular.copy({},o.data.config),a.resolve(o.data.config)})}else a.resolve(o.data.config)}),a.promise},this.indexById=function(e,t){return TimesheetUtils.indexByProperty("jobId",e,t)},this.resetState=function(){delete this.data.config}}]);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};app.service("pivottableService",["$q","$timeout","$interval","$http","applicationLoggingService","configurationService","$log",function(e,t,i,n,r,a,o){var s=this,l=window.RA||window.AP;this.permissions={},this.userGroups={},this.userInfos={},this.worklogAuthors=[],this.changelogAuthors=[],this.epicFields={},this.epicFieldsMap={},this.workLabels={},this.issueWorklogPromises=[],this.issueChangelogPromises=[],this.findIssueByKeyPromises=[],this.getPermissionsPromises=[],this.onAllIssuesPromises=[],this.createWorklogPromise=e.resolve(),this.getUserInfoPromises=[],this.$restrictedProjects={},this.restrictedProjects=[],r._=Date.now(),this.getPivotTable=function(n,a){var o=function(){var e=function(e,t,i){var n=0;for(var r in e){var o=e[r],s=a.groupByField||i?o.entries.map(function(e){return!a.groupByField||t.categoryRow||i?e.rowKey.keyValue:e.worklog&&e.worklog.issueId||e.rowKey._issue&&e.rowKey._issue.id}).reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]).length:o.detailsNum;o.avg=(o.sum||0)/(s||1),o.sum&&n++}t.avg=(t.sum||0)/(n||1)};!function(){"Calendar"===a.pivotTableType&&TimesheetUtils.getWeeksForMonth(a).map(function(e){TimesheetUtils.getOrCreate(d.rows,{keyValue:moment(e.date).format("YYYYMMDD"),issue:{},field:{startDate:e.date,weekNumber:TimesheetUtils.getNormalizedWeekNumber(e.date)}},PivotRow,function(){this.columns=d.pivotStrategy.getColumnsFunction(e.date)})})}(),function(){var e=function(e,t){e.sum>t?(e.color=a.configOptions.workOverLimitColor,e.title="+"+DrawHelper.getFormattedTime(e.sum-t,a.jiraConfig)):e.sum<t&&(e.color=a.configOptions.workUnderLimitColor,e.title="-"+DrawHelper.getFormattedTime(t-e.sum,a.jiraConfig))};if("Timesheet"===a.pivotTableType&&(a.user||"workeduser"===a.groupByField&&!a.categorizeByField)&&(a.configOptions.workUnderLimitColor||a.configOptions.workOverLimitColor)){
var t=60*a.jiraConfig.workingHoursPerDay*60,i=Object.keys(d.rows),n=Object.keys(d.totals),r=0,o="workeduser"===a.groupByField?i.length:1;for(var s in n){var l=d.totals[n[s]];r+=l.columnKey.workingDays,e(l,t*l.columnKey.workingDays*o)}if("workeduser"===a.groupByField)for(var u in i){var c=d.rows[i[u]],m=Object.keys(c.columns);e(c,t*r);for(var p in m){var h=c.columns[m[p]];e(h,t*h.columnKey.workingDays)}}e(d,t*r*o)}}(),function(){if(a.categorizeByField&&a.configOptions.showCategoryRow&&"PieChart"!==a.pivotTableType){var e=Object.keys(d.rows);for(var t in e){var i=d.rows[e[t]],n=i.rowKey._project,r=d.rows[n];if(r){r.detailsNum+=i.detailsNum,r.sum+=i.sum,Array.prototype.push.apply(r.data,i.data);for(var o in i.columns)r.columns[o]?(r.columns[o].detailsNum+=i.columns[o].detailsNum,r.columns[o].sum+=i.columns[o].sum,Array.prototype.push.apply(r.columns[o].entries,i.columns[o].entries)):r.columns[o]=TimesheetUtils.clone(i.columns[o]);if(r.rowKey._issue){var s=r.rowKey._issue.fields;for(var l in i.rowKey._issue.fields){var u=i.rowKey._issue.fields[l];u&&"number"==typeof u&&(s[l]=s[l]||0,s[l]+=u)}}for(var c=0;c<i._issueKeys.length;c++)r._issueKeys.indexOf(i._issueKeys[c])<0&&(r.num++,r._issueKeys.push(i._issueKeys[c]))}else{var m=TimesheetUtils.clone(i);m.categoryRow=!0,m.rowKey.keyValue=n,m.rowKey.keyName="categoryrow",m.rowKey.field={name:""},m.rowKey._field="",d.rows[n]=m}}}}(),function(){if(a.configOptions.showDetailsCount){for(var t in d.rows)e(d.rows[t].columns,d.rows[t]);e(d.totals,d,"totalRow")}}()};if(this.loggedInUser=n,this.needUserInfos=[a.groupByField,a.categorizeByField].indexOf("workedusergroup")>=0||a.configOptions.tempoToken,a.configOptions.restrictedGroups){var s=!a.groups||a.groups.filter(function(e){return TimesheetUtils.findByProperty("name",e,n.groups.items)}).length>0;a.groups=a.restrictedGroups=a.configOptions.restrictedGroups.filter(function(e){return(!a.groups||a.groups.indexOf(e)>=0)&&TimesheetUtils.findByProperty("name",e,n.groups.items)}),a.groups.length||(a.groups=null,a.username===n.accountId&&(a.restrictedGroups=null),a.username=a.user=!a.username&&s||a.username===n.accountId?n.accountId:"noSuchUser")}(a.groups||a.excludeGroups)&&(a.worklogAuthors=this.worklogAuthors,a.changelogAuthors=this.changelogAuthors),a.configOptions.auditorsRoles&&(a.restrictedProjects=this.restrictedProjects,a.loggedInUser=n),a.userInfos=this.userInfos;var l=this,d=PivotTableFactory.createPivotTable(a,r),c=e.defer(),m=["IssueTime","IssueTimeBalance"].indexOf(a.pivotTableType)>=0;if(m&&!this.allIssues)this.allIssues=[],"IssueTime"===a.pivotTableType?(a._fields="project,issuetype,resolution,summary,priority,status,parent,issuelinks,worklog",this.findIssueByKey(a.issueKey,a).then(function(t){l.loadAllWorklogs(t,e.defer(),a).promise.then(function(){l.addIssue(d,t),c.resolve(d)})})):(a._fields="created,"+this.timeFields.join(","),this.findIssueByKey(a.issueKey,a).then(function(e){l.loadAllChangelogs(e,a).promise.then(function(e){l.addIssue(d,e),c.resolve(d)})}));else if(!m&&this.checkAndUpdateOptions(a)){d.queue={},d.queueToAdd=[],d.matches={},(this.groups||this.excludeGroups||this.needUserInfos)&&(this.userGroups[n.accountId]=e.resolve(n),this.needUserInfos&&(this.userInfos[n.accountId]=n),(this.groups||this.excludeGroups)&&(this.initWorklogAuthors(angular.copy(n)),"TimeBalance"===a.pivotTableType&&this.initChangelogAuthors(angular.copy(n))));var p,h=function(){if(u(a)){var t="jql="+encodeURIComponent(a.configOptions.inProgressIssuesJql)+"&fields="+a._fields;return l.onAllIssues(t,function(t){var i=function(e){d.rows.hasOwnProperty(e.key)||(e.fields.worklog={total:0,maxResults:0,worklogs:[]},e._inProgressIssue=!0,l.addIssue(d,e))};return e.all(t.issues.map(function(e){if(a.sumSubTasks){var t=l.getParentIssue(d,e,a);if(t.hasOwnProperty("promise"))return l.onParentIssue(d,e,a,t,[],i);i(e)}else i(e)}))}).catch(function(){})}return e.resolve()},f=0,g=0,y=i(function(){p?i.cancel(y):c.notify(++g/250)},250,0,!1);this.onAllIssues(this.getQuery(d,a),function(e){return p||(g=e.total||1,p=function(){c.notify(++f/g)}),l.processIssues(d,a,e,p)}).then(function(t){if(!l.cancel(c)){var i=t.reduce(function(e,t){return e.concat(t)});e.all(i).then(function(){l.cancel(c)||(angular.forEach(d.queueToAdd,function(e){l.addIssue(d,e)}),h().then(function(){o(),c.resolve(d)}))},c.reject)}},function(e){i.cancel(y),c.reject(e)})}else{a.queue&&(d.queue=a.queue),a.queueToAdd&&(d.queueToAdd=a.queueToAdd),a.matches&&(d.matches=a.matches);for(var v in this.allIssues)d.add(this.allIssues[v]);o(),"PieChart"===a.pivotTableType?t(function(){c.resolve(d)}):c.resolve(d)}return c.promise},this.cancel=function(e){return this._cancel&&e?(e.reject("cancelled"),this._cancel=!1,!0):(e||(this._cancel=!0),!1)};var u=function(e){return["TimeEntry","Timesheet"].indexOf(e.pivotTableType)>=0&&TimesheetUtils.isCurrentWeek(e.startDate,e.endDate)&&!e.groupByField&&e.configOptions.inProgressIssuesJql};this.getUpdatedIssues=function(t){var i=this,n=TimesheetUtils.getSearchQueryBuilder(t);n.addQuery("updated",TimesheetUtils.formatDateForSearch(t.startDate)," >= ");var r=this.addDays(t.startDate,1);n.addQuery("updated",r," < ");var a=n.build()+" order by updated asc",o="jql="+a+"&fields="+t._fields+",created,creator,comment&expand=changelog";return this.onAllIssues(o,function(n){return e.all(n.issues.map(function(n){return i.havePermissions(["WORK_ON_ISSUES","EDIT_OWN_WORKLOGS","DELETE_OWN_WORKLOGS","EDIT_ALL_WORKLOGS","DELETE_ALL_WORKLOGS"],"issuekey="+n.key).then(function(r){if(r[0]){var a=i.loadAllWorklogs(n,null,t).promise,o=i.loadAllChangelogs(n,t).promise;return e.all([a,o]).then(function(){return n})}return null})}))})},this.getWorkedIssues=function(t){var i=this,n=new TimesheetUtils.queryBuilder(" and ");n.addQuery("worklogDate",TimesheetUtils.formatDateForSearch(t.startDate)," >= "),n.addQuery("worklogDate",TimesheetUtils.formatDateForSearch(t.endDate)," < "),n.addQuery("worklogAuthor",d(t.username)," = ");var r=n.build(),a="jql="+r+"&fields=worklog";return this.onAllIssues(a,function(n){return e.all(n.issues.map(function(e){var n=i.loadAllWorklogs(e,null,t,"doNotFilter");return n.hasOwnProperty("promise")?n.promise:n}))})},this.onAllIssues=function(t,i){var n=this.onAllIssuesPromises,r=n.length<10?0:n[n.length-10],a=this,o=e.when(r).then(function(){return a.onAllIssuesDelayed(t,i)});return n.push(o),o},this.onAllIssuesDelayed=function(t,i){var n=(t?"&":"")+"startAt=",r=e.defer(),a=[],o=this;return this.getIssues(t+n+"0").then(function(s){a.push(i(s));for(var l=Math.ceil(s.total/s.maxResults)||1,u=1;u<l;u++){var d,c;!function(l){d=a.length>10?a[a.length-10]:e.resolve(),c=d.then(function(){if(!o.cancel(r))return o.getIssues(t+n+s.maxResults*l).then(i)}),a.push(c)}(u)}e.all(a).then(r.resolve,r.reject)},r.reject),r.promise},this.getNumericFields=function(){return this.allFields.filter(function(e){return e.schema&&"number"===e.schema.type}).map(function(e){return e.id})},this.getFields=function(){var t=this,i=e.defer();if(null==t.allFields){var n="/rest/api/2/field";l.request({url:n,dataType:"json",success:function(e){e=TimesheetUtils.getJson(e),t.allFields=e,t.allNumericFields=t.getNumericFields(),i.resolve(e)},error:function(){var e=Array.prototype.slice.call(arguments);e.push(n,i),t.onError.apply(t,e)}})}else i.resolve(t.allFields);return i.promise},this.getFilters=function(){var t=this,i=e.defer();if(null==t.allFilters){var n="/rest/api/2/filter/favourite";l.request({url:n,dataType:"json",success:function(e){e=TimesheetUtils.getJson(e),t.allFilters=e,i.resolve(e)},error:function(){var e=Array.prototype.slice.call(arguments);e.push(n,i),t.onError.apply(t,e)}})}else i.resolve(t.allFilters);return i.promise},this.getJiraConfiguration=function(){if(!this.jiraConfiguration){var t=e.defer();this.jiraConfiguration=t.promise;var i=this,n="/rest/api/2/configuration";l.request({url:n,dataType:"json",success:function(e){var i=TimesheetUtils.getJson(e);i.workingHoursPerDay=8,i.workingDaysPerWeek=5,i.defaultUnit="minute",i.timeFormat="",i.timeTrackingConfiguration&&(i.workingHoursPerDay=i.timeTrackingConfiguration.workingHoursPerDay||i.workingHoursPerDay,i.workingDaysPerWeek=i.timeTrackingConfiguration.workingDaysPerWeek||i.workingDaysPerWeek,i.defaultUnit=i.timeTrackingConfiguration.defaultUnit||i.defaultUnit,i.timeFormat=i.timeTrackingConfiguration.timeFormat||i.timeFormat),t.resolve(i)},error:function(){var e=Array.prototype.slice.call(arguments);e.push(n,t),i.onError.apply(i,e)}})}return this.jiraConfiguration.catch(function(){return{}})},this.getUserInfo=function(t){var i=e.defer();if(t){var n=this.getUserInfoPromises,r=n.length<10?0:n[n.length-10];n.push(i.promise);var a=this;e.when(r).then(function(){var e="/rest/api/2/user?expand=groups&accountId="+encodeURIComponent(t);l.request({url:e,dataType:"json",success:function(e){i.resolve(TimesheetUtils.getJson(e))},error:function(n){if(n&&404===n.status)i.resolve({accountId:t,groups:{items:[]}});else{var r=Array.prototype.slice.call(arguments);r.push(e,i),a.onError.apply(a,r)}}})})}else i.resolve({accountId:"",displayName:"",groups:{items:[]}});return i.promise},this.getMyself=function(){var t=e.defer(),i=this,n="/rest/api/2/myself?expand=groups";return l.request({url:n,dataType:"json",success:function(e){t.resolve(TimesheetUtils.getJson(e))},error:function(){var e=Array.prototype.slice.call(arguments);e.push(n,t),i.onError.apply(i,e)}}),t.promise},this.getIssues=function(t){var i=this,n=e.defer(),r="/rest/api/2/search?"+t;return l.request({retryCount:4,url:r,dataType:"json",success:function(e){e=TimesheetUtils.getJson(e),n.resolve(e)},error:function(){var e=Array.prototype.slice.call(arguments);e.push(r,n),i.onError.apply(i,e)}}),n.promise};var d=function(e){return'"'+e+'"'};this.getQuery=function(e,t){var i=this,n=1e3,r="IssuePassedTimeByStatus"===t.pivotTableType,a="TimeTracking"===t.pivotTableType,o="TimeBalance"===t.pivotTableType,s="IssuePassedTimeByResolution"===t.pivotTableType,l="project,issuetype,resolution,summary,priority,status,parent,issuelinks";a||r||s||(l+=",worklog",t.includeEmpty&&(n/=2)),l+=this.timeFieldsToAdd(t),this.initEpicLinkField(),this.epicLinkField&&(l+=","+this.epicLinkField.id),this.parentLinkField&&(l+=","+this.parentLinkField.id),(r||o||s)&&(l+=",created,creator,assignee");var u=this.getMoreFields(t);u.length>0&&(l+=","+u.join(",")),this.isProcessChildren(t)&&(l+=",subtasks"),t._fields=l;var c=(new TimesheetUtils.queryBuilder).addQuery("fields",l).addQuery("maxResults",n);("IssueWorkedTimeByStatus"===t.pivotTableType||r||o||s)&&c.addQuery("expand","changelog");var m=function(e){var t,n=function(i,n){e.dateFields.forEach(function(e){c.addQuery(e,i,n)}),t.addQueryBuilder(c)};if(e.sumSubTasks&&!a?(i.initMatches(e),t=new TimesheetUtils.queryBuilder(" and ")):t=TimesheetUtils.getSearchQueryBuilder(e),!e.includeEmpty&&e.startDate){var l=s?"resolution changed":r?"status changed":a||o?"updated":"worklogDate",u=r||s?" after ":" >= ",c=r||a||o||s?new TimesheetUtils.queryBuilder(" or "):t,m=i.addDays(e.startDate,r||a||o||s?0:-1);a||o?n(d(m)," >= "):c.addQuery(l,d(m),u),(r||s)&&(c.addQuery(l,d(m)," on "),c.addQuery("created",d(m)," >= "),t.addQueryBuilder(c))}if(!e.includeEmpty&&e.endDate){var l=s?"resolution changed":r?"status changed":a||o?"updated":"worklogDate",u=r||s?" before ":" < ",c=r||a||o||s?new TimesheetUtils.queryBuilder(" or "):t,p=i.addDays(e.endDate,1);a||o?n(d(p)," < "):c.addQuery(l,d(p),u),(r||s)&&(c.addQuery("created",d(p)," < "),t.addQueryBuilder(c))}var h=function(e){return e.replace('"',"\\u0022").replace("#","\\u0023").replace("$","\\u0024").replace("%","\\u0025").replace("*","\\u002a").replace("@","\\u0040").replace("^","\\u005e")},f=s?"resolution changed":r?"status changed":a?"assignee":"worklogAuthor",g=r||s?" by ":"=";if(!e.configOptions.tempoToken&&!e.includeEmpty&&e.username&&!o){var y=h(e.username),c=r||a||s?new TimesheetUtils.queryBuilder(" or "):t;c.addQuery(f,d(y),g),(r||a||s)&&(c.addQuery("reporter",d(y)),t.addQueryBuilder(c))}if(!e.includeEmpty&&e.groups&&!o){for(var v=new TimesheetUtils.queryBuilder(" or "),_=0;_<e.groups.length;_++){var g=r||s?" by ":" in ";v.addQueryWithFunc(f,d(h(e.groups[_])),g,"membersOf"),(r||a||s)&&v.addQueryWithFunc("reporter",d(h(e.groups[_]))," in ","membersOf")}t.addQueryBuilder(v)}return t}(t);if(!m.isEmpty()){var p=m.build();c.addQuery("jql",encodeURIComponent(p));var h=TimesheetUtils.getSearchQueryBuilder(t);t.jqlQuery=h.build()}return c.build()},this.timeFields=["timeoriginalestimate","timeestimate","timespent"],this.isProcessChildren=function(e){var t=this.getMoreFields(e);return e.sumSubTasks&&(["TimeTracking","TimeBalance"].indexOf(e.pivotTableType)>=0||TimesheetUtils.findOne(t,this.allNumericFields)||e.includeEmpty)&&(!e.groupByField||!this.isEpicField(e.groupByField)&&(!this.epicLinkField||this.epicLinkField.id!==e.groupByField)&&(!this.parentLinkField||this.parentLinkField.id!==e.groupByField))},this.processIssues=function(e,t,i,n){var r=[];for(var a in i.issues){var o=i.issues[a];["TimeTracking","IssuePassedTimeByStatus","IssuePassedTimeByResolution"].indexOf(t.pivotTableType)>=0&&(o.fields.worklog={total:0,maxResults:0,worklogs:[]});var s=this.processIssue(e,t,o);s.then(n),r.push(s)}return r},this.processIssue=function(t,i,n){var r=e.defer(),a=this;if(i.sumSubTasks){var o=function(e){if(t.queue.hasOwnProperty(n.key)){var i=t.queue[n.key];return i.promise.$$state&&i.promise.$$state.status||i.resolve(n),i.promise}return e&&(t.queue[n.key]=e),n},s=this.getParentIssue(t,n,i);if(s.hasOwnProperty("promise")){var l=o();e.when(l).then(function(n){var o=a.loadAllChangelogs(n,i).promise,l=a.loadAllWorklogs(n,e.defer(),i).promise;e.all([l,o]).then(function(e){var n=e[0];a.addWorklogsToParent(t,n,r,i,s)})})}else{var l=o(r);e.when(l).then(function(e){e?a.addOnceIfMatches(t,e,i).then(function(){r.resolve(e)}):r.resovle()})}}else{var u=[];if("parent"===i.groupByField){var d=this.getParentIssue(t,n,i);if(d.hasOwnProperty("promise")){var c=e.defer();u.push(c.promise),a.resolveParent(t,n,c,i,d)}else n.fields.parent=n}else this.getEpicFields(t,n,i,u);var s=this.loadAllWorklogs(n,null,i);s.hasOwnProperty("promise")&&u.push(s.promise);var m=this.loadAllChangelogs(n,i);m.hasOwnProperty("promise")&&u.push(m.promise),e.all(u).then(function(){a.addIssue(t,n),r.resolve(n)})}return r.promise},this.addIssue=function(e,t){this.allIssues.push(t),e.add(t)},this.getParentIssue=function(e,t,i){var n=this.getParentIssueKey(t,i);return n?this.getIssueByKey(e,n,i):t},this.getIssueByKey=function(t,i,n){var r=this;if(t.queue.hasOwnProperty(i))return t.queue[i];var a=e.defer();return t.queue[i]=a,r.findIssueByKey(i,n,a),a},this.getParentIssueKey=function(e,t){var i=t.configOptions;if(e.fields.parent)return e.fields.parent.key;if(i&&i.parentIssueField&&e.fields[i.parentIssueField])return e.fields[i.parentIssueField];if(this.parentLinkField&&e.fields[this.parentLinkField.id]&&i.parentIssueType){var n=e.fields[this.parentLinkField.id];return"object"===(void 0===n?"undefined":_typeof(n))?n.data?n.data.key:null:n}return i&&i.compositionIssueLink?this.getCompositionLinkKey(e,i):null},this.getCompositionLinkKey=function(e,t){var i=e.fields.issuelinks;if(null!=i&&i.length>0)for(var n=0;n<i.length;n++)if(i[n].outwardIssue&&i[n].type.name===t.compositionIssueLink)return i[n].outwardIssue.key;return null},this.resolveParent=function(e,t,i,n,r){this.onParentIssue(e,t,n,r,[],function(e){t.fields.parent=e||t,i.resolve()})},this.initMatches=function(t){if(!this.matches){var i=TimesheetUtils.getSearchQueryBuilder(t),n=i.build();if(n&&(t.jql||t.filterIds.length>0)){var r="fields=~&maxResults=1000&jql="+encodeURIComponent(n);this.matchIssueIds=[],this.matches=this.onAllIssues(r,function(e){for(var t in e.issues){var i=e.issues[t];this.matchIssueIds.push(i.id)}}.bind(this)),this.matches.catch(function(){})}else{var a=e.defer();this.matches=a.promise,a.resolve(),delete this.matchIssueIds}}},this.processChildren=function(t,i,n,r){if(!this.isProcessChildren(n))return null;if(!(r.indexOf(i.key)<0))return null;r.push(i.key);var a=[],o=this,s=null,l=null,u=n.moreFields&&angular.isArray(n.moreFields)?n.moreFields.join(",")+",":"";if(TimesheetUtils.isIssueEpic(i)&&(this.epicLinkField||i.fields.project.simplified)){var c=new TimesheetUtils.queryBuilder(" and ");n.childrenFilterId&&c.addQuery("filter",n.childrenFilterId),i.fields.project.simplified?c.addQuery("parent",i.key):c.addQuery(d(this.epicLinkField.clauseNames[0]),i.key);var m=c.build();if(m.length){var p="fields=project,issuetype,resolution,summary,priority,status,parent,issuelinks,timeoriginalestimate,timeestimate,timespent,"+u+this.epicLinkField.id+(this.parentLinkField?","+this.parentLinkField.id:"")+",subtasks&maxResults=1000&jql="+encodeURIComponent(m),h=e.defer();s=h.promise;var f=[];o.onAllIssues(p,function(e){e.issues.forEach(function(e){e.fields.worklog={total:0,maxResults:0,worklogs:[]};var a=o.processChildren(t,e,n,r);a?(f.push(a),a.then(function(){o.addWorklogs(e,i,n)})):o.addWorklogs(e,i,n)})}).then(function(){e.all(f).then(h.resolve)})}}else if(i.fields.issuetype.id===n.configOptions.parentIssueType&&this.parentLinkField){var c=new TimesheetUtils.queryBuilder(" and ");n.childrenFilterId&&c.addQuery("filter",n.childrenFilterId),c.addQuery(d(this.parentLinkField.clauseNames[0]),i.key);var m=c.build();if(m.length){var p="fields=project,issuetype,resolution,summary,priority,status,parent,issuelinks,timeoriginalestimate,timeestimate,timespent,"+u+(this.epicLinkField?this.epicLinkField.id+",":"")+this.parentLinkField.id+",subtasks&maxResults=1000&jql="+encodeURIComponent(m),g=e.defer();l=g.promise;var y=[],v=o.onAllIssues(p,function(e){e.issues.forEach(function(e){e.fields.worklog={total:0,maxResults:0,worklogs:[]};var a=o.processChildren(t,e,n,r);a&&(y.push(a),a.then(function(){o.addWorklogs(e,i,n)}))})});v.then(function(){e.all(y).then(g.resolve)})}}for(var _ in i.fields.subtasks){var w=i.fields.subtasks[_];a.push(w.key)}var T=i.fields.issuelinks,b=n.configOptions;if(null!=T&&T.length>0&&b.compositionIssueLink)for(var _=0;_<T.length;_++)if(T[_].inwardIssue&&T[_].type.name===b.compositionIssueLink){var w=T[_].inwardIssue;a.push(w.key)}if(a.length>0){var k=e.defer();if(a.length>0){var S=new TimesheetUtils.queryBuilder(" and ");n.childrenFilterId&&S.addQuery("filter",n.childrenFilterId),S.addQuery("key","("+a.join()+")"," in ");var A=S.build(),p="fields=project,issuetype,resolution,summary,priority,status,parent,issuelinks,timeoriginalestimate,timeestimate,"+u+"timespent&maxResults=1000&jql="+encodeURIComponent(A),D=[s||l];o.onAllIssues(p,function(e){e.issues.forEach(function(e){e.fields.worklog={total:0,maxResults:0,worklogs:[]};var a=o.processChildren(t,e,n,r);a?(D.push(a),a.then(function(){o.addWorklogs(e,i,n)})):o.addWorklogs(e,i,n)})}).then(function(){e.all(D).then(k.resolve)})}else k.resolve();return k.promise}return s||l},this.checkIfMatches=function(e,t){return this.matches||this.initMatches(t),this.matches.then(function(){var i=null==this.matchIssueIds;return i=i&&(null==t.projectKeys||!t.projectKeys.length||t.projectKeys.indexOf(e.fields.project.key)>=0),i=i||null!=this.matchIssueIds&&this.matchIssueIds.indexOf(e.id)>=0}.bind(this))},this.addOnceIfMatches=function(t,i,n){var r=this,a=t.matches[i.key];return a||(a=t.matches[i.key]=e.defer(),this.checkIfMatches(i,n).then(function(o){if(o){var s=[];r.getEpicFields(t,i,n,s);var l=r.processChildren(t,i,n,[]);s.push(l),e.all(s).then(function(){var o=r.loadAllWorklogs(i,null,n).promise,s=r.loadAllChangelogs(i,n).promise;e.all([o,s]).then(function(){t.queueToAdd.push(i),a.resolve(i)})})}else a.resolve()}).catch(function(){a.resolve()})),a.promise},this.addWorklogsToParent=function(e,t,i,n,r){var a=this;return this.onParentIssue(e,t,n,r,[],function(r){r||(r=t),a.addOnceIfMatches(e,r,n).then(function(e){e&&t.key!==r.key&&a.addWorklogs(t,r,n),i.resolve()})}),i.promise},this.onParentIssue=function(e,t,i,n,a,o){var s=this;return n.promise.then(function(n){if(n)if(a.indexOf(n.key)>=0)r.debug("Cycle summing subtasks for issue "+t.key,a),o();else{a.push(n.key);var l=s.getParentIssue(e,n,i);if(l.hasOwnProperty("promise"))return s.onParentIssue(e,t,i,l,a,o);o(n)}else r.debug("Parent issue for "+t.key+" is not visible"),o(t)})},this.addWorklogs=function(e,t,i){var n=e.worklog||e.fields.worklog,r=t.worklog||t.fields.worklog;for(var a in n.worklogs)delete e.worklog,delete e.fields.worklog,n.worklogs[a]._issue=e,r.worklogs.push(n.worklogs[a]);t._subTaskIds||(t._subTaskIds=[],t._subTasks=[]);var o=parseInt(e.id);if(!(t._subTaskIds.indexOf(o)>=0||(t._subTaskIds.push(o),t._subTasks.push(e),e._subTasks&&(t._subTasks=t._subTasks.concat(e._subTasks)),e._subTaskIds&&(t._subTaskIds=t._subTaskIds.concat(e._subTaskIds)),["TimeTracking","TimeBalance"].indexOf(i.pivotTableType)>=0||i.includeEmpty)))for(var s in e.fields){var l=e.fields[s];l&&"number"==typeof l&&(t.fields[s]=(t.fields[s]||0)+l)}},this.restrictedByAuditorsGroups=function(t){var i=e.defer();return a.getConfiguration().then(function(e){var n=e.auditorsGroups.val,r=null!=n;if(r)for(var a=0;a<t.groups.items.length&&r;a++)r=n.indexOf(t.groups.items[a].name)<0;i.resolve(r)}),i.promise},this.restrictedByAuditorsRoles=function(e,t){var i=e.fields.project.key;if(!this.$restrictedProjects.hasOwnProperty(i)){var r="/api/restricted/"+i+"?roles="+t+"&_="+Date.now();this.$restrictedProjects[i]=n.get(r).then(function(t){return t.data&&this.restrictedProjects.push(e.fields.project.key),t.data}.bind(this)).catch(function(){this.restrictedProjects.push(e.fields.project.key)}.bind(this))}return this.$restrictedProjects[i]},this.getPermissions=function(t){if(!this.permissions.hasOwnProperty(t)){var i=e.defer();this.permissions[t]=i.promise;var n=this.getPermissionsPromises,r=n.length<10?0:n[n.length-10];n.push(i.promise);var a=this;e.when(r).then(function(){l.request({url:"/rest/api/2/mypermissions"+t,dataType:"json",success:function(e){e=TimesheetUtils.getJson(e),i.resolve(e.permissions)},error:function(){var e=Array.prototype.slice.call(arguments);e.push(t,i),a.onError.apply(a,e)}})})}return this.permissions[t]},this.havePermissions=function(e){var t="?permissions="+e.join(",")+(arguments.length>1?"&":"")+[].slice.call(arguments,1).join("&");return this.getPermissions(t).then(function(t){for(var i=[],n=0;n<e.length;n++)i.push(null!=t[e[n]]&&t[e[n]].havePermission);return i})},this.isAdministrator=function(){return this.havePermissions(["ADMINISTER"]).then(function(e){return e[0]})},this.isProjectAdmin=function(e){return this.havePermissions(["ADMINISTER_PROJECTS"],"projectKey="+e).then(function(e){return e[0]})},this.findIssueByKey=function(t,i,n){var r=this.findIssueByKeyPromises,a=r.length<10?0:r[r.length-10];n||(n=e.defer()),r.push(n.promise);var o=this;return e.when(a).then(function(){if(!n.promise.$$state||!n.promise.$$state.status){var e="/rest/api/2/issue/"+t+"?fields="+i._fields;["IssueWorkedTimeByStatus","IssuePassedTimeByStatus","TimeBalance","IssueTimeBalance","IssuePassedTimeByResolution"].indexOf(i.pivotTableType)>=0&&(e+="&expand=changelog"),l.request({retryCount:4,url:e,dataType:"json",success:function(e){var t=TimesheetUtils.getJson(e);t.fields&&!t.fields.worklog&&(t.fields.worklog={total:0,maxResults:0,worklogs:[]}),n.resolve(t)},error:function(t){if(t&&[403,404].indexOf(t.status)>=0)n.resolve();else{var i=Array.prototype.slice.call(arguments);i.push(e,n),o.onError.apply(o,i)}}})}}),n.promise},this.getIssueWorklogPaginated=function(t,i,n,r){var a=e.defer(),o=this.issueWorklogPromises,s=o.length<10?0:o[o.length-10];return o.push(a.promise),e.when(s).then(function(){l.request({retryCount:4,url:"/rest/api/2/issue/"+t+"/worklog?maxResults="+n+"&startAt="+i+"&startedAfter="+r,dataType:"json",success:function(e){a.resolve(TimesheetUtils.getJson(e))},error:function(){a.reject()}})}),a.promise},this.getIssueWorklog=function(t,i,n){if(this.cacheWorklog){var a=window.localStorage.getItem("i"+i);if(a)return this.updateCacheExpiry(function(e){e[i]=r._}),e.resolve(TimesheetUtils.getJson(LZString.decompressFromUTF16(a)))}var s=this;return this.getIssueWorklogPaginated(t,0,1e3,n).then(function(i){if(!i)return i;for(var r=[],a=1;a<i.total/i.maxResults;a++)r.push(s.getIssueWorklogPaginated(t,a*i.maxResults,i.maxResults,n));return e.all(r).then(function(e){return e.reduce(function(e,t){return Array.prototype.push.apply(e.worklogs,t.worklogs),e},i)})}).then(function(e){if(s.cacheWorklog)try{window.localStorage.setItem("i"+i,LZString.compressToUTF16(JSON.stringify(e))),e.worklogs.forEach(function(e){window.localStorage.setItem("w"+e.id,i)}),s.updateCacheExpiry(function(e){e[i]=r._})}catch(e){o.log("cache is full",i,e)}return e})},this.filterWorklogs=function(t,i,n){var r=[],a=this,o=t.worklog||t.fields.worklog;if(o.worklogs&&o.worklogs.length>0&&angular.forEach(o.worklogs,function(e){var t=TimesheetUtils.getTags(e.comment);if(t&&t.length>0&&angular.forEach(t,function(e){a.workLabels[e]?a.workLabels[e]++:a.workLabels[e]=1}),a.groups||a.excludeGroups||a.needUserInfos){var i=e.author&&e.author.accountId||"";if(a.userGroups.hasOwnProperty(i))a.userGroups[i].$$state&&a.userGroups[i].$$state.status?n.configOptions.tempoToken&&a.userGroups[i].then(function(t){e.author=t}):r.push(a.userGroups[i]);else{var o=a.userGroups[i]=a.getUserInfo(i);r.push(o),o.then(function(t){a.initWorklogAuthors(t),n.configOptions.tempoToken&&(e.author=t)})}}}),n.configOptions.auditorsRoles){var s=a.restrictedByAuditorsRoles(t,n.configOptions.auditorsRoles);r.push(s)}if(!r.length&&!i)return t;var i=i||e.defer();return e.all(r).then(function(){i.resolve(t)}),i},this.initAuthors=function(e,t){if(t&&t.groups&&(!this.username||t.accountId===this.username)){if(this.excludeGroups)for(var i=0;i<t.groups.items.length;i++)if(this.excludeGroups.indexOf(t.groups.items[i].name)>=0)return;if(this.needUserInfos&&(this.groups&&(t.groups.items=t.groups.items.filter(function(e){return this.groups.indexOf(e.name)>=0}.bind(this))),this.userInfos[t.accountId]=t),this.groups){for(var i=0;i<t.groups.items.length;i++)if(this.groups.indexOf(t.groups.items[i].name)>=0){this[e].push(t.accountId);break}}else this.excludeGroups&&this[e].push(t.accountId)}},this.initWorklogAuthors=function(e){this.initAuthors("worklogAuthors",e)},this.loadAllWorklogs=function(t,i,r,a){var o=this,s=t.worklog||t.fields.worklog;if(s||(s=t.fields.worklog={total:1,maxResults:0,worklogs:[]}),r.configOptions.tempoToken){var l=i||e.defer(),u="/api/tempo/issueWorklogs?token="+r.configOptions.tempoToken+"&issueKey="+t.key+"&from="+TimesheetUtils.formatDateForSearch(r.startDate)+"&to="+TimesheetUtils.formatDateForSearch(r.endDate)+"&_="+Date.now();return n.get(u).then(function(e){t.worklog?t.worklog=e.data:t.fields.worklog.worklogs=e.data,a?l.resolve(t):o.filterWorklogs(t,l,r)}).catch(function(e){o.onError(e,null,e.data,null,l)}),l}if(s.total>s.maxResults){var l=i||e.defer(),d=function(e){angular.copy(e,t.worklog||t.fields.worklog),a?l.resolve(t):o.filterWorklogs(t,l,r)};return this.getIssueWorklog(t.key,t.id,moment(r.startDate).unix()-1).then(d,l.reject),l}return a?t:this.filterWorklogs(t,i,r)},this.filterChangelogs=function(t,i){var n=[],r=this,a=t.changelog;return a.histories&&a.histories.length>0&&angular.forEach(a.histories,function(e){if(r.groups||r.excludeGroups||r.needUserInfos){var t=e.author&&e.author.accountId||"";if(r.userGroups.hasOwnProperty(t))r.userGroups[t].$$state&&r.userGroups[t].$$state.status||n.push(r.userGroups[t]);else{var i=r.userGroups[t]=r.getUserInfo(t);n.push(i),i.then(r.initChangelogAuthors.bind(r))}}}),n.length||i?(i=i||e.defer(),e.all(n).then(function(){i.resolve(t)}),i):t},this.initChangelogAuthors=function(e){this.initAuthors("changelogAuthors",e)},this.getIssueChangelog=function(t,i,n){var r=e.defer(),a=this,o=n||"/rest/api/2/issue/"+t.key+"/changelog?startAt="+i;return l.request({retryCount:4,url:o,dataType:"json",success:function(e){var i=TimesheetUtils.getJson(e);i.values||r.reject(),Array.prototype.push.apply(t.changelog.histories,i.values),i.isLast?r.resolve(t):a.getIssueChangelog(t,i.startAt+i.maxResults,i.nextPage).then(r.resolve,r.reject)},error:function(){var e=Array.prototype.slice.call(arguments);e.push(o,r),a.onError.apply(a,e)}}),r.promise},this.loadAllChangelogs=function(t,i){var n=this,r=t.changelog;if(!r)return{};var a=e.defer();if(r.total>r.maxResults){var o=function(e){return n.filterChangelogs(t,a,i),e},s=this,l=this.issueChangelogPromises,u=l.length<10?0:l[l.length-10];l.push(a.promise),r.histories.length>1&&r.histories[0].created>r.histories[1].created&&(r.histories.splice(0,r.histories.length),r.maxResults=0),e.when(u).then(function(){s.getIssueChangelog(t,r.maxResults).then(o,a.reject)})}else this.filterChangelogs(t,a,i),TimesheetUtils.sortByProperty(r.histories,"created");return a},this.timeFieldsToAdd=function(e){return["TimeTracking","TimeBalance"].indexOf(e.pivotTableType)>=0||this.isTimeTrackingColumnsInMoreFields(e.moreFields)?","+this.timeFields.join(","):""},this.isTimeTrackingColumnsInMoreFields=function(e){return e&&angular.isArray(e)&&TimesheetUtils.findByCondition(function(e){return 0===e.indexOf("timetracking")},e)},this.getMoreFields=function(e){var t=e.moreFields&&angular.isArray(e.moreFields)?e.moreFields.slice():[];return e.groupByField&&t.unshift(e.groupByField),e.categorizeByField&&t.unshift(e.categorizeByField),e.orderByField&&t.unshift(e.orderByField),this.isTimeTrackingColumnsInMoreFields(t)&&Array.prototype.push.apply(t,this.timeFields.filter(function(e){return t.indexOf(e)<0})),t},this.getEpicFields=function(e,t,i,n){this.getMoreFields(i).forEach(function(r){if(this.isEpicField(r)){var a=this.getEpic(e,t,i);a?(n.push(a),a.then(function(e){e&&(t.fields[r]=e.fields[r]||(this.epicFieldsMap.hasOwnProperty(r)?e.fields[this.epicFieldsMap[r]]:null))}.bind(this))):TimesheetUtils.isIssueEpic(t)&&!t.fields[r]&&this.epicFieldsMap.hasOwnProperty(r)&&(t.fields[r]=t.fields[this.epicFieldsMap[r]])}}.bind(this))},this.findCustomField=function(e){return TimesheetUtils.findByCondition(function(t){return t.custom&&t.schema&&t.schema.custom===e},s.allFields)||{}},this.isEpicField=function(e){if(!this.epicFields.hasOwnProperty(e)){for(var t=0;t<this.allFields.length;t++){var i=this.allFields[t];if(i.id===e)return this.epicFields[e]=i.custom&&i.schema&&["com.pyxis.greenhopper.jira:gh-epic-color","com.pyxis.greenhopper.jira:jsw-issue-color","com.pyxis.greenhopper.jira:gh-epic-status","com.pyxis.greenhopper.jira:gh-epic-label"].indexOf(i.schema.custom)>=0,this.epicFields[e]&&!this.epicFieldsMap.hasOwnProperty(e)&&("com.pyxis.greenhopper.jira:gh-epic-label"===i.schema.custom?this.epicFieldsMap[e]="summary":"com.pyxis.greenhopper.jira:gh-epic-status"===i.schema.custom?this.epicFieldsMap[e]="status":"com.pyxis.greenhopper.jira:jsw-issue-color"===i.schema.custom?this.epicFieldsMap[e]=this.findCustomField("com.pyxis.greenhopper.jira:gh-epic-color").id:"com.pyxis.greenhopper.jira:gh-epic-color"===i.schema.custom&&(this.epicFieldsMap[e]=this.findCustomField("com.pyxis.greenhopper.jira:jsw-issue-color").id)),this.epicFields[e]}this.epicFields[e]=!1}return this.epicFields[e]},this.initEpicLinkField=function(){if(!this.hasOwnProperty("epicLinkField")){this.epicLinkField=null;for(var e=0;e<this.allFields.length;e++){var t=this.allFields[e];if(t.custom&&null!=t.schema&&("com.pyxis.greenhopper.jira:gh-epic-link"===t.schema.custom?this.epicLinkField=t:"com.atlassian.jpo:jpo-custom-field-parent"===t.schema.custom&&(this.parentLinkField=t),this.epicLinkField&&this.parentLinkField))break}}},this.getEpic=function(t,i,n){if(!this.epicLinkField)return null;var r=this.getParentIssue(t,i,n);if(r.hasOwnProperty("promise")){var a=e.defer(),o=this;return this.onParentIssue(t,i,n,r,[],function(e){e&&TimesheetUtils.isIssueEpic(e)?a.resolve(e):e&&e.fields[o.epicLinkField.id]?o.getIssueByKey(t,e.fields[o.epicLinkField.id],n).promise.then(a.resolve):a.resolve()}),a.promise}return i.fields[this.epicLinkField.id]?this.getIssueByKey(t,i.fields[this.epicLinkField.id],n).promise:null},
this.onError=function(e,t,i,n,r){e&&401===e.status?this.loginExpired():e&&[500,502,503,504].indexOf(e.status)>=0?this.serviceUnavailable():e&&403===e.status?this.forbidden():i=this.unexpectedError(e,i,n),r.reject(i||"Unexpected error")},this.loginExpired=function(){l.flag.create({title:"Jira session expired",body:"Please login again to restore connection with Jira",type:"error"})},this.serviceUnavailable=function(){l.flag.create({title:"Jira Unavailable",body:"The requested resource failed to load. If the problem persists, please contact Atlassian Cloud Support.",type:"error"})},this.forbidden=function(){l.flag.create({title:"Forbidden",body:"You need to accept WRITE and DELETE scopes for the app in UPM",type:"error"})},this.unexpectedError=function(e,t,i){var n="";if(e&&(e.responseText||e.body))try{var r=TimesheetUtils.getJson(e.responseText||e.body);n=r.errorMessages?r.errorMessages.join(" "):"Unknown",r.errors&&(n+="\n"+JSON.stringify(r.errors)),r.status=e.status}catch(t){n=i+" "+e.status+" "+function(e){var t=document.createElement("DIV");return t.innerHTML=e,t.textContent||t.innerText||""}(e.responseText||e.body)}else n=t;return l.flag.create({title:"Unexpected error",body:n,type:"error"}),n},this.getGadgetConfiguration=function(t,i){var n=e.defer();return l.request({url:"/rest/api/2/dashboard/"+t+"/items/"+i+"/properties",success:function(e){e=TimesheetUtils.getJson(e),e.keys.length>0?l.request({url:"/rest/api/2/dashboard/"+t+"/items/"+i+"/properties/gadgetConfig",success:function(e){e=TimesheetUtils.getJson(e).value,n.resolve(e)},error:function(){n.resolve({})}}):n.resolve({})},error:function(){n.resolve({})}}),n.promise},this.saveGadgetConfiguration=function(t,i,n){var r=e.defer();return l.request({url:"/rest/api/2/dashboard/"+t+"/items/"+i+"/properties/gadgetConfig",type:"PUT",contentType:"application/json",headers:{Accept:"application/json"},data:JSON.stringify(n),success:function(e){r.resolve(TimesheetUtils.getJson(e))},error:function(){r.reject()}}),r.promise},this.saveWorklog=function(e,t,i){return e.id?this.updateWorklog(e):this.createWorklog(e,t,i)},this.createWorklog=function(t,i,r){for(var a,o,s=e.defer(),u=this,d=this.getEstimateParams(t,"reduceBy"),c="/rest/api/2/issue/"+t.issueKey+"/worklog"+d,m=[],p=TimesheetUtils.getTimeSpents(t.timeSpent,r),h=t.date,f=0;f<p.length;f++){if(a=angular.copy(t),a.timeSpent=p[f],0===h.getHours()&&0===h.getMinutes()){var g=Math.min(TimesheetUtils.getCurrentTimeMs(),60*(i.workingTimeInStatus.from||9)*60*1e3);o=Math.max(g,TimesheetUtils.getCurrentTimeMs()-TimesheetUtils.getTimeSpentMs(a.timeSpent,r))}else o=0;a.date=new Date(h.getTime()+o),m.push(function(t){var i=e.defer();return u.createWorklogPromise=u.createWorklogPromise.then(function(){var e=u.getCreateWorklogRequest(t);t.user?n.post("/logWork",{url:c,json:JSON.parse(e),user:t.user.accountId}).then(function(e){var t=e.data;if(200!==e.status)throw Error();u.removeWorklogFromCache(t),i.resolve(t)}).catch(function(e){i.reject(),l.flag.create({title:"Unexpected error",body:e&&JSON.stringify(e.data||e)||"Can not log work.",type:"error"})}):l.request({url:c,type:"POST",contentType:"application/json",headers:{Accept:"application/json"},data:e,success:function(e){e=TimesheetUtils.getJson(e),u.removeWorklogFromCache(e),i.resolve(e)},error:function(){var e=Array.prototype.slice.call(arguments);e.push(c,i),u.onError.apply(u,e)}})}),i.promise}(a));do{h=TimesheetUtils.addDays(h,-1)}while(TimesheetUtils.isWeekend(h,i))}return e.all(m).then(s.resolve,s.reject),s.promise},this.getWorklog=function(t,i){var n=e.defer(),r=this,a="/rest/api/2/issue/"+t+"/worklog/"+i;return l.request({url:a,type:"GET",contentType:"application/json",headers:{Accept:"application/json"},success:function(e){n.resolve(TimesheetUtils.getJson(e))},error:function(){var e=Array.prototype.slice.call(arguments);e.push(a,n),r.onError.apply(r,e)}}),n.promise},this.updateWorklog=function(t){var i=e.defer(),n=this,r=this.getEstimateParams(t),a="/rest/api/2/issue/"+t.issueKey+"/worklog/"+t.id+r;return l.request({url:a,type:"PUT",contentType:"application/json",headers:{Accept:"application/json"},data:n.getUpdateWorklogRequest(t),success:function(e){n.removeWorklogFromCache(t),i.resolve(TimesheetUtils.getJson(e))},error:function(){var e=Array.prototype.slice.call(arguments);e.push(a,i),n.onError.apply(n,e)}}),i.promise},this.deleteWorklog=function(t){var i=e.defer(),n=this,r=this.getEstimateParams(t,"increaseBy"),a="/rest/api/2/issue/"+t.issueKey+"/worklog/"+t.id+r;return l.request({url:a,type:"DELETE",contentType:"application/json",success:function(){n.removeWorklogFromCache(t),i.resolve(!0)},error:function(){var e=Array.prototype.slice.call(arguments);e.push(a,i),n.onError.apply(n,e)}}),i.promise},this.canLogWorkForUser=function(e){return n.get("/canLogWork?accountId="+e).then(function(e){return 200===e.status&&e.data}).catch(function(){return!1})},this.getEstimateParams=function(e,t){var i="?adjustEstimate="+(e.estimateType||"auto");return"new"===e.estimateType?i+="&newEstimate="+encodeURIComponent(e.estimateValue):"manual"===e.estimateType&&(i+="&"+t+"="+encodeURIComponent(e.adjustmentAmount)),i},this.getCreateWorklogRequest=function(e){return JSON.stringify({comment:e.comment,started:TimesheetUtils.formatDate(e.date),timeSpent:TimesheetUtils.convertTimeSpent(e.timeSpent),visibility:e.visibilityGroup?{type:"group",value:e.visibilityGroup}:e.visibilityRole?{type:"role",value:e.visibilityRole}:null})},this.getUpdateWorklogRequest=function(e){return JSON.stringify({comment:e.comment,started:e.started,timeSpent:TimesheetUtils.convertTimeSpent(e.timeSpent),visibility:e.visibilityGroup?{type:"group",value:e.visibilityGroup}:e.visibilityRole?{type:"role",value:e.visibilityRole}:null})},this.onDeletedWorklogs=function(t,i){var n=e.defer(),r=this,a="/rest/api/2/worklog/deleted?since="+t;return l.request({url:a,type:"GET",contentType:"application/json",success:function(e){var t=TimesheetUtils.getJson(e);i(t),t.lastPage?n.resolve(t.until+1):r.onDeletedWorklogs(t.until,i).then(n.resolve)},error:function(){var e=Array.prototype.slice.call(arguments);e.push(a,n),r.onError.apply(r,e)}}),n.promise},this.onUpdatedWorklogs=function(t,i){var n=e.defer(),r=this,a="/rest/api/2/worklog/updated?since="+t;return l.request({url:a,type:"GET",contentType:"application/json",success:function(e){i(TimesheetUtils.getJson(e)).then(function(e){e.lastPage?n.resolve(e.until+1):r.onOutdatedWorklogs(e.until,i).then(n.resolve)})},error:function(){var e=Array.prototype.slice.call(arguments);e.push(a,n),r.onError.apply(r,e)}}),n.promise},this.onWorklogs=function(t,i){var n=t.values.map(function(e){return e.worklogId});if(!n.length)return e.resolve(t);var r=e.defer(),a=this,o="/rest/api/2/worklog/list";return l.request({url:o,type:"POST",contentType:"application/json",data:JSON.stringify({ids:n}),success:function(e){i(TimesheetUtils.getJson(e)),r.resolve(t)},error:function(){var e=Array.prototype.slice.call(arguments);e.push(o,r),a.onError.apply(a,e)}}),r.promise},this.removeWorklogFromCache=function(e){if(this.cacheWorklog)try{var t=e.issueId||window.localStorage.getItem("w"+e.worklogId),i=window.localStorage.getItem("i"+t);if(i){TimesheetUtils.getJson(LZString.decompressFromUTF16(i)).worklogs.forEach(function(e){window.localStorage.removeItem("w"+e.id)}),window.localStorage.removeItem("i"+t),this.updateCacheExpiry(function(e){delete e[t]})}else(e.id||e.worklogId)&&window.localStorage.removeItem("w"+(e.id||e.worklogId))}catch(t){o.log("Failed to remove worklog "+(e.id||e.worklogId||"for issue "+e.issueId)+" from cache",t)}};this.updateCacheExpiry=function(e){try{var t=TimesheetUtils.getJson(window.localStorage.getItem("cacheExpiry"))||{};e(t),window.localStorage.setItem("cacheExpiry",JSON.stringify(t))}catch(e){o.log("Failed to update cache expiry",e)}},this.clearWorklogCache=function(t){if(this.cacheWorklog=t.cacheWorklog&&t.cacheWorklog.val,this.cacheWorklog&&!this.allIssues)try{var i=window.localStorage.getItem("cacheId"),n=r.baseUrl+"#0";i!==n&&(window.localStorage.clear(),window.localStorage.setItem("cacheId",n));var a,s=this,l=window.localStorage.getItem("updatedSince"),u=window.localStorage.getItem("deletedSince"),d=Date.now()-36e5;a=l?this.onUpdatedWorklogs(parseInt(l),function(e){return s.onWorklogs(e,function(e){e.forEach(s.removeWorklogFromCache.bind(s))})}):e.resolve(d);var c;return c=u?this.onDeletedWorklogs(parseInt(u),function(e){e.values.forEach(s.removeWorklogFromCache.bind(s))}):e.resolve(d),e.all([a,c]).then(function(e){window.localStorage.setItem("updatedSince",e[0]),window.localStorage.setItem("deletedSince",e[1])})}catch(e){o.log("Failed to clear worklog cache",e)}},this.expireWorklogCache=function(){if(this.cacheWorklog){var e=TimesheetUtils.getJson(window.localStorage.getItem("cacheExpiry"));if(e)for(var t in e)r._-e[t]>6048e5&&this.removeWorklogFromCache({issueId:t})}},this.resetState=function(){delete this.epicLinkField,delete this.parentLinkField,this.allIssues=null,this.allFilters=null,this.allProjects=null,this.allFields=null,this.allNumericFields=null,this.filterOrProjectId=null,this.childrenFilterId=null,this.sumSubTasks=null,this.includeEmpty=null,this.permissions={},this.jiraConfiguration=null},this.checkAndUpdateOptions=function(t){var i=this.getMoreFields(t),n=["IssueWorkedTimeByStatus","IssuePassedTimeByStatus","TimeBalance","IssuePassedTimeByResolution"],r=["TimeTracking","IssuePassedTimeByStatus","TimeBalance","IssuePassedTimeByResolution"],a=null==this.allIssues||!angular.equals(this.filterOrProjectId,t.filterOrProjectId)||this.childrenFilterId!==t.childrenFilterId||this.sumSubTasks!==t.sumSubTasks||this.includeEmpty!==t.includeEmpty||!angular.equals(this.startDate,t.startDate)||!angular.equals(this.endDate,t.endDate)||this.username!==t.username||this.groups!==t.groups||this.excludeGroups!==t.excludeGroups||"TimeTracking"===this.pivotTableType&&this.timeTrackingColumns!==t.timeTrackingColumns||"TimeBalance"===this.pivotTableType&&this.timeBalanceColumns!==t.timeBalanceColumns||"IssuePassedTimeByStatus"===this.pivotTableType&&this.timeInStatusCategories!==t.timeInStatusCategories||n.indexOf(this.pivotTableType)<0&&n.indexOf(t.pivotTableType)>=0||r.indexOf(this.pivotTableType)>=0&&r.indexOf(t.pivotTableType)<=0||n.indexOf(this.pivotTableType)>=0&&this.pivotTableType!==t.pivotTableType||!angular.equals(this.moreFields,i)||u(this)!==u(t);return a&&(this.allIssues=[],this.filterOrProjectId=angular.copy(t.filterOrProjectId),this.childrenFilterId=t.childrenFilterId,this.sumSubTasks=t.sumSubTasks,this.includeEmpty=t.includeEmpty,this.startDate=t.startDate,this.endDate=t.endDate,this.username=t.username,this.groups=t.groups,this.excludeGroups=t.excludeGroups,this.groupByField=t.groupByField,this.categorizeByField=t.categorizeByField,this.configOptions=t.configOptions,this.userGroups={},TimesheetUtils.clearObject(this.userInfos),"TimeTracking"===this.pivotTableType?this.timeTrackingColumns=t.timeTrackingColumns:"TimeBalance"===this.pivotTableType?this.timeBalanceColumns=t.timeBalanceColumns:"IssuePassedTimeByStatus"===this.pivotTableType&&(this.timeInStatusCategories=t.timeInStatusCategories),this.worklogAuthors.splice(0,this.worklogAuthors.length),this.changelogAuthors.splice(0,this.changelogAuthors.length),this.matches=null,this.pivotTableType=t.pivotTableType,this.moreFields=i,this.issueWorklogPromises.splice(0,this.issueWorklogPromises.length),this.issueChangelogPromises.splice(0,this.issueChangelogPromises.length),this.findIssueByKeyPromises.splice(0,this.findIssueByKeyPromises.length),this.getPermissionsPromises.splice(0,this.getPermissionsPromises.length),this.onAllIssuesPromises.splice(0,this.onAllIssuesPromises.length),this.createWorklogPromise=e.resolve(),this.getUserInfoPromises.splice(0,this.getUserInfoPromises.length),this.$restrictedProjects={},this.restrictedProjects.splice(0,this.restrictedProjects.length)),a},this.addDays=function(e,t){if(!e)return e;var i=TimesheetUtils.addDays(new Date(e),t);return TimesheetUtils.formatDateForSearch(i)},this.sendNow=function(e){return n.post("/sendNow",e)}}]),app.service("trackingService",["$q","applicationLoggingService","configurationService","dataService","loggedInUser",function(e,t,i,n,r){var a=this;e.all([n.getAppProperties(),n.getServerInfo(),r]).then(function(e){var t=e[0],n=e[1],r=new UAParser(navigator.userAgent),o=n.baseUrl.match(/https:\/\/(.+?)\./)[1];Avo.initAvo({env:["timereports","avelytchenko"].indexOf(o)>=0?"dev":"prod",webDebugger:!1,strict:!1},{appVersion:t.version||"1",instanceUuid:n.scmInfo,baseUrl:n.baseUrl,jiraSen:t.supportEntitlementNumber,webBrowser:r.getBrowser().name||"unknown",webBrowserVersion:r.getBrowser().version||"unknown",operatingSystem:r.getOS().name||"unknown",operatingSystemVersion:r.getOS().version||"unknown"});var s=e[2];i.getUserConfiguration(s).then(function(e){a.track("identifiedUser",{userId_:s.accountId,id:s.accountId,userTimezone:s.timeZone,userContinent:s.timeZone&&s.timeZone.split("/")[0],userLocale:s.locale,jiraAdministrator:s.isAdministrator,weekendType:e.weekendType.val,reportingDayDefaultValue:e.reportingDay.val,durationTypeDefaultValue:e.durationType.val,maximumFractionDigits:e.maxFractionDigits.val,durationTypeForExport:e.durationTypeForExport.val,startedTimeInStatus:e.startedTimeInStatus.val,inProgressIssuesJql:e.inProgressIssuesJql.val,showDetailsCount:e.showDetailsCount.val,showCategoryRow:e.showCategoryRow.val,showTotalInFront:e.showTotalInFront.val,tempoToken:e.tempoToken.val,workingTimeInStatusFrom:e.workingTimeInStatus.val&&e.workingTimeInStatus.val.from,workingTimeInStatusTo:e.workingTimeInStatus.val&&e.workingTimeInStatus.val.to})})}),this.track=function(e,i){if(Avo[e])try{Avo[e](i)}catch(e){t.error("Avo Error",e)}else t.debug("Unsupported event",e)}}]),app.service("validationService",[function(){this.validate=function(e){var t=[];return t=t.concat(this.validateDates(e.startDate.value,e.endDate.value))},this.validateDates=function(e,t){var i=[];return null!=e&&(moment(e).isAfter(moment())?i.push("error.startDate.afterNow"):null!=t&&moment(e).isAfter(moment(t))&&i.push("error.startDate.afterEnd")),i}}]),app.service("viewService",["$q","$http","dataService",function(e,t,i){var n=function(e){return"views4"+e.accountId};this.data={allViews:[],currentView:{}},this.updateCurrentView=function(e){if(this.data.currentView.viewId!==e){var t=this.findById(e,this.data.allViews);t&&angular.copy(t,this.data.currentView)}},this.getViews=function(t,n){var r=e.defer(),a=this;return this.data.allViews.length?(a.updateCurrentView(t),r.resolve(a.data.allViews)):i.getProperty("views4",n,[]).then(function(e){[].push.apply(a.data.allViews,e),a.updateCurrentView(t),r.resolve(a.data.allViews)}),r.promise},this.addView=function(t,r){var a=e.defer(),o=this;return i.getProperty("views4",r,[]).then(function(e){var s=e.length>0?e[e.length-1]:{viewId:0},l=angular.copy(t);l.viewId=s.viewId+1,e.push(l),i.setProperty(n(r),e).then(function(){o.data.allViews.push(l),angular.copy(l,o.data.currentView),a.resolve(o.data.currentView)})}),a.promise},this.updateView=function(t,r){var a=e.defer(),o=this;return i.getProperty("views4",r,[]).then(function(e){var s=o.indexById(t.viewId,e),l=angular.copy(t);e[s]=l,i.setProperty(n(r),e).then(function(){var e=o.indexById(t.viewId,o.data.allViews);o.data.allViews.splice(e,1,l),angular.equals(t,o.data.currentView)||angular.copy(t,o.data.currentView),a.resolve(o.data.currentView)})}),a.promise},this.removeView=function(t,r){var a=e.defer(),o=this,s=t.viewId;return i.getProperty("views4",r,[]).then(function(e){var t=o.indexById(s,e);e.splice(t,1),i.setProperty(n(r),e).then(function(){var e=o.indexById(s,o.data.allViews);o.data.allViews.splice(e,1),angular.copy({},o.data.currentView),a.resolve(o.data.allViews)})}),a.promise},this.indexById=function(e,t){return TimesheetUtils.indexByProperty("viewId",e,t)},this.findById=function(e,t){return TimesheetUtils.findByProperty("viewId",e,t)},this.resetState=function(){this.data.allViews.splice(0,this.data.allViews.length),TimesheetUtils.clearObject(this.data.currentView)}}]),Promise.all([new Promise(function(e){AP.getLocation(e)}),new Promise(function(e){AP.context.getContext(e)}),new Promise(function(e){AP.user.getLocale(e)})]).then(function(e){var t=e[0],i=e[1];window.loggedInUserLocale=e[2];var n=t.match(/^(https?\:\/\/[^:\/?#]*(\:[0-9]+)?)([^?#]*)(\?[^#]*)?(#.*)?$/),r=function(e,t){var i=new RegExp("\\W"+e+"=([^&]+)").exec(window.location.search),n=i?i[1]:t||"";return decodeURIComponent(n)},a=n[1];if(window.loggerUrl){var o=window.b="?_="+function(){for(var e=document.getElementsByTagName("script"),t=0;t<e.length;t+=1){var i,n=e[t],r=n.getAttribute("src");if(r&&(i=r.match(/\/(all|app)\.js\?([0-9a-f]+)/)))return i[2]}return 1}(),s=r("configuration"),l=r("welcome"),u=r("issuetimebalance"),d=i.jira&&i.jira.dashboard?i.jira.dashboard.id:null,c=i.jira&&i.jira.dashboardItem?i.jira.dashboardItem.id:null,m=i.jira&&i.jira.issue?i.jira.issue.key:null,p=i.jira&&i.jira.issue?i.jira.issue.id:null,h=i.jira&&i.jira.project?i.jira.project.key:null,f=!!d||!!m,g=r("dialog"),y=i.license&&i.license.active?"active":"none",v=r("v","1");"1"===v&&delete window.mailerUrl;var _={isGadget:f,dashboardId:d,dashboardItemId:c,issueKey:m,issueId:p,license:y,hostBaseUrl:a,projectKey:h};if(u&&(_.issueTimeBalance=!0),"none"===_.license){["timereports","avelytchenko"].indexOf(a.match(/https:\/\/(.+?)\./)[1])>=0&&(_.license="active")}if("3"===v&&"active"===_.license&&(_.subscribe=!0,window.isTimesheet=!0),"3"===v?(_.appKey="jira-timesheet-plugin",_.appName="Timesheet Reports and Gadgets",_.appNameShort="Timesheet",_.sitePrimeTimesheet="cloud"):(_.appKey="timereports",_.appName="Time Reports",_.appNameShort="Time Reports",_.sitePrimeTimesheet="timereports"),l)window.mainController="WelcomeController",window.mainTemplate="/templates/mainShort.html"+o,_.templates={welcome:"/templates/welcome.html"+o},_.isWelcome=!0;else if(s)window.mainController="ConfigurationController",window.mainTemplate="/templates/mainShort.html"+o,_.templates={menu:"/templates/configMenu.html"+o,configure:"/templates/configure.html"+o};else if(g)switch(g){case"timereports":window.mainController="TimesheetController",window.mainTemplate="/templates/main.html"+o,_.isGadget=!0,_.reportDialog=!0,_.templates={menu:"/templates/menu.html"+o};break;case"bitbucket":window.mainController="BitbucketController",window.mainTemplate="/templates/dialogs/bitbucket.html"+o;break;case"createworklog":window.mainController="TimesheetController",window.mainTemplate="/templates/main.html"+o,_.createWorklog=!0,_.isGadget=!0,_.issueKey=m,_.templates={}}else window.mainController="TimesheetController",window.mainTemplate="/templates/main.html"+o,_.templates={header:"/templates/header.html"+o,menu:"/templates/menu.html"+o,reportSummary:"/templates/reportSummary.html"+o,pivottable:"/templates/pivottable.html"+o,piechart:"/templates/pieChart.html"+o,timesheet:"/templates/timesheet.html"+o,issuetimebalance:"/templates/issuetimebalance.html"+o,issuetime:"/templates/issuetime.html"+o,calendar:"/templates/calendar.html"+o,addWorklog:"/templates/popups/addWorklog.html"+o,editWorklog:"/templates/popups/editWorklog.html"+o,subscribe:"/templates/popups/subscribe.html"+o,gadgetConfig:"/templates/gadgetConfig.html"+o,userPreferences:"/templates/dialogs/userPreferences.html"+o,hourlyRates:"/templates/dialogs/hourlyRates.html"+o};window.i18nDefault="/i18n/default.json"+o,g&&AP.dialog.getButton("submit").disable(),$(function(){AP.requestBak=AP.request;var e;AP.getLocation(function(t){e=t}),AP.request=function(t){var i=t.success,n=t.error;t.success=function(r,a,o){!r&&o&&0===o.status?(t.success=i,t.error=n,setTimeout(function(){AP.request(t)},100),window.loggerUrl&&$.ajax({type:"POST",url:window.loggerUrl,headers:{Authorization:"JWT "+window.atlToken},contentType:"application/json",data:angular.toJson({url:e,message:a,type:"AP.request Error R14",deployedDate:window.deployedDate})})):i(r)},t.error=function(e,r,a){e&&[429,500,502,503,504].indexOf(e.status)>=0&&t.retryCount>0?(t.success=i,t.error=n,t.retryCount--,setTimeout(function(){AP.request(t)},100*(10-t.retryCount))):n&&n(e,r,a)},AP.requestBak(t)},$("body").css("background","#fff"),f||g?$("body").addClass("is-gadget"):$("body").addClass("is-not-gadget"),l&&$("body").addClass("is-welcome"),$("#content").html("<context items='"+JSON.stringify(_)+"' />"),angular.bootstrap(document,["timesheetApp"])})}});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TimesheetUtils={};TimesheetUtils.dateTimeFormat="YYYY-MM-DD HH:mm:ss",TimesheetUtils.dateFormat="YYYY-MM-DD",TimesheetUtils.getLastMondayDate=function(e){return TimesheetUtils.getPrevMonday(new Date,e)},TimesheetUtils.getPrevMonday=function(e,t){return TimesheetUtils.getNearestDayOfTheWeek(e,t,-1)},TimesheetUtils.getNextSunday=function(e,t){return TimesheetUtils.getNearestDayOfTheWeek(e,(t+6)%7,1)},TimesheetUtils.getNearestDayOfTheWeek=function(e,t,i){if((t=t||0)<0)return i<0?moment(e).startOf("day").add(-6,"days").toDate():TimesheetUtils.truncateTime(e);for(t>6&&(t%=7);e.getDay()!==t;)e=TimesheetUtils.addDays(e,i);return TimesheetUtils.truncateTime(e)},TimesheetUtils.getFirstDayOfTheMonth=function(e){return null==e&&(e=new Date),TimesheetUtils.truncateTime(moment(e).startOf("month").toDate())},TimesheetUtils.getLastDayOfTheMonth=function(e){return null==e&&(e=new Date),TimesheetUtils.truncateTime(moment(e).endOf("month").toDate())},TimesheetUtils.truncateTime=function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())},TimesheetUtils.truncateMinutes=function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours())},TimesheetUtils.convertDate=function(e,t){if(t){var i=moment.tz(e,t).format().replace(/[+-]\d\d:?\d\d$/,"");return moment(i).toDate()}return moment(e).toDate()},TimesheetUtils.getTimezoneOffsetBak=function(e){function t(e,t){for(var i=""+e;i.length<t;)i="0"+i;return i}var i=moment(e).toDate(),n=i.getTime();if(TimesheetUtils.timezoneOffset){if(void 0!==TimesheetUtils.timezoneOffset[n])return TimesheetUtils.timezoneOffset[n]}else TimesheetUtils.timezoneOffset={};var r=i.getTimezoneOffset();return TimesheetUtils.timezoneOffset[n]=(r<0?"+":"-")+t(parseInt(Math.abs(r/60)),2)+t(Math.abs(r%60),2),TimesheetUtils.timezoneOffset[n]},TimesheetUtils.addTime=function(e,t,i){return moment(e).add(t,i).toDate()},TimesheetUtils.addDays=function(e,t){return TimesheetUtils.addTime(e,t,"days")},TimesheetUtils.addWeeks=function(e,t){return TimesheetUtils.addTime(e,t,"weeks")},TimesheetUtils.addMonths=function(e,t,i){var n=moment(e),r=i&&moment(n).endOf("month").isSame(n,"day");return n.add(t,"months"),r&&n.endOf("month"),n.toDate()},TimesheetUtils.addHours=function(e,t){return TimesheetUtils.addTime(e,t,"hours")},TimesheetUtils.sameDay=function(e,t){return e&&t&&e.getDate()===t.getDate()&&e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()};var isoDateRegex=/^\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(([+-][0-2]\d:?[0-5]\d)|Z)$/;TimesheetUtils.isDate=function(e){return"string"==typeof e&&null!=e.match(isoDateRegex)},TimesheetUtils.isAfterDate=function(e,t){return e.getTime()>t.getTime()};var uuid=new RegExp(/[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i);TimesheetUtils.isUuid=function(e){return uuid.test(e)},TimesheetUtils.colspan=function(e){if(null!=e){var t=e.rows,i=Object.keys(t);if(i.length>0){var n=t[i[0]].rowKey;if(n.issue||n.field)return 5}}return 1},TimesheetUtils.getWeekNumber=function(e){return moment(e).week()},TimesheetUtils.getMonthKey=function(e){return moment(e).format("YYYY-MM")},TimesheetUtils.getNormalizedWeekNumber=function(e){var t=TimesheetUtils.getWeekNumber(e);return TimesheetUtils.normalizeNumber(t)},TimesheetUtils.normalizeNumber=function(e){return(e<10?"0":"")+e},TimesheetUtils.formatDate=function(e){return moment(e).toJSON().replace("Z","+0000")},TimesheetUtils.getHoursForDay=function(e){var t=[],i=e.startDate,n=e.endDate;if(i.getTime()<=n.getTime())for(var r=new Date;i.getHours()!==n.getHours();){var a=i.getHours()===r.getHours();t.push({date:i,isToday:a}),i=TimesheetUtils.addHours(i,1)}return t},TimesheetUtils.isWeekend=function(e,t){return(t&&t.weekendType?t.weekendType:"60").indexOf(e.getDay().toString())>=0},TimesheetUtils.getWorkingDays=function(e,t,i){var n=0,r=new Date(Math.max(moment(t),moment(e.startDate))),a=new Date(Math.min(moment(i),moment(e.endDate)));if(r.getTime()<=a.getTime())for(a=TimesheetUtils.addDays(a,1);!TimesheetUtils.sameDay(r,a);)n+=TimesheetUtils.isWeekend(r,e.configOptions)?0:1,r=TimesheetUtils.addDays(r,1);return n},TimesheetUtils.getDatesForWeek=function(e){var t=[],i=e.startDate,n=e.endDate;if(i.getTime()<=n.getTime())for(n=TimesheetUtils.addDays(n,1);!TimesheetUtils.sameDay(i,n);){var r=TimesheetUtils.sameDay(i,TimesheetUtils.truncateTime(new Date)),a=TimesheetUtils.isWeekend(i,e.configOptions);t.push({date:i,isToday:r,isWeekend:a,workingDays:a?0:1}),i=TimesheetUtils.addDays(i,1)}return t},TimesheetUtils.getWeeksForMonth=function(e){for(var t=[],i=TimesheetUtils.getPrevMonday(e.startDate,e.reportingDay),n=TimesheetUtils.getNextSunday(e.endDate,e.reportingDay),r=TimesheetUtils.getNormalizedWeekNumber(new Date),a=i;a.getTime()<=n.getTime();){var o=TimesheetUtils.addDays(a,7),s=TimesheetUtils.getNormalizedWeekNumber(a);t.push({week:"Week "+s,date:a,isToday:s===r&&a.getFullYear()===(new Date).getFullYear(),workingDays:TimesheetUtils.getWorkingDays(e,a,TimesheetUtils.addDays(o,-1))}),a=o}return t.length>0&&(t[0].firstDate=e.startDate,t[t.length-1].lastDate=e.endDate),t},TimesheetUtils.getMonthForYear=function(e){for(var t=[],i=TimesheetUtils.getFirstDayOfTheMonth(e.startDate),n=TimesheetUtils.getLastDayOfTheMonth(e.endDate),r=TimesheetUtils.getMonthKey(new Date),a=i;a.getTime()<=n.getTime();){var o=TimesheetUtils.addMonths(a,1),s=TimesheetUtils.getMonthKey(a);t.push({month:moment.months()[s],date:a,isToday:s===r&&a.getFullYear()===(new Date).getFullYear(),workingDays:TimesheetUtils.getWorkingDays(e,a,TimesheetUtils.addDays(o,-1))}),a=o}return t},TimesheetUtils.changeDate=function(e,t,i,n,r){return i&&null==e?null:(null==e&&(e=n?TimesheetUtils.getFirstDayOfTheMonth():TimesheetUtils.getLastMondayDate(r)),e=n?TimesheetUtils.addMonths(e,t,n):TimesheetUtils.addDays(e,t),TimesheetUtils.formatDateForSearch(e))},TimesheetUtils.formatDateForSearch=function(e){return e.getFullYear()+"-"+TimesheetUtils.normalizeNumber(e.getMonth()+1)+"-"+TimesheetUtils.normalizeNumber(e.getDate())};var schemaTypes=["number","string","project","issuetype","securitylevel","resolution","user","priority","status","datetime","date","option","option-with-child","account","json","component","version","issuelinks","sd-customerorganization"];if(TimesheetUtils.filterFields=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];null!=n.schema&&(schemaTypes.indexOf(n.schema.type)>=0||"array"===n.schema.type&&schemaTypes.indexOf(n.schema.items)>=0||["com.atlassian.jpo:jpo-custom-field-parent","com.pyxis.greenhopper.jira:gh-epic-link","com.pyxis.greenhopper.jira:gh-lexo-rank","com.atlassian.servicedesk:vp-origin"].indexOf(n.schema.custom)>=0)&&t.push(n)}return t},TimesheetUtils.sortByProperty=function(e,t,i,n){var r=!i||-1;return e.sort(function(e,i){return n?r*n(e[t],i[t]):"string"==typeof e[t]?r*e[t].localeCompare(i[t]):r*(e[t]-i[t])})},TimesheetUtils.getJson=function(e){return"string"==typeof e&&(e=e?JSON.parse(e):{}),e},TimesheetUtils.makeUISelectList=function(e,t){var i=function(e){return{id:e,label:e}},n=[];t&&n.push(i(""));for(var r=0;r<e.length;r++)n.push(i(e[r]));return n},TimesheetUtils.convertHoursToFormat24=function(e,t){return t?(e+12)%24:e},TimesheetUtils.convertHoursToFormat12=function(e){return e>12||0===e?{hour:Math.abs(e-12),pm:!0}:{hour:e,pm:!1}},TimesheetUtils.getCurrentTimeMs=function(){var e=new Date;return 1e3*(60*e.getHours()*60+60*e.getMinutes())},TimesheetUtils.convertTimeSpent=function(e){return/^[0-9]?[0-9]:[0-5][0-9]$/.test(e)?e.replace(":","h ")+"m":e},TimesheetUtils.getTimeSpentMs=function(e,t){if(!e)return 0;for(var i=TimesheetUtils.convertTimeSpent(e).split(" "),n=0,r=0;r<i.length;r++)n+=function(e){var i=t.defaultUnit,n=0;if(isNaN(e)){var r=e.match(/(\d*\.?\d+)([a-zA-Z]*)/);r&&(n=parseFloat(r[1]),i=r[2])}else n=parseFloat(e);var a=36e5*t.workingHoursPerDay,o=t.workingDaysPerWeek*a;switch(i){case"w":case"week":return n*o;case"d":case"day":return n*a;case"h":case"hour":return 36e5*n;case"m":case"minute":return 6e4*n;case"s":return 1e3*n}}(i[r]);return n},TimesheetUtils.isLongerOneDay=function(e,t){if(!e||e.match(/[wd]/))return!1;for(var i=TimesheetUtils.convertTimeSpent(e).split(" "),n=0,r=0;r<i.length;r++)n+=function(e){var i=t.defaultUnit,n=0;if(isNaN(e)){var r=e.match(/(\d*\.?\d+)([a-zA-Z]*)/);r&&(n=parseFloat(r[1]),i=r[2])}else n=parseFloat(e);switch(i){case"h":case"hour":return 60*n;case"m":case"minute":return n}}(i[r]);return n>60*t.workingHoursPerDay},TimesheetUtils.getTimeSpents=function(e,t){if(!e)return[];for(var i=TimesheetUtils.convertTimeSpent(e).split(" "),n={days:0,mins:0},r=0;r<i.length;r++)!function(e,i){var n=t.defaultUnit,r=0;if(isNaN(e)){var a=e.match(/(\d*\.?\d+)([a-zA-Z]*)/);a&&(r=parseFloat(a[1]),n=a[2])}else r=parseFloat(e);var o=t.workingDaysPerWeek;switch(n){case"w":case"week":return void(i.days+=r*o);case"d":case"day":return void(i.days+=r);case"h":case"hour":return void(i.mins+=60*r);case"m":case"minute":i.mins+=r}}(i[r],n);for(var a=[];n.days>0;){var o=Math.min(n.days,1);a.unshift(o+"d"),n.days-=o}return n.mins&&a.unshift(n.mins+"m"),a},TimesheetUtils.getPredefinedJql=function(e){switch(e){case 0:return"sprint in openSprints()";case-1:return"assignee = currentUser() and resolution = Unresolved";case-2:return"reporter = currentUser()";case-3:return"issuekey in issueHistory()";case-4:return"";case-5:return"resolution = Unresolved";case-6:return"created >= -1w";case-7:return"resolutiondate >= -1w";case-8:return"updated >= -1w";case-9:return"statusCategory = Done";default:AP.flag.create({title:"Unsupported predefined filter",body:"Filter "+e+" is not known",type:"error"})}},TimesheetUtils.getSearchQueryBuilder=function(e){var t=function(e,t){var i=null;if(e.filterOrProjectId){var n=Array.isArray(e.filterOrProjectId)?e.filterOrProjectId:e.filterOrProjectId.split(",");i=[];for(var r=0;r<n.length;r++)0===n[r].indexOf(t)&&i.push(n[r].split(t)[1])}return i},i=function(e,t){for(var i=new TimesheetUtils.queryBuilder(" or "),n=0;n<t.length;n++)i.addQuery(e,'"'+t[n]+'"');return i},n=t(e,"filter_"),r=t(e,"project_"),a="string"==typeof e.jql,o=t(e,"jql_");n||r||a||o||!e.projectKey||(r=[e.projectKey]),e.projectKeys=r,e.filterIds=n||o;var s=new TimesheetUtils.queryBuilder(" and ");if(e.jql&&s.addStatement("("+e.jql+")"),n&&n.length>0&&(1===n.length?s.addQuery("filter",n[0]):s.addQueryBuilder(i("filter",n))),r&&r.length>0&&(1===r.length?s.addQuery("project",'"'+r[0]+'"'):s.addQueryBuilder(i("project",r))),o&&o.length>0){var l=new TimesheetUtils.queryBuilder(" or ");o.map(function(e){return TimesheetUtils.getPredefinedJql(-e)}).filter(Boolean).forEach(function(e){l.addStatement("("+e+")")}),l.isEmpty()||s.addQueryBuilder(l)}return s},TimesheetUtils.queryBuilder=function(e){var t=[];e=e||"&",this.addStatement=function(e){return t.push(e),this},this.addQuery=function(e,t,i){return i=i||"=",t&&this.addStatement(e+i+t),this},this.addQueryWithFunc=function(e,t,i,n){this.addQuery(e,n+"("+t+")",i)},this.addQueryBuilder=function(e){this.addStatement("("+e.build()+")")},this.build=function(){return this.isEmpty()?"":t.join(e)},this.isEmpty=function(){return null==t||0===t.length}},TimesheetUtils.closeDialogFunctions={submit:function(){AP.Dialog.close("submit")},cancel:function(){AP.Dialog.close("cancel")}},TimesheetUtils.normalizeObject=function(e,t){return TimesheetUtils.doWithObject(e,function(i,n){
(null==n||t&&(""===n||n===[]||!1===n))&&delete e[i]})},TimesheetUtils.unwrapBoolObjects=function(e){return TimesheetUtils.doWithObject(e,function(t,i){angular.isObject(i)&&1===Object.keys(i).length&&i.hasOwnProperty("enabled")&&(e[t]=i.enabled)})},TimesheetUtils.doWithObject=function(e,t){for(var i in e)t(i,e[i]);return e},TimesheetUtils.getPerformance=function(){var e="undefined"!=typeof window&&window.performance||Date;return e.now||(e.now=Date.now),e},TimesheetUtils.parseParams=function(e){var t={},i=e.split("&");if(i)for(var n=0;n<i.length;n++)if(i[n]){var r=i[n].split("=");if(2===r.length){var a=r[0],o=function(e){return-1!==["true","false"].indexOf(e)?"true"===e:$.isNumeric(e)?parseFloat(e):decodeURIComponent(e.replace(/\+/g," "))}(r[1]);if(-1!==Object.keys(t).indexOf(a))if(Array.isArray(t[a]))t[a].push(o);else{var s=t[a];t[a]=[s,o]}else t[a]=o}}return t},TimesheetUtils.wrapIntoArray=function(e){return e&&!Array.isArray(e)?[e]:e},TimesheetUtils.findOne=function(e,t){return t.some(function(t){return e.indexOf(t)>=0})},TimesheetUtils.indexByProperty=function(e,t,i){for(var n=0;n<i.length;n++)if(t==i[n][e])return n;return-1},TimesheetUtils.findByProperty=function(e,t,i){for(var n=0;n<i.length;n++)if(t==i[n][e])return i[n];return null},TimesheetUtils.findByCondition=function(e,t){for(var i=0;i<t.length;i++)if(e(t[i]))return t[i];return null},TimesheetUtils.replaceAll=function(e,t,i){return e.split(t).join(i)},TimesheetUtils.repeat=function(e,t){if(String.prototype.repeat)return e.repeat(t);for(var i="",n=0;n<t;n++)i+=e;return i},TimesheetUtils.objectValues=function(e){return Object.keys(e).map(function(t){return e[t]})},TimesheetUtils.uniqueArray=function(e){for(var t=e.concat(),i=0;i<t.length;i++)for(var n=i+1;n<t.length;n++)t[i]===t[n]&&t.splice(n--,1);return t},TimesheetUtils.getTags=function(e){var t=[];if(e){var i=(" "+e).match(/\s#\S*/g);i&&i.length>0&&i.forEach(function(e){t.push(e.substring(2))})}return t},TimesheetUtils.screenshot=function(e){try{html2canvas(document.body,{onrendered:function(t){try{t.msToBlob?e(t.msToBlob()):t.toBlob(e,"image/png")}catch(t){e(null,t)}}})}catch(t){e(null,t)}},TimesheetUtils.isCurrentWeek=function(e,t){if(!e||!t)return!1;var i=moment(),n=moment(e),r=moment(t),a=moment(e).add(8,"days");return(i.isBetween(n,r,"days")||i.isSame(n,"days")||i.isSame(r,"days"))&&a.isAfter(r,"days")},TimesheetUtils.getOrCreate=function(e,t,i,n){var r=e[t.keyValue];return null==r&&(r=new i(t),n&&n.apply(r),e[t.keyValue]=r),r},TimesheetUtils.clone=function(e,t,i){return Array.isArray(e)?TimesheetUtils.cloneArray(e,t||[],i||new Map):null!=e&&"object"===(void 0===e?"undefined":_typeof(e))?TimesheetUtils.cloneObject(e,t||[],i||new Map):e},TimesheetUtils.cloneObject=function(e,t,i){if([Boolean,Number,String,Date].indexOf(e.constructor)<0){var n=i.get(e);if(n)return n.push(t.slice()),{$ref:n[0]};n=[t],i.set(e,n);var r=Object.create(Object.getPrototypeOf(e));if(Object.keys(e).forEach(function(n){t.push(n),r[n]=TimesheetUtils.clone(e[n],t,i),t.pop()}),i.delete(e),n[0]===t)for(var a=1;a<n.length;a++){for(var o=n[a],s=r,l=t.length;l<o.length-1;l++)s=s[o[l]];s[o[l]]=r}return r}return new e.constructor(e.valueOf())},TimesheetUtils.cloneArray=function(e,t,i){for(var n=[],r=0;r<e.length;r++)n.push(TimesheetUtils.clone(e[r],t,i));return n},TimesheetUtils.FIELDS={WORKED_USER_FIELD:{id:"workeduser",name:"Worked User",custom:!0,schema:{},clauseNames:[]},WORKED_USER_GROUP_FIELD:{id:"workedusergroup",name:"Worked User Group",custom:!0,schema:{},clauseNames:[]},WORKED_DATE_FIELD:{id:"workeddate",name:"Worked Date",custom:!0,schema:{},clauseNames:[]},WORK_CREATED_FIELD:{id:"workcreated",name:"Work Created",custom:!0,schema:{},clauseNames:[]},COMMENT_FIRSTWORD_FIELD:{id:"commentfirstword",name:"Comment Firstword",custom:!0,schema:{},clauseNames:[]},ISSUE_FIELD:{id:"issue",name:"Issue itself",custom:!0,schema:{},clauseNames:[]},PARENT_ISSUE_FIELD:{id:"parent",name:"Parent Issue",custom:!0,schema:{},clauseNames:[]},WORK_LABEL_FIELD:{id:"worklabel",name:"Work Label/s",custom:!0,schema:{},clauseNames:[]},PROJECT_CATEGORY_FIELD:{id:"projectcategory",name:"Project Category",custom:!0,schema:{},clauseNames:[]},TIME_TRACKING_PROGRESS_FIELD:{id:"timetrackingprogress",name:"Time Tracking",custom:!0,schema:{},clauseNames:[]},TIME_TRACKING_ESTIMATE_FIELD:{id:"timetrackingestimate",name:"Estimate",custom:!0,schema:{},clauseNames:[]},TIME_TRACKING_VARIANCE_FIELD:{id:"timetrackingvariance",name:"Variance",custom:!0,schema:{},clauseNames:[]},TIME_TRACKING_ORIGINAL_ESTIMATE_REMAINING_FIELD:{id:"timetrackingoriginalestimateremaining",name:"Original Estimate Remaining",custom:!0,schema:{},clauseNames:[]},WORKED_WEEK_FIELD:{id:"workedweek",name:"Worked Week",custom:!0,schema:{},clauseNames:[]}},TimesheetUtils.validateParams=function(e){var t=[];if(e.pivotTableType&&Object.keys(PivotTableType).indexOf(e.pivotTableType)<0&&t.push("Unknown PivotTableType: "+e.pivotTableType),e.pivotTableType&&["TimeEntry","Calendar","PieChart"].indexOf(e.pivotTableType)>=0&&t.push("Not supported PivotTableType: "+e.pivotTableType),e.filterOrProjectId)for(var i=TimesheetUtils.wrapIntoArray(e.filterOrProjectId),n=0;n<i.length;n++)0!==i[n].indexOf("project_")&&0!==i[n].indexOf("filter_")&&t.push("Unknown filterOrProjectId: "+i[n]);e.numOfWeeks&&parseInt(e.numOfWeeks)!==+e.numOfWeeks&&t.push("numOfWeeks should be Integer"),e.reportingDay&&(parseInt(e.reportingDay)!==+e.reportingDay||e.reportingDay>6||e.reportingDay<-1)&&t.push("reportingDay should be -1..6"),e.offset&&parseInt(e.offset)!==+e.offset&&t.push("offset should be Integer");var r=e.startDate||e.start;!r||/^\d{4}-\d{2}-\d{2}$/.test(r)&&!isNaN(Date.parse(r))||t.push("startDate should be date in YYYY-MM-DD format");var a=e.endDate||e.end;return!a||/^\d{4}-\d{2}-\d{2}$/.test(a)&&!isNaN(Date.parse(a))||t.push("endDate should be date in YYYY-MM-DD format"),e.sum&&["day","week","month"].indexOf(e.sum)<0&&t.push('sum should be in ["day", "week", "month"]'),e.view&&["day","week","month"].indexOf(e.view)<0&&t.push('view should be in ["day", "week", "month"]'),t.length?t:null},TimesheetUtils.clearObject=function(e){for(var t=Object.keys(e),i=0;i<t.length;i++)delete e[t[i]]},TimesheetUtils.showPeriodLocked=function(e){AP.flag.create({title:"Configuration",body:"Log Work allowed from "+moment(e).format(TimesheetUtils.dateFormat),type:"error",close:"auto"})},TimesheetUtils.getFirstLogWorkStarted=function(e,t,i,n){e=moment(e).toDate();for(var r=TimesheetUtils.getTimeSpents(t,i),a=1;a<r.length;a++)do{e=TimesheetUtils.addDays(e,-1)}while(a===r.length||TimesheetUtils.isWeekend(e,n));return e},TimesheetUtils.mapLogWorkToStarted=function(e,t,i,n){e=moment(e).startOf("day").toDate();for(var r={},a=TimesheetUtils.getTimeSpents(t,i),o=!1,s=0;s<a.length;s++)do{o||(r[e]=TimesheetUtils.getTimeSpentMs(a[s],i)/1e3),e=TimesheetUtils.addDays(e,-1),o=TimesheetUtils.isWeekend(e,n)}while(o);return r},TimesheetUtils.isIssueEpic=function(e){return["에픽","Эпик","Eposz","Episk","Epika","Epik","Épico","长篇故事","エピック","Eepos","Epos","Epic"].indexOf(e.fields.issuetype.name)>=0},TimesheetUtils.moreFieldsForExport=function(e,t,i){var n,r=function(e,i){-1===t.indexOf(i.id)&&-1===e.indexOf(i)&&e.push(i)},a=function(e){return TimesheetUtils.findByProperty("id",e,i)||{id:e,name:e}},o=[];if(angular.isArray(e.moreFields))for(var s=0;s<e.moreFields.length;s++){var l=e.moreFields[s];n=a(l),r(o,n)}else e.moreFields&&(n=a(e.moreFields),r(o,n));return e.groupByField&&(n=a(e.groupByField),r(o,n)),e.groupByField&&e.categorizeByField&&(n=a(e.categorizeByField),r(o,n)),o},"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports){module.exports=TimesheetUtils;var moment=require("moment-timezone"),PivotTableType=require("./app/pivottable/PivotTableType")}
//# sourceMappingURL=app.js.map
